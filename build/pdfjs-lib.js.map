{"version":3,"file":"pdfjs-lib.js","mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;;;ACVA;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AAEA,IAAMI,WAAW,GAAG,EAApB;AAEO,IAAMC,WAAb;AAAA;;AAAA;;AAAA,+BACQL,kBADR;;AAAA,kCAGW;AACPC,IAAAA,sBAAsB,EAAtBA,4CADO;AAEPC,IAAAA,uBAAuB,EAAvBA,6CAFO;AAGPC,IAAAA,gBAAgB,EAAhBA,sCAAgBA;AAHT,GAHX;;AAAA,uCAcgB,YAAiB;AAAA,QAAhBG,MAAgB,uEAAP,EAAO;;AAC7B,QAAIA,MAAM,CAACC,GAAP,IAAc,IAAlB,EAAwB;AACtB,YAAM,IAAIC,KAAJ,CAAU,+BAAV,CAAN;AACD,KAFD,MAEO,IAAI,CAACJ,WAAW,CAACE,MAAM,CAACC,GAAR,CAAhB,EAA8B;AACnCH,MAAAA,WAAW,CAACE,MAAM,CAACC,GAAR,CAAX,GAA0B,KAAI,CAACE,oBAAL,CAA0BH,MAA1B,CAA1B;AACD;;AAED,WAAOF,WAAW,CAACE,MAAM,CAACC,GAAR,CAAlB;AACD,GAtBH;;AAAA,gDA6ByB,UAACD,MAAD,EAAY;AACjC,QAAQI,UAAR,GAAiDJ,MAAjD,CAAQI,UAAR;AAAA,QAAoBC,UAApB,GAAiDL,MAAjD,CAAoBK,UAApB;AAAA,QAAmCC,SAAnC,4BAAiDN,MAAjD;;AACA,QAAMC,GAAG,GAAGK,SAAS,CAACL,GAAtB;AACA,WAAO,IAAIM,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCC,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BL,SAAS,CAACL,GAAzC,EADsC,CAEtC;;AACA,UAAIA,GAAG,CAACW,OAAJ,CAAY,WAAZ,MAA6B,CAAC,CAAlC,EAAqC;AACnClB,QAAAA,+BAAA,GAAwB,IAAxB;AACAA,QAAAA,gCAAA,GAAyB,IAAzB;AACAA,QAAAA,yCAAA,GAAkC,IAAlC;AACD;;AACD,UAAMsB,WAAW,GAAGtB,8BAAA,CAAqBO,GAArB,CAApB;AACAe,MAAAA,WAAW,CAACZ,UAAZ,GAAyBA,UAAzB;AACAY,MAAAA,WAAW,CAACX,UAAZ,GAAyBA,UAAzB;AAEAW,MAAAA,WAAW,CAACE,OAAZ,CAAoBC,IAApB,CACE,UAACC,MAAD,EAAY;AACVV,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BX,MAAM,CAACC,GAArC;AACAO,QAAAA,OAAO,CAACY,MAAD,CAAP;AACD,OAJH,EAKE,UAACC,GAAD,EAAS;AACPX,QAAAA,OAAO,CAACY,KAAR,CAAc,oBAAd,EAAoCtB,MAAM,CAACC,GAA3C,EAAgDoB,GAAhD;AACAZ,QAAAA,MAAM,CAACY,GAAD,CAAN;AACD,OARH;AAUD,KAtBM,CAAP;AAuBD,GAvDH;AAAA;AA0DAE,MAAM,CAACC,UAAP,GAAoB,IAAIzB,WAAJ,EAApB;AACAwB,MAAM,CAAC7B,QAAP,GAAkBA,kBAAlB","sources":["webpack://pdf-viewer/webpack/universalModuleDefinition","webpack://pdf-viewer/external umd \"pdfjsLib\"","webpack://pdf-viewer/external umd \"pdfjsViewer\"","webpack://pdf-viewer/webpack/bootstrap","webpack://pdf-viewer/webpack/runtime/make namespace object","webpack://pdf-viewer/./src/lib/pdfjs-lib-facade.js","webpack://pdf-viewer/./src/pdfjs-lib.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"pdfjsLib\"), require(\"pdfjsViewer\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"pdfjsLib\", \"pdfjsViewer\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"pdfjsLib\"), require(\"pdfjsViewer\")) : factory(root[\"pdfjsLib\"], root[\"pdfjsViewer\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, function(__WEBPACK_EXTERNAL_MODULE__23__, __WEBPACK_EXTERNAL_MODULE__626__) {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__23__;","module.exports = __WEBPACK_EXTERNAL_MODULE__626__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import * as pdfjsLib from \"pdfjs-dist/webpack\";\nimport { AnnotationLayerBuilder } from \"pdfjs-dist/lib/web/annotation_layer_builder\";\nimport { DefaultTextLayerFactory } from \"pdfjs-dist/lib/web/text_layer_builder\";\nimport { TextLayerBuilder } from \"pdfjs-dist/lib/web/text_layer_builder\";\n\nconst docPromises = [];\n\nexport class PDFJsFacade {\n  lib = pdfjsLib;\n  \n  viewer = {\n    AnnotationLayerBuilder,\n    DefaultTextLayerFactory,\n    TextLayerBuilder,\n  };\n\n  /**\n   * Loads a PDF doc with session cache support.\n   * @param {{onProgress?:function, onPassword?:function, url:string}} params\n   * @returns Promise\n   */\n  getDocument = (params = {}) => {\n    if (params.url == null) {\n      throw new Error(\"[pdfjs] Missing url parameter\");\n    } else if (!docPromises[params.url]) {\n      docPromises[params.url] = this.createDocLoadingTask(params);\n    }\n\n    return docPromises[params.url];\n  };\n\n  /**\n   * Creates the Promise that loads a PDF document\n   * @param {{onProgress?:function, onPassword?:function, url:string}} params\n   * @returns Promise\n   */\n  createDocLoadingTask = (params) => {\n    const { onPassword, onProgress, ...getParams } = params;\n    const url = getParams.url;\n    return new Promise((resolve, reject) => {\n      console.log(\"[pdfjs] Loading\", getParams.url);\n      // Disabling range request for the private document\n      if (url.indexOf(\"/private/\") !== -1) {\n        pdfjsLib.disableRange = true;\n        pdfjsLib.disableStream = true;\n        pdfjsLib.disableCreateObjectURL = true;\n      }\n      const loadingTask = pdfjsLib.getDocument(url);\n      loadingTask.onPassword = onPassword;\n      loadingTask.onProgress = onProgress;\n\n      loadingTask.promise.then(\n        (pdfDoc) => {\n          console.log(\"[pdfjs] Loaded\", params.url);\n          resolve(pdfDoc);\n        },\n        (err) => {\n          console.error(\"[pdfjs] Load error\", params.url, err);\n          reject(err);\n        }\n      );\n    });\n  };\n}\n\nwindow.rtPDFJsLib = new PDFJsFacade();\nwindow.pdfjsLib = pdfjsLib;\n","import \"./lib/pdfjs-lib-facade\";\n"],"names":["pdfjsLib","AnnotationLayerBuilder","DefaultTextLayerFactory","TextLayerBuilder","docPromises","PDFJsFacade","params","url","Error","createDocLoadingTask","onPassword","onProgress","getParams","Promise","resolve","reject","console","log","indexOf","disableRange","disableStream","disableCreateObjectURL","loadingTask","getDocument","promise","then","pdfDoc","err","error","window","rtPDFJsLib"],"sourceRoot":""}