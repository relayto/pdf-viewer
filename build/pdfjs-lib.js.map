{"version":3,"sources":["webpack://pdf-viewer/webpack/universalModuleDefinition","webpack://pdf-viewer/external \"pdfjsLib\"","webpack://pdf-viewer/external \"pdfjsViewer\"","webpack://pdf-viewer/webpack/bootstrap","webpack://pdf-viewer/webpack/runtime/make namespace object","webpack://pdf-viewer/./src/lib/pdfjs-lib-facade.js"],"names":["docPromises","PDFJsFacade","pdfjsLib","AnnotationLayerBuilder","DefaultTextLayerFactory","TextLayerBuilder","params","url","Error","createDocLoadingTask","onPassword","onProgress","getParams","Promise","resolve","reject","console","log","indexOf","loadingTask","promise","then","pdfDoc","err","error","window","rtPDFJsLib"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;;;ACVA,kD;;;;;;;ACAA,kD;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AAEA,IAAMA,WAAW,GAAG,EAApB;AAEO,IAAMC,WAAb;AAAA;;AAAA;;AAAA,+BACQC,kBADR;;AAAA,kCAGW;AACPC,0BAAsB,EAAtBA,4CADO;AAEPC,2BAAuB,EAAvBA,6CAFO;AAGPC,oBAAgB,EAAhBA,sCAAgBA;AAHT,GAHX;;AAAA,uCAcgB,YAAiB;AAAA,QAAhBC,MAAgB,uEAAP,EAAO;;AAC7B,QAAIA,MAAM,CAACC,GAAP,IAAc,IAAlB,EAAwB;AACtB,YAAM,IAAIC,KAAJ,CAAU,+BAAV,CAAN;AACD,KAFD,MAEO,IAAI,CAACR,WAAW,CAACM,MAAM,CAACC,GAAR,CAAhB,EAA8B;AACnCP,iBAAW,CAACM,MAAM,CAACC,GAAR,CAAX,GAA0B,KAAI,CAACE,oBAAL,CAA0BH,MAA1B,CAA1B;AACD;;AAED,WAAON,WAAW,CAACM,MAAM,CAACC,GAAR,CAAlB;AACD,GAtBH;;AAAA,gDA6ByB,UAACD,MAAD,EAAY;AAAA,QACzBI,UADyB,GACgBJ,MADhB,CACzBI,UADyB;AAAA,QACbC,UADa,GACgBL,MADhB,CACbK,UADa;AAAA,QACEC,SADF,4BACgBN,MADhB;;AAEjC,QAAMC,GAAG,GAAGK,SAAS,CAACL,GAAtB;AACA,WAAO,IAAIM,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCC,aAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BL,SAAS,CAACL,GAAzC,EADsC,CAEtC;;AACA,UAAIA,GAAG,CAACW,OAAJ,CAAY,WAAZ,MAA6B,CAAC,CAAlC,EAAqC;AACnChB,uCAAA,GAAwB,IAAxB;AACAA,wCAAA,GAAyB,IAAzB;AACAA,iDAAA,GAAkC,IAAlC;AACD;;AACD,UAAMiB,WAAW,GAAGjB,8BAAA,CAAqBK,GAArB,CAApB;AACAY,iBAAW,CAACT,UAAZ,GAAyBA,UAAzB;AACAS,iBAAW,CAACR,UAAZ,GAAyBA,UAAzB;AAEAQ,iBAAW,CAACC,OAAZ,CAAoBC,IAApB,CACE,UAACC,MAAD,EAAY;AACVN,eAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BX,MAAM,CAACC,GAArC;AACAO,eAAO,CAACQ,MAAD,CAAP;AACD,OAJH,EAKE,UAACC,GAAD,EAAS;AACPP,eAAO,CAACQ,KAAR,CAAc,oBAAd,EAAoClB,MAAM,CAACC,GAA3C,EAAgDgB,GAAhD;AACAR,cAAM,CAACQ,GAAD,CAAN;AACD,OARH;AAUD,KAtBM,CAAP;AAuBD,GAvDH;AAAA;AA0DAE,MAAM,CAACC,UAAP,GAAoB,IAAIzB,WAAJ,EAApB;AACAwB,MAAM,CAACvB,QAAP,GAAkBA,kBAAlB,C","file":"pdfjs-lib.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"pdfjsLib\"), require(\"pdfjsViewer\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"pdfjsLib\", \"pdfjsViewer\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"pdfjsLib\"), require(\"pdfjsViewer\")) : factory(root[\"pdfjsLib\"], root[\"pdfjsViewer\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, function(__WEBPACK_EXTERNAL_MODULE__544__, __WEBPACK_EXTERNAL_MODULE__231__) {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__544__;","module.exports = __WEBPACK_EXTERNAL_MODULE__231__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import * as pdfjsLib from \"pdfjs-dist/webpack\";\r\nimport { AnnotationLayerBuilder } from \"pdfjs-dist/lib/web/annotation_layer_builder\";\r\nimport { DefaultTextLayerFactory } from \"pdfjs-dist/lib/web/text_layer_builder\";\r\nimport { TextLayerBuilder } from \"pdfjs-dist/lib/web/text_layer_builder\";\r\n\r\nconst docPromises = [];\r\n\r\nexport class PDFJsFacade {\r\n  lib = pdfjsLib;\r\n  \r\n  viewer = {\r\n    AnnotationLayerBuilder,\r\n    DefaultTextLayerFactory,\r\n    TextLayerBuilder,\r\n  };\r\n\r\n  /**\r\n   * Loads a PDF doc with session cache support.\r\n   * @param {{onProgress?:function, onPassword?:function, url:string}} params\r\n   * @returns Promise\r\n   */\r\n  getDocument = (params = {}) => {\r\n    if (params.url == null) {\r\n      throw new Error(\"[pdfjs] Missing url parameter\");\r\n    } else if (!docPromises[params.url]) {\r\n      docPromises[params.url] = this.createDocLoadingTask(params);\r\n    }\r\n\r\n    return docPromises[params.url];\r\n  };\r\n\r\n  /**\r\n   * Creates the Promise that loads a PDF document\r\n   * @param {{onProgress?:function, onPassword?:function, url:string}} params\r\n   * @returns Promise\r\n   */\r\n  createDocLoadingTask = (params) => {\r\n    const { onPassword, onProgress, ...getParams } = params;\r\n    const url = getParams.url;\r\n    return new Promise((resolve, reject) => {\r\n      console.log(\"[pdfjs] Loading\", getParams.url);\r\n      // Disabling range request for the private document\r\n      if (url.indexOf(\"/private/\") !== -1) {\r\n        pdfjsLib.disableRange = true;\r\n        pdfjsLib.disableStream = true;\r\n        pdfjsLib.disableCreateObjectURL = true;\r\n      }\r\n      const loadingTask = pdfjsLib.getDocument(url);\r\n      loadingTask.onPassword = onPassword;\r\n      loadingTask.onProgress = onProgress;\r\n\r\n      loadingTask.promise.then(\r\n        (pdfDoc) => {\r\n          console.log(\"[pdfjs] Loaded\", params.url);\r\n          resolve(pdfDoc);\r\n        },\r\n        (err) => {\r\n          console.error(\"[pdfjs] Load error\", params.url, err);\r\n          reject(err);\r\n        }\r\n      );\r\n    });\r\n  };\r\n}\r\n\r\nwindow.rtPDFJsLib = new PDFJsFacade();\r\nwindow.pdfjsLib = pdfjsLib;\r\n"],"sourceRoot":""}