{"version":3,"sources":["webpack://pdf-viewer/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://pdf-viewer/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://pdf-viewer/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://pdf-viewer/./node_modules/css-loader/dist/runtime/api.js","webpack://pdf-viewer/./node_modules/css-loader/dist/runtime/cssWithMappingToString.js","webpack://pdf-viewer/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/webpack/universalModuleDefinition","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/pdf.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/display_utils.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/shared/util.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/shared/compatibility.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/shared/is_node.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/api.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/font_loader.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/node_utils.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/annotation_storage.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/api_compatibility.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/canvas.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/pattern_helper.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/worker_options.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/shared/message_handler.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/metadata.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/shared/xml_parser.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/optional_content_config.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/transport_stream.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/webgl.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/annotation_layer.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/shared/scripting_utils.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/text_layer.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/svg.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/node_stream.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/network_utils.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/content_disposition.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/network.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/src/display/fetch_stream.js","webpack://pdf-viewer/pdfjs-dist/build/pdf/webpack/bootstrap","webpack://pdf-viewer/pdfjs-dist/build/pdf/webpack/startup","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/annotation_layer.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/annotation_storage.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/api.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/api_compatibility.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/canvas.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/content_disposition.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/display_utils.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/fetch_stream.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/font_loader.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/metadata.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/network.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/network_utils.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/node_stream.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/node_utils.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/optional_content_config.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/pattern_helper.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/svg.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/text_layer.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/transport_stream.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/webgl.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/display/worker_options.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/pdf.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/shared/compatibility.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/shared/is_node.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/shared/message_handler.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/shared/scripting_utils.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/shared/util.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/shared/xml_parser.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/web/pdf_link_service.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/web/pdf_page_view.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/web/pdf_rendering_queue.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/web/ui_utils.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/lib/web/viewer_compatibility.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/webpack.js","webpack://pdf-viewer/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://pdf-viewer/./node_modules/pdfjs-dist/build/pdf.worker.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_defineProperty","obj","value","module","exports","cssWithMappingToString","list","toString","this","map","item","content","concat","join","modules","mediaQuery","dedupe","alreadyImportedModules","id","_i","push","_arrayLikeToArray","arr","len","arr2","Array","_item","isArray","_arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","next","done","err","_iterableToArrayLimit","o","minLen","n","call","slice","constructor","name","from","test","_unsupportedIterableToArray","_nonIterableRest","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","sourceURLs","sources","source","sourceRoot","url","options","__esModule","default","hash","needQuotes","replace","factory","require","PDFNodeStream","setPDFNetworkStreamFactory","params","PDFNetworkStream","PDFFetchStream","isValidFetchUrl","enabled","assert","urlNullRemoved","removeNullCharacters","link","title","targetStr","LinkTarget","rel","console","anchor","indexOf","query","end","Math","min","substring","lastIndexOf","removeScriptElement","Promise","resolve","reject","script","document","createElement","evt","Error","DEFAULT_LINK_REL","SVG_NS","unreachable","create","reset","canvasAndContext","width","height","destroy","ownerDocument","globalThis","canvas","_document","context","getContext","baseUrl","isCompressed","compressionType","CMapCompressionType","_fetchData","catch","reason","isFetchSupported","fetch","then","async","response","cMapData","Uint8Array","stringToBytes","request","readyState","XMLHttpRequest","status","svg","createElementNS","type","offsetX","offsetY","dontFlip","centerX","viewBox","centerY","rotation","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","abs","offsetCanvasY","scale","clone","PageViewport","convertToViewportPoint","Util","x","convertToViewportRectangle","topLeft","rect","bottomRight","convertToPdfPoint","super","NONE","SELF","BLANK","PARENT","TOP","Response","ReadableStream","URL","protocol","ex","time","warn","Date","timeEnd","start","started","outBuf","longest","duration","padEnd","input","isString","pdfDateStringRegex","RegExp","matches","exec","year","parseInt","month","day","hour","minute","second","universalTimeRelation","offsetHour","offsetMinute","UTC","resultLength","arrayByteLength","pos","itemLength","bytes","MAX_ARGUMENT_COUNT","String","fromCharCode","apply","strBuf","chunkEnd","chunk","subarray","capability","isSettled","get","absoluteUrl","_isValidProtocol","buffer","ii","str","char","codePointAt","entity","XMLEntities","match","date","getUTCFullYear","getUTCDate","padStart","getUTCHours","getUTCMinutes","getUTCSeconds","verbosity","VerbosityLevel","v","byteLength","arr1","every","element","index","base","origin","e","other","otherUrl","assign","fromEntries","keys","NullCharactersRegExp","Number","isInteger","charCodeAt","code","PDFStringTranslateTable","charAt","buf","decodeURIComponent","escape","PRINT","MODIFY_CONTENTS","COPY","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","COPY_FOR_ACCESSIBILITY","ASSEMBLE","PRINT_HIGH_QUALITY","FILL","STROKE","FILL_STROKE","INVISIBLE","FILL_ADD_TO_PATH","STROKE_ADD_TO_PATH","FILL_STROKE_ADD_TO_PATH","ADD_TO_PATH","FILL_STROKE_MASK","ADD_TO_PATH_FLAG","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","TEXT","LINK","FREETEXT","LINE","SQUARE","CIRCLE","POLYGON","POLYLINE","HIGHLIGHT","UNDERLINE","SQUIGGLY","STRIKEOUT","STAMP","CARET","INK","POPUP","FILEATTACHMENT","SOUND","MOVIE","WIDGET","SCREEN","PRINTERMARK","TRAPNET","WATERMARK","THREED","REDACT","MARKED","REVIEW","UNMARKED","ACCEPTED","REJECTED","CANCELLED","COMPLETED","GROUP","REPLY","HIDDEN","NOZOOM","NOROTATE","NOVIEW","READONLY","LOCKED","TOGGLENOVIEW","LOCKEDCONTENTS","REQUIRED","NOEXPORT","MULTILINE","PASSWORD","NOTOGGLETOOFF","RADIO","PUSHBUTTON","COMBO","EDIT","SORT","FILESELECT","MULTISELECT","DONOTSPELLCHECK","DONOTSCROLL","COMB","RICHTEXT","RADIOSINUNISON","COMMITONSELCHANGE","SOLID","DASHED","BEVELED","INSET","E","X","D","U","Fo","Bl","PO","PC","PV","PI","K","F","V","C","WC","WS","DS","WP","DP","O","UNKNOWN","FLATE","LZW","DCT","JPX","JBIG","A85","AHX","CCF","RLX","TYPE1","TYPE1C","CIDFONTTYPE0","CIDFONTTYPE0C","TRUETYPE","CIDFONTTYPE2","TYPE3","OPENTYPE","TYPE0","MMTYPE1","ERRORS","WARNINGS","INFOS","BINARY","STREAM","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","transform","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","fill","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotations","endAnnotations","beginAnnotation","endAnnotation","paintJpegXObject","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","unknown","forms","javaScript","smask","shadingPattern","font","errorTilingPattern","errorExtGState","errorXObject","errorFontLoadType3","errorFontState","errorFontMissing","errorFontTranslate","errorColorSpace","errorOperatorList","errorFontToUnicode","errorFontLoadNative","errorFontGetPath","errorMarkedContent","NEED_PASSWORD","INCORRECT_PASSWORD","BaseException","IsLittleEndianCached","shadow","buffer8","Uint32Array","isLittleEndian","IsEvalSupportedCached","isEvalSupported","hexNumbers","m1","m2","p","m","d","p1","applyTransform","r","p2","p3","p4","max","transpose","a","b","c","first","sqrt","sx","sy","orderedX","rect1","rect2","orderedY","result","normalizeRect","createObjectURL","digits","contentType","forceDataSchema","blob","Blob","b1","b2","b3","isNodeJS","process","versions","electron","DEFAULT_RANGE_CHUNK_SIZE","RENDERING_CANCELLED_TIMEOUT","DefaultCanvasFactory","DefaultCMapReaderFactory","createPDFNetworkStream","task","src","isArrayBuffer","range","rangeTransport","worker","window","pdfBytes","isNaN","rangeChunkSize","CMapReaderFactory","stopAtErrors","fontExtraProperties","pdfBug","apiCompatibilityParams","setVerbosityLevel","workerParams","port","GlobalWorkerOptions","PDFWorker","fromPort","docId","workerIdPromise","_fetchDocument","networkStreamPromise","networkStream","initialData","progressiveDone","disableRange","disableStream","httpHeaders","withCredentials","all","workerId","messageHandler","transport","WorkerTransport","_capability","pdfDataRangeTransport","apiVersion","password","disableAutoFetch","maxImageSize","disableFontFace","postMessageTransfers","docBaseUrl","ignoreErrors","PDFDocumentLoadingTask","nextDocumentId","_transport","addRangeListener","addProgressListener","addProgressiveReadListener","addProgressiveDoneListener","onDataRange","listener","onDataProgress","onDataProgressiveRead","onDataProgressiveDone","transportReady","requestDataRange","abort","_pdfInfo","getPage","getPageIndex","getDestinations","getDestination","getPageLabels","getPageLayout","getPageMode","getViewerPreferences","getOpenAction","getAttachments","getJavaScript","getJSActions","getOutline","getOptionalContentConfig","getPermissions","getMetadata","getMarkInfo","getData","getDownloadInfo","downloadInfoCapability","getStats","cleanup","loadingTask","saveDocument","getFieldObjects","hasJSActions","getCalculationOrderIds","_pageIndex","_pageInfo","getViewport","getAnnotations","intent","annotationsIntent","getPageJSActions","render","enableWebGL","renderInteractiveForms","imageLayer","canvasFactory","background","annotationStorage","optionalContentConfigPromise","renderingIntent","intentState","_intentStates","clearTimeout","canvasFactoryInstance","webGLContext","enable","fnArray","argsArray","lastChunk","pageIndex","getAll","complete","error","renderTasks","cleanupAfterRender","internalRenderTask","InternalRenderTask","callback","objs","commonObjs","operatorList","useRequestAnimationFrame","renderTask","displayReadyCapability","transparency","getOperatorList","opListTask","opListReadCapability","streamTextContent","normalizeWhitespace","disableCombineTextItems","sendWithStream","combineTextItems","highWaterMark","size","textContent","items","getTextContent","readableStream","reader","styles","pump","_destroy","waitOn","force","resetStats","_tryCleanup","_startRenderPage","_renderPageChunk","operatorListChunk","_pumpOperatorList","args","_abortOperatorList","setTimeout","curIntentState","defer","postMessage","cloned","has","transfers","includes","desc","getOwnPropertyDescriptor","getPrototypeOf","cloneValue","hasOwnProperty","addEventListener","removeEventListener","_listeners","terminate","PDFWorkerClosure","pdfWorkerPorts","isWorkerDisabled","nextFakeWorkerId","fallbackWorkerSrc","pdfjsFilePath","currentScript","deprecated","mainWorkerMessageHandler","pdfjsWorker","fakeWorkerCapability","loader","getMainThreadWorkerMessageHandler","eval","getWorkerSrc","loadScript","wrapper","_readyCapability","_initializeFromPort","_initialize","Worker","workerSrc","isSameOrigin","location","createCDNWrapper","terminateEarly","onWorkerError","sendTest","testObj","info","_setupFakeWorker","setupFakeWorkerGlobal","WorkerMessageHandler","workerHandler","onUnsupportedFeature","_onUnsupportedFeature","bind","destroyCapability","page","terminated","sendWithPromise","annotationStorageResetModified","promise","pdfDocument","setupMessageHandler","sink","_networkStream","loaded","total","readyReason","headersCapability","fullReader","_lastProgress","isStreamingSupported","isRangeSupported","contentLength","rangeReader","getRangeReader","pdfInfo","PDFDocumentProxy","msg","exception","updatePassword","_passwordCapability","pageCache","exportedData","exportedError","fontRegistry","FontInspector","registerFont","imageData","pageProxy","MAX_IMAGE_SIZE_TO_STORE","fetched","builtInCMap","pageNumber","pagePromises","pageInfo","PDFPageProxy","_params","numPages","filename","_fullReader","getDocJSActions","results","metadata","contentDispositionFilename","startCleanup","_ensureObj","_objs","objId","resolved","clear","_internalRenderTask","cancel","canvasInRendering","RenderTask","_continue","_scheduleNext","_next","canvasContext","initializeGraphics","_pdfBug","StepperManager","stepper","operatorListChanged","gfx","executeOperatorList","operatorListIdx","version","build","addNativeFontFace","insertRule","styleElement","styleSheet","cssRules","nativeFontFace","attached","featureId","UNSUPPORTED_FEATURES","rule","_queueLoadingCallback","_prepareFontLoadEvent","FontLoader","BaseFontLoader","requests","nextRequestId","supported","navigator","otherRequest","atob","offset","s","insert","ctx","called","loadTestFontId","spliceString","XXXX_VALUE","checksum","int32","string32","names","fonts","div","style","left","span","getImageData","isFontReady","translatedData","createNativeFontFace","FontFace","createFontFaceRule","bytesToString","getPathGenerator","compiledGlyphs","character","cmds","loadedName","js","current","Function","cmd","NodeCanvasFactory","NodeCMapReaderFactory","__non_webpack_require__","createCanvas","fs","getOrCreateValue","_storage","setValue","modified","entry","entries","objectFromEntries","_setModified","resetModified","compatibilityParams","freeze","MAX_GROUP_SIZE","FULL_CHUNK_HEIGHT","_transformMatrix","f","ad_bc","bc_ad","old","prev","_transformStack","y","angle","cosValue","cos","sinValue","sin","CachedCanvases","getCanvas","cache","canvasEntry","addContextCurrentTransform","CanvasExtraState","TextRenderingMode","setCurrentPoint","CanvasGraphics","transferMaps","ImageData","imgData","partialChunkHeight","fullChunks","totalChunks","chunkImgData","createImageData","srcPos","dest","transferMapRed","transferMapGreen","transferMapBlue","transferMapGray","kind","ImageKind","srcLength","dest32","dest32DataLength","fullSrcDiff","white","black","thisChunkHeight","destPos","j","srcDiff","k","kEnd","kEndUnrolled","mask","srcByte","hasTransferMaps","elemsInThisChunk","elem","properties","property","sourceCtx","destCtx","setLineDash","alpha","alpha_","r0","g0","b0","maskData","transferMap","layerData","maskCtx","backdrop","composed","composeSMask","layer","layerCtx","subtype","hasBackdrop","composeFn","chunkSize","ceil","row","chunkHeight","composeSMaskBackdrop","genericComposeSMask","LINE_CAP_STYLES","LINE_JOIN_STYLES","NORMAL_CLIP","EO_CLIP","beginDrawing","transparentCanvas","cachedCanvases","compositeCtx","resetCtxToDefault","viewport","mozCurrentTransform","hypot","baseTransform","executionStartIdx","argsArrayLen","chunkOperations","continueCallback","endTime","now","steps","fnId","OPS","objsPool","depObjId","startsWith","endDrawing","stateStack","activeSMask","limit","dashArray","dashPhase","states","state","beginSMaskGroup","drawnWidth","drawnHeight","cacheId","scratchCanvas","currentCtx","currentTransform","groupCtx","copyCtxState","suspendSMaskGroup","groupStack","deltaTransform","resumeSMaskGroup","endSMaskGroup","ops","xw","yh","consumePath","strokeColor","getPattern","lineWidth","scaledLineWidth","round","fillColor","needRestore","lineX","lineY","paths","path","spacing","leading","fontRefName","fontObj","fontMatrix","bold","italic","typeface","browserFontSize","mode","rise","paintChar","textRenderingMode","fontSize","fillStrokeMode","isAddToPathSet","patternFill","addToPath","pendingTextPaths","glyphs","showType3Text","fontSizeScale","charSpacing","wordSpacing","fontDirection","textHScale","glyphsLength","vertical","spacingDir","defaultVMetrics","widthAdvanceScale","simpleFillText","pattern","patternTransform","resetLineWidthToOne","glyph","isNum","restoreNeeded","accent","vmetric","vx","vy","scaledX","scaledY","remeasure","measuredWidth","measureText","characterScaleX","contentVisible","isInFont","scaledAccentX","scaledAccentY","charWidth","spacingLength","charProcOperatorList","xWidth","yWidth","urx","ury","getColorN_Pattern","IR","color","canvasGraphicsFactory","createCanvasGraphics","getShadingPatternFromIR","g","patternIR","inv","bl","br","ul","ur","x0","y0","x1","y1","matrix","bbox","baseTransformStack","group","bounds","canvasBounds","floor","scaleX","scaleY","smaskCounter","startTransformInverse","imageSmoothingEnabled","smaskStack","img","isPatternFill","compiled","width1","points","POINT_TYPES","lineSize","data0","count","j0","sum","Int32Array","outlines","coords","p0","step","pp","kk","l","ll","compileType3Glyph","maskCanvas","putBinaryImageMask","skewX","skewY","positions","images","image","w","h","widthScale","heightScale","HTMLElement","imgToPaint","tmpCanvas","tmpCtx","putBinaryImageData","paintWidth","paintHeight","tmpCanvasId","newWidth","newHeight","position","getCanvasPosition","top","tag","visible","optionalContentConfig","isVisible","pendingClip","getSinglePixelWidth","_cachedGetSinglePixelWidth","absDet","sqNorm1","sqNorm2","pixelHeight","_combinedScaleFactor","isContentVisible","markedContentStack","shadingIR","ShadingIRs","raw","fromIR","Path2D","region","colorStops","r1","applyBoundingBox","grad","createLinearGradient","createRadialGradient","createMeshCanvas","colors","rowSize","tmp","c1","c2","c3","x2","y2","x3","y3","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","minY","maxY","xa","car","cag","cab","xb","cbr","cbg","cbb","x1_","x2_","ps","figure","cs","verticesPerRow","rows","cols","q","drawTriangle","boundsWidth","boundsHeight","combinesScale","paddedWidth","BORDER_SIZE","paddedHeight","drawFigures","backgroundColor","figures","drawFigure","owner","matrixScale","temporaryPatternCanvas","createPattern","TilingPattern","createPatternCanvas","xstep","ystep","paintType","tilingType","curMatrixScale","combinedScale","dimx","getSizeAndScale","dimy","graphics","maxSize","clipBbox","bboxWidth","bboxHeight","setFillAndStrokeStyleToContext","cssColor","workerPort","event","targetName","callbackId","callbackCapabilities","wrapReason","action","actionHandler","cbSourceName","cbTargetName","comObj","sourceName","on","ah","send","streamId","controller","startCapability","startCall","pullCall","cancelCall","isClosed","desiredSize","pull","pullCapability","stream","cancelCapability","_createStreamSink","self","streamSink","enqueue","lastDesiredSize","sinkCapability","close","streamSinks","onPull","onCancel","isCancelled","ready","success","_processStreamMessage","streamControllers","allSettled","_postMessage","_repair","xmlDocument","lowerCaseName","parseFromString","codes","d1","d2","d3","chars","_getSequence","childNodes","filter","node","nodeName","_getCreators","seqNode","authors","_parse","rdf","getRaw","_metadataMap","ch","parentNode","child","nodeValue","hasChildNodes","searchNode","component","stack","parent","siblingPos","res","currentPos","newPos","dump","attribute","encodeToXmlString","_resolveEntities","fromCodePoint","onResolveEntity","_parseContent","attributes","isWhitespace","skipWs","attrName","attrValue","attrEndChar","attrEndIndex","parsed","_parseProcessingInstruction","attrStart","parseXml","pi","q2","complexDoctype","doctypeContent","text","onPi","onComment","onCdata","onDoctype","onText","onBeginElement","onEndElement","onError","hasAttributes","_errorCode","documentElement","isWhitespaceString","SimpleDOMNode","_stack","pop","lastElement","_currentFragment","OptionalContentGroup","baseState","_groups","policy","setVisibility","getOrder","_order","getGroups","getGroup","begin","_onReceiveData","found","_rangeReaders","some","_begin","_fullRequestReader","_loaded","_onProgress","firstReader","_onProgressiveDone","_removeRangeReader","getFullReader","queuedChunks","PDFDataTransportStreamReader","PDFDataTransportStreamRangeReader","cancelAllRequests","readers","_enqueue","_requests","requestCapability","_stream","_queuedChunks","requestsCapability","WebGLUtils","shader","gl","createShader","getShaderParameter","errorMsg","getShaderInfoLog","loadShader","program","shaders","getProgramParameter","getProgramInfoLog","texture","currentCanvas","currentGL","premultipliedalpha","smaskCache","figuresCache","tryInitGL","generateGL","createProgram","createVertexShader","createFragmentShader","getUniformLocation","getAttribLocation","texCoordLocation","texLayerLocation","texMaskLocation","texCoordBuffer","Float32Array","initSmaskGL","createTexture","maskTexture","initFiguresGL","coordsMap","colorsMap","pIndex","cIndex","col","jj","coordsBuffer","colorsBuffer","parameters","AnnotationType","LinkAnnotationElement","TextAnnotationElement","TextWidgetAnnotationElement","RadioButtonWidgetAnnotationElement","CheckboxWidgetAnnotationElement","PushButtonWidgetAnnotationElement","ChoiceWidgetAnnotationElement","WidgetAnnotationElement","PopupAnnotationElement","FreeTextAnnotationElement","LineAnnotationElement","SquareAnnotationElement","CircleAnnotationElement","PolylineAnnotationElement","CaretAnnotationElement","InkAnnotationElement","PolygonAnnotationElement","HighlightAnnotationElement","UnderlineAnnotationElement","SquigglyAnnotationElement","StrikeOutAnnotationElement","StampAnnotationElement","FileAttachmentAnnotationElement","AnnotationElement","isRenderable","ignoreBorder","createQuadrilaterals","_createContainer","_createQuadrilaterals","container","view","borderStyle","AnnotationBorderStyleType","horizontalRadius","verticalRadius","radius","quadrilaterals","savedRect","quadPoint","_createPopup","trigger","popup","PopupElement","modificationDate","contents","hideWrapper","_renderQuadrilaterals","quadrilateral","actions","Action","addLinkAttributes","newWindow","linkService","linkElement","_bindLink","getDestinationHash","destination","_bindNamedAction","getAnchorUrl","_bindJSAction","Map","jsName","detail","hasPopup","imageResourcesPath","_getKeyModifier","platform","_setEventListener","baseName","valueGetter","shift","modifier","_setEventListeners","eventName","storage","elementData","userValue","formattedValue","beforeInputSelectionRange","beforeInputValue","blurListener","enableScripting","valueAsString","focus","preventScroll","userName","hidden","editable","selRange","selStart","selEnd","ColorConverters","commitKey","willCommit","_blurListener","_mouseState","selectionStart","change","maxLen","combWidth","_setTextStyle","fontColor","textAlignment","fieldValue","getElementsByName","checkbox","getAttribute","radio","radioId","selectElement","optionElement","option","getValue","changeEx","keyDown","selector","parentElements","querySelectorAll","parentRect","popupLeft","popupTop","BACKGROUND_ENLIGHT","dateObject","PDFDateString","_formatContents","_toggle","_show","_hide","lines","split","line","createTextNode","pin","hideElement","hasAttribute","unpin","svgFactory","lineCoordinates","borderWidth","square","circle","coordinate","polyline","getFilenameFromUrl","stringToPDFString","_download","sortedAnnotations","popupAnnotations","annotationType","AnnotationElementFactory","downloadManager","mouseState","isDown","rendered","elements","G","makeColorComp","RGB_HTML","CMYK_RGB","renderTextLayer","NonWhitespaceRegexp","textDiv","textDivProperties","canvasWidth","originalTransform","paddingBottom","paddingLeft","paddingRight","paddingTop","geom","tx","_viewport","atan2","fontHeight","fontAscent","ascent","shouldScaleText","absScaleX","absScaleY","angleCos","angleSin","divWidth","divHeight","right","bottom","textDivs","textDivsLength","t","ts","horizon","boundary","x1New","x2New","maxXNew","horizonPart","affectedBoundary","xNew","changedHorizon","lastBoundary","useBoundary","used","textContentItemsStr","TextLayerRenderTask","_renderTimer","_processItems","appendText","_layoutText","_textDivProperties","fontFamily","_layoutTextCtx","_render","timeout","styleCache","textItems","_textContent","textStyles","_textContentStream","expandTextDivs","expandDivs","_bounds","expanded","boxes","box","expandBoundsLTR","expandBounds","divProperties","Float64Array","boxScale","findPositiveMin","expand","transformBuf","paddingBuf","_textDivs","divProps","renderParameters","textContentStream","enhanceTextSelection","SVGGraphics","SVG_DEFAULTS","fontStyle","fontWeight","XML_NS","XLINK_NS","convertImgDataToPng","PNG_HEADER","crcTable","body","crc","crc32","literals","maxBlockLength","deflateBlocks","idat","adler","adler32","isMask","colorType","bitDepth","offsetLiterals","offsetBytes","ihdr","deflateSyncUncompressed","Buffer","output","level","deflateSync","pngLength","CHUNK_WRAPPER_SIZE","writePngChunk","encode","toFixed","pf","acos","clipCount","maskCount","shadingCount","transformStack","extraStack","loadDependencies","transformMatrix","getSVG","svgElement","convertOpList","operatorIdMapping","opList","fn","opTree","opListElement","opListToTree","executeOpTree","opTreeElement","lineMatrix","xcoords","ycoords","fillAlpha","lineWidthScale","textMatrixScale","textMatrix","textRise","pm","addFontStyle","details","embedFonts","embeddedFonts","txtElement","setStrokeAlpha","setFillAlpha","_makeColorN_Pattern","_makeShadingPattern","_makeTilingPattern","tilingId","tx0","ty0","tx1","ty1","xscale","yscale","txstep","tystep","tiling","shadingId","point0","point1","gradient","focalPoint","circlePoint","focalRadius","circleRadius","stop","colorStop","op","getAttributeNS","clipId","clipPath","clipElement","cloneNode","_setStrokeAttributes","imgSrc","cliprect","imgEl","definitions","rootGroup","_ensureClipGroup","clipGroup","_ensureTransformGroup","http","https","fileUriRegex","parsedUrl","parse","parseUrl","isHttp","isFsUrl","PDFNodeStreamFsFullReader","PDFNodeStreamFullReader","PDFNodeStreamFsRangeReader","PDFNodeStreamRangeReader","_rangeRequestReaders","_headersCapability","_readCapability","_readableStream","_error","_setReadableStream","auth","host","method","handleResponse","statusCode","getResponseHeader","headers","validateRangeRequestCapabilities","suggestedLength","extractFilenameFromHeader","_url","createRequestOptions","stat","createReadStream","contentDisposition","getFilenameFromContentDispositionHeader","returnValues","allowRangeRequests","needsEncodingFixup","toParamRegExp","rfc2616unquote","rfc5987decode","rfc2047decode","fixupEncoding","iter","quot","part","parts","rfc2231getparam","decoder","TextDecoder","encoding","fatal","decode","textdecode","quotindex","encodingend","extvalue","charset","hex","getXhr","requestRange","listeners","requestFull","xhr","xhrId","pendingRequest","pendingRequests","onStateChange","onProgress","xhrStatus","expectedStatus","getArrayBuffer","rangeHeader","getRequestXhr","isPendingRequest","abortRequest","NetworkManager","_onRangeRequestReaderClosed","PDFNetworkStreamFullRequestReader","PDFNetworkStreamRangeRequestReader","onHeadersReceived","_onHeadersReceived","onDone","_onDone","_onError","manager","fullRequestXhrId","fullRequestXhr","_manager","_cachedChunks","createResponseStatusError","lengthComputable","_headersReceivedCapability","_close","_queuedChunk","signal","abortController","credentials","redirect","PDFFetchStreamReader","PDFFetchStreamRangeReader","AbortController","createHeaders","createFetchOptions","validateResponseStatus","_reader","AnnotationLayer","_display_utils","_util","_annotation_storage","_scripting_utils","fieldType","radioButton","checkBox","setAttribute","transformOrigin","horizontalCornerRadius","verticalCornerRadius","borderRadius","borderBottomStyle","borderColor","makeHexColor","quadPoints","appendChild","className","forEach","isTooltipOnly","externalLinkTarget","externalLinkRel","externalLinkEnabled","href","onclick","goToDestination","executeNamedAction","eventBus","dispatch","toLowerCase","alt","dataset","l10nId","l10nArgs","alternativeText","ctrlKey","metaKey","shiftKey","checked","getter","hasAppearance","multiLine","setSelectionRange","activeElement","visibility","disabled","selectionEnd","readOnly","fieldName","maxLength","comb","classList","add","letterSpacing","verticalAlign","display","defaultAppearanceData","textAlign","buttonValue","combo","multiSelect","multiple","displayValue","exportValue","selectedIndex","parentType","parentId","pinned","toDateObject","toLocaleDateString","toLocaleTimeString","removeAttribute","zIndex","append","containerClassName","svgElementName","vertices","inkList","inkLists","file","downloadData","annotations","DOMSVGFactory","AnnotationStorage","renderedElement","prepend","_modified","onSetModified","onResetModified","defaultValue","set","val","getDocument","PDFDataRangeTransport","LoopbackPort","_font_loader","_node_utils","_api_compatibility","_canvas","_worker_options","_is_node","_message_handler","_metadata","_optional_content_config","_transport_stream","_webgl","DOMCanvasFactory","DOMCMapReaderFactory","pdfNetworkStreamFactory","_worker","destroyed","PDFDataTransportStream","MessageHandler","createPromiseCapability","onPassword","_rangeListeners","_progressListeners","_progressiveReadListeners","_progressiveDoneListeners","fingerprint","ref","loadingParams","_ownerDocument","_stats","StatTimer","PDFObjects","pendingCleanup","rotate","userUnit","annotationsPromise","_jsActionsPromise","streamReaderCancelTimeout","WebGLContext","splice","getReader","read","completed","values","streamReader","RenderingCancelledException","AbortException","message","delete","_defer","_deferred","WeakMap","byteOffset","getVerbosityLevel","_port","_webWorker","_messageHandler","supportTransfers","setup","fontLoader","cMapUrl","cMapPacked","settled","loadingTaskSettled","_hasJSActionsPromise","headersReady","_numPages","PasswordException","InvalidPDFException","MissingPDFException","UnexpectedResponseException","UnknownErrorException","fontAdded","FontFaceObject","finally","OptionalContentConfig","Metadata","onContinue","WeakSet","running","graphicsReadyCallback","graphicsReady","_useRequestAnimationFrame","cancelled","_continueBound","_scheduleNextBound","_nextBound","init","nextBreakPoint","getNextBreakPoint","updateOperatorList","requestAnimationFrame","_pattern_helper","_originalSave","_originalRestore","_originalRotate","_originalScale","_originalTranslate","translate","_originalTransform","_originalSetTransform","setTransform","trackTransform","alphaIsShape","IDENTITY_MATRIX","FONT_IDENTITY_MATRIX","strokeAlpha","resumeSMaskCtx","canvasCtx","pendingEOFill","xobjs","processingType3","groupLevel","tempSMask","putImageData","getLineDash","lineDashOffset","strokeStyle","fillStyle","fillRule","globalAlpha","lineCap","lineJoin","miterLimit","globalCompositeOperation","composeSMaskAlpha","composeSMaskLuminosity","isEnabled","drawImage","fillRect","beginLayout","breakIt","endLayout","flatness","mozCurrentTransformInverse","clearRect","bezierCurveTo","singularValueDecompose2dScale","resetTransform","beginPath","isType3Font","fallbackName","missingFile","fillText","strokeText","isSpace","fontChar","isFontSubpixelAAEnabled","operatorListId","llx","lly","arguments","isolated","knockout","getAxialAlignedBoundingBox","intersect","mozImageSmoothingEnabled","appendImage","EPSILON","contentDispositionStr","attributePattern","flags","log","onload","remove","onerror","head","BaseCMapReaderFactory","BaseCanvasFactory","baseURI","ok","statusText","arrayBuffer","open","responseType","onreadystatechange","DONE","responseText","applyInverseTransform","times","_network_utils","Headers","_progressiveDataLength","_filename","_withCredentials","_contentLength","_disableRange","_rangeChunkSize","_abortController","_isStreamingSupported","_isRangeSupported","_headers","nativeFontFaces","getElementsByTagName","sheet","isFontLoadingAPISupported","family","isSyncFontLoadingSupported","rules","fontsToLoad","loadingContext","userAgent","_loadTestFont","removeChild","mimetype","_xml_parser","SimpleXMLParser","_data","trim","firstChild","nextSibling","currXhrId","prop","setRequestHeader","onprogress","_source","onClosed","_fullRequestId","_done","_storedError","_requestId","_content_disposition","sourceUrl","BaseFullReader","BaseRangeReader","hostname","_request","_httpHeaders","Range","lstat","readFile","creator","order","groups","off","expression","ids","RadialAxial","addColorStop","Mesh","Dummy","realOutputSize","FormatError","SVGExtraState","dependencies","activeClipUrl","maskId","cssStyle","_operatorIdMapping","tgrp","tspan","setAttributeNS","txtgrp","defs","inverseTransform","fontName","descent","_fontInspectorEnabled","_enhanceTextSelection","_canceled","_renderingDone","sort","Infinity","unshift","_container","_textContentItemsStr","_layoutTextLastFontSize","_layoutTextLastFontFamily","mozOpaque","padding","_progressiveDone","_pdfDataRangeTransport","_headersReady","_end","_enabled","shaderType","shaderSource","compileShader","COMPILE_STATUS","VERTEX_SHADER","FRAGMENT_SHADER","attachShader","linkProgram","LINK_STATUS","textureId","activeTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","texImage2D","RGBA","UNSIGNED_BYTE","useProgram","resolutionLocation","positionLocation","backdropLocation","subtypeLocation","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","enableVertexAttribArray","vertexAttribPointer","FLOAT","uniform1i","drawingBufferWidth","drawingBufferHeight","uniform2f","uniform4f","TEXTURE0","TEXTURE1","clearColor","BLEND","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","COLOR_BUFFER_BIT","drawArrays","TRIANGLES","flush","deleteTexture","deleteBuffer","scaleLocation","offsetLocation","colorLocation","_api","createValidAbsoluteUrl","PasswordResponses","PermissionFlag","_annotation_layer","_text_layer","_svg","nw","_onComObjOnMessage","actionName","handler","queueingStrategy","_deleteStreamController","components","arraysToBytes","toUpperCase","escapeString","getModificationDate","getUTCMonth","isArrayEqual","isAscii","isBool","iterable","objectSize","stringToUTF16BEString","stringToUTF8String","utf8StringToString","StreamType","PageActionEventType","FontType","DocumentActionEventType","AnnotationStateModelType","AnnotationReviewState","AnnotationReplyType","AnnotationMarkedState","AnnotationFlag","AnnotationFieldFlag","AnnotationActionEventType","cond","compare","isEmpty","_hasAttributes","_lowerCaseName","_ui_utils","ignoreDestinationZoom","_ignoreDestinationZoom","pdfViewer","pdfHistory","_pagesRefCache","setDocument","setViewer","setHistory","currentPageNumber","pagesRotation","navigateTo","_goToDestinationHelper","rawDest","namedDest","explicitDest","destRef","_cachedPageNumber","cachePageRef","pagesCount","pushCurrentPosition","scrollPageIntoView","destArray","goToPage","pageLabelToPageNumber","pushPage","setHash","parseQueryString","search","phraseSearch","phrase","zoomArgs","zoom","zoomArg","zoomArgNumber","parseFloat","allowNegativeOffset","pagemode","nameddest","destLength","num","gen","allowNull","param","isValidExplicitDestination","back","forward","nextPage","previousPage","pageNum","pageRef","refStr","isPageVisible","isPageCached","_pdf","_pdf_rendering_queue","MAX_CANVAS_PIXELS","viewerCompatibilityParams","maxCanvasPixels","defaultViewport","renderingId","pdfPage","pageLabel","DEFAULT_SCALE","pdfPageRotate","_optionalContentConfigPromise","hasRestrictedScaling","textLayerMode","TextLayerMode","ENABLE","useOnlyCssZoom","renderingQueue","textLayerFactory","annotationLayerFactory","renderer","RendererType","CANVAS","l10n","NullL10n","paintTask","paintedViewportMap","renderingState","RenderingStates","INITIAL","resume","_renderError","annotationLayer","textLayer","zoomLayer","setPdfPage","totalRotation","CSS_UNITS","_resetZoomLayer","removeFromDOM","zoomLayerCanvas","keepZoomLayer","keepAnnotations","cancelRendering","currentZoomLayerNode","currentAnnotationNode","hide","loadingIconDiv","update","cssTransform","timestamp","performance","isScalingRestricted","outputScale","redrawAnnotations","relativeRotation","absRotation","textLayerViewport","textRelativeRotation","textAbsRotation","textLayerDiv","transX","transY","_renderAnnotationLayer","getPagePoint","draw","FINISHED","RUNNING","canvasWrapper","insertBefore","DISABLE","createTextLayerBuilder","ENABLE_ENHANCE","renderContinueCallback","cont","isHighestPriority","PAUSED","finishPaintTask","SVG","paintOnSvg","paintOnCanvas","onRenderContinue","resultPromise","setTextContentStream","createAnnotationLayerBuilder","renderCapability","isCanvasHidden","showCanvas","getOutputScale","actualSizeViewport","scaled","pixelsInViewport","maxScale","sfx","approximateFraction","sfy","roundToDivide","renderContext","ensureNotCancelled","setPageLabel","label","PDFRenderingQueue","pdfThumbnailViewer","onIdle","highestPriorityPage","idleTimeout","printing","isThumbnailViewEnabled","setThumbnailViewer","renderHighestPriority","currentlyVisiblePages","forceRendering","getHighestPriority","views","scrolledDown","visibleViews","numVisible","isViewFinished","nextPageIndex","last","previousPageIndex","renderView","xinv","x_","backtrackBeforeAllVisibleElements","binarySearchFirstItem","getActiveOrFocusedElement","curRoot","curActiveOrFocused","querySelector","shadowRoot","pixelRatio","devicePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","backingStorePixelRatio","getPageSizeInches","changeOrientation","getPDFFileNameFromURL","defaultFilename","isDataSchema","reFilename","splitURI","suggestedFilename","getVisibleElements","scrollEl","sortByVisibility","horizontal","rtl","scrollTop","clientHeight","scrollLeft","clientWidth","numViews","firstVisibleElementInd","elementLeft","offsetLeft","clientLeft","elementRight","offsetTop","clientTop","lastEdge","currentWidth","currentHeight","viewWidth","viewHeight","viewRight","viewBottom","hiddenHeight","fractionWidth","percent","widthPercent","pc","isPortraitOrientation","isValidRotation","isValidScrollMode","ScrollMode","isValidSpreadMode","SpreadMode","moveToEndOfArray","condition","moved","write","noContextMenuHandler","preventDefault","normalizeWheelEventDelta","delta","normalizeWheelEventDirection","deltaMode","MOUSE_PIXELS_PER_LINE","scrollIntoView","spot","skipOverflowHiddenElements","offsetParent","scrollHeight","scrollWidth","getComputedStyle","overflow","_scaleY","_scaleX","waitOnEventOrTimeout","delay","EventBus","_off","eventHandler","WaitOnType","EVENT","_on","timeoutHandler","TIMEOUT","watchScroll","viewAreaElement","debounceScroll","rAF","currentX","lastX","currentY","lastY","down","_eventHandler","VERTICAL_PADDING","UNKNOWN_SCALE","SidebarView","SCROLLBAR_PADDING","ProgressBar","PresentationModeState","MIN_SCALE","MAX_SCALE","MAX_AUTO_SCALE","DEFAULT_SCALE_VALUE","AutoPrintRegExp","animationStarted","NORMAL","CHANGING","FULLSCREEN","THUMBS","OUTLINE","ATTACHMENTS","LAYERS","VERTICAL","HORIZONTAL","WRAPPED","ODD","EVEN","fallback","formatL10nValue","minIndex","maxIndex","currentIndex","elt","pageTop","deltaX","deltaY","external","once","eventListeners","externalListeners","_this$_listeners","units","bar","_updateBar","_indeterminate","progressSize","_percent","setWidth","viewer","scrollbarWidth","offsetWidth","setProperty","show","maxTouchPoints","isAndroid","isIOS","disableCreateObjectURL","pdfjs","PdfjsWorker","memo","getTarget","styleTarget","HTMLIFrameElement","contentDocument","stylesInDom","getIndexByIdentifier","identifier","modulesToDom","idCountMap","identifiers","css","media","sourceMap","references","updater","addStyle","insertStyleElement","nonce","textStore","replaceText","replacement","Boolean","applyToSingletonTag","cssText","cssNode","applyToTag","singleton","singletonCounter","styleIndex","removeStyleElement","newObj","lastIdentifiers","newList","newLastIdentifiers","_index"],"mappings":"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","file":"pdfjs.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \"string\") {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \"\"]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nmodule.exports = function cssWithMappingToString(item) {\n  var _item = _slicedToArray(item, 4),\n      content = _item[1],\n      cssMapping = _item[3];\n\n  if (typeof btoa === \"function\") {\n    // eslint-disable-next-line no-undef\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = url && url.__esModule ? url.default : url;\n\n  if (typeof url !== \"string\") {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n\n  return url;\n};","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pdfjs-dist/build/pdf\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pdfjs-dist/build/pdf\"] = factory();\n\telse\n\t\troot[\"pdfjs-dist/build/pdf\"] = factory();\n})(this, function() {\nreturn ","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable sort-exports/sort-exports */\n\nimport {\n  addLinkAttributes,\n  getFilenameFromUrl,\n  isFetchSupported,\n  isValidFetchUrl,\n  LinkTarget,\n  loadScript,\n  PDFDateString,\n  RenderingCancelledException,\n} from \"./display/display_utils.js\";\nimport {\n  build,\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFWorker,\n  setPDFNetworkStreamFactory,\n  version,\n} from \"./display/api.js\";\nimport {\n  CMapCompressionType,\n  createObjectURL,\n  createPromiseCapability,\n  createValidAbsoluteUrl,\n  InvalidPDFException,\n  MissingPDFException,\n  OPS,\n  PasswordResponses,\n  PermissionFlag,\n  removeNullCharacters,\n  shadow,\n  UnexpectedResponseException,\n  UNSUPPORTED_FEATURES,\n  Util,\n  VerbosityLevel,\n} from \"./shared/util.js\";\nimport { AnnotationLayer } from \"./display/annotation_layer.js\";\nimport { apiCompatibilityParams } from \"./display/api_compatibility.js\";\nimport { GlobalWorkerOptions } from \"./display/worker_options.js\";\nimport { renderTextLayer } from \"./display/text_layer.js\";\nimport { SVGGraphics } from \"./display/svg.js\";\n\n/* eslint-disable-next-line no-unused-vars */\nconst pdfjsVersion =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_VERSION\") : void 0;\n/* eslint-disable-next-line no-unused-vars */\nconst pdfjsBuild =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_BUILD\") : void 0;\n\nif (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"PRODUCTION\")) {\n  const streamsPromise = Promise.all([\n    import(\"pdfjs/display/network.js\"),\n    import(\"pdfjs/display/fetch_stream.js\"),\n  ]);\n  setPDFNetworkStreamFactory(params => {\n    return streamsPromise.then(streams => {\n      const [{ PDFNetworkStream }, { PDFFetchStream }] = streams;\n      if (isFetchSupported() && isValidFetchUrl(params.url)) {\n        return new PDFFetchStream(params);\n      }\n      return new PDFNetworkStream(params);\n    });\n  });\n} else if (PDFJSDev.test(\"GENERIC\")) {\n  const { isNodeJS } = require(\"./shared/is_node.js\");\n  if (isNodeJS) {\n    const PDFNodeStream = require(\"./display/node_stream.js\").PDFNodeStream;\n    setPDFNetworkStreamFactory(params => {\n      return new PDFNodeStream(params);\n    });\n  } else {\n    const PDFNetworkStream = require(\"./display/network.js\").PDFNetworkStream;\n    let PDFFetchStream;\n    if (isFetchSupported()) {\n      PDFFetchStream = require(\"./display/fetch_stream.js\").PDFFetchStream;\n    }\n    setPDFNetworkStreamFactory(params => {\n      if (PDFFetchStream && isValidFetchUrl(params.url)) {\n        return new PDFFetchStream(params);\n      }\n      return new PDFNetworkStream(params);\n    });\n  }\n} else if (PDFJSDev.test(\"CHROME\")) {\n  const PDFNetworkStream = require(\"./display/network.js\").PDFNetworkStream;\n  let PDFFetchStream;\n  const isChromeWithFetchCredentials = function () {\n    // fetch does not include credentials until Chrome 61.0.3138.0 and later.\n    // https://chromium.googlesource.com/chromium/src/+/2e231cf052ca5e68e22baf0008ac9e5e29121707\n    try {\n      // Indexed properties on window are read-only in Chrome 61.0.3151.0+\n      // https://chromium.googlesource.com/chromium/src.git/+/58ab4a971b06dec13e4edf9de8382ca6847f6190\n      window[999] = 123; // should throw. Note: JS strict mode MUST be enabled.\n      delete window[999];\n      return false;\n    } catch (e) {\n      return true;\n    }\n  };\n  if (isFetchSupported() && isChromeWithFetchCredentials()) {\n    PDFFetchStream = require(\"./display/fetch_stream.js\").PDFFetchStream;\n  }\n  setPDFNetworkStreamFactory(params => {\n    if (PDFFetchStream && isValidFetchUrl(params.url)) {\n      return new PDFFetchStream(params);\n    }\n    return new PDFNetworkStream(params);\n  });\n}\n\nexport {\n  // From \"./display/display_utils.js\":\n  addLinkAttributes,\n  getFilenameFromUrl,\n  LinkTarget,\n  loadScript,\n  PDFDateString,\n  RenderingCancelledException,\n  // From \"./display/api.js\":\n  build,\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFWorker,\n  version,\n  // From \"./shared/util.js\":\n  CMapCompressionType,\n  createObjectURL,\n  createPromiseCapability,\n  createValidAbsoluteUrl,\n  InvalidPDFException,\n  MissingPDFException,\n  OPS,\n  PasswordResponses,\n  PermissionFlag,\n  removeNullCharacters,\n  shadow,\n  UnexpectedResponseException,\n  UNSUPPORTED_FEATURES,\n  Util,\n  VerbosityLevel,\n  // From \"./display/annotation_layer.js\":\n  AnnotationLayer,\n  // From \"./display/api_compatibility.js\":\n  apiCompatibilityParams,\n  // From \"./display/worker_options.js\":\n  GlobalWorkerOptions,\n  // From \"./display/text_layer.js\":\n  renderTextLayer,\n  // From \"./display/svg.js\":\n  SVGGraphics,\n};\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  BaseException,\n  CMapCompressionType,\n  isString,\n  removeNullCharacters,\n  stringToBytes,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\n\nconst DEFAULT_LINK_REL = \"noopener noreferrer nofollow\";\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\n\nclass BaseCanvasFactory {\n  constructor() {\n    if (this.constructor === BaseCanvasFactory) {\n      unreachable(\"Cannot initialize BaseCanvasFactory.\");\n    }\n  }\n\n  create(width, height) {\n    unreachable(\"Abstract method `create` called.\");\n  }\n\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    // Zeroing the width and height cause Firefox to release graphics\n    // resources immediately, which can greatly reduce memory consumption.\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n}\n\nclass DOMCanvasFactory extends BaseCanvasFactory {\n  constructor({ ownerDocument = globalThis.document } = {}) {\n    super();\n    this._document = ownerDocument;\n  }\n\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    const canvas = this._document.createElement(\"canvas\");\n    const context = canvas.getContext(\"2d\");\n    canvas.width = width;\n    canvas.height = height;\n    return {\n      canvas,\n      context,\n    };\n  }\n}\n\nclass BaseCMapReaderFactory {\n  constructor({ baseUrl = null, isCompressed = false }) {\n    if (this.constructor === BaseCMapReaderFactory) {\n      unreachable(\"Cannot initialize BaseCMapReaderFactory.\");\n    }\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n\n  async fetch({ name }) {\n    if (!this.baseUrl) {\n      throw new Error(\n        'The CMap \"baseUrl\" parameter must be specified, ensure that ' +\n          'the \"cMapUrl\" and \"cMapPacked\" API parameters are provided.'\n      );\n    }\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n    const compressionType = this.isCompressed\n      ? CMapCompressionType.BINARY\n      : CMapCompressionType.NONE;\n\n    return this._fetchData(url, compressionType).catch(reason => {\n      throw new Error(\n        `Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`\n      );\n    });\n  }\n\n  /**\n   * @private\n   */\n  _fetchData(url, compressionType) {\n    unreachable(\"Abstract method `_fetchData` called.\");\n  }\n}\n\nclass DOMCMapReaderFactory extends BaseCMapReaderFactory {\n  _fetchData(url, compressionType) {\n    if (\n      (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n      (isFetchSupported() && isValidFetchUrl(url, document.baseURI))\n    ) {\n      return fetch(url).then(async response => {\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n        let cMapData;\n        if (this.isCompressed) {\n          cMapData = new Uint8Array(await response.arrayBuffer());\n        } else {\n          cMapData = stringToBytes(await response.text());\n        }\n        return { cMapData, compressionType };\n      });\n    }\n\n    // The Fetch API is not supported.\n    return new Promise((resolve, reject) => {\n      const request = new XMLHttpRequest();\n      request.open(\"GET\", url, true);\n\n      if (this.isCompressed) {\n        request.responseType = \"arraybuffer\";\n      }\n      request.onreadystatechange = () => {\n        if (request.readyState !== XMLHttpRequest.DONE) {\n          return;\n        }\n        if (request.status === 200 || request.status === 0) {\n          let cMapData;\n          if (this.isCompressed && request.response) {\n            cMapData = new Uint8Array(request.response);\n          } else if (!this.isCompressed && request.responseText) {\n            cMapData = stringToBytes(request.responseText);\n          }\n          if (cMapData) {\n            resolve({ cMapData, compressionType });\n            return;\n          }\n        }\n        reject(new Error(request.statusText));\n      };\n\n      request.send(null);\n    });\n  }\n}\n\nclass DOMSVGFactory {\n  create(width, height) {\n    assert(width > 0 && height > 0, \"Invalid SVG dimensions\");\n\n    const svg = document.createElementNS(SVG_NS, \"svg:svg\");\n    svg.setAttribute(\"version\", \"1.1\");\n    svg.setAttribute(\"width\", width + \"px\");\n    svg.setAttribute(\"height\", height + \"px\");\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", \"0 0 \" + width + \" \" + height);\n\n    return svg;\n  }\n\n  createElement(type) {\n    assert(typeof type === \"string\", \"Invalid SVG element type\");\n\n    return document.createElementNS(SVG_NS, type);\n  }\n}\n\n/**\n * @typedef {Object} PageViewportParameters\n * @property {Array<number>} viewBox - The xMin, yMin, xMax and\n *   yMax coordinates.\n * @property {number} scale - The scale of the viewport.\n * @property {number} rotation - The rotation, in degrees, of the viewport.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset. The\n *   default value is `0`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset. The\n *   default value is `0`.\n * @property {boolean} [dontFlip] - If true, the y-axis will not be flipped.\n *   The default value is `false`.\n */\n\n/**\n * @typedef {Object} PageViewportCloneParameters\n * @property {number} [scale] - The scale, overriding the one in the cloned\n *   viewport. The default value is `this.scale`.\n * @property {number} [rotation] - The rotation, in degrees, overriding the one\n *   in the cloned viewport. The default value is `this.rotation`.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset.\n *   The default value is `this.offsetX`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset.\n *   The default value is `this.offsetY`.\n * @property {boolean} [dontFlip] - If true, the x-axis will not be flipped.\n *   The default value is `false`.\n */\n\n/**\n * PDF page viewport created based on scale, rotation and offset.\n */\nclass PageViewport {\n  /**\n   * @param {PageViewportParameters}\n   */\n  constructor({\n    viewBox,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false,\n  }) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n\n    // creating transform to convert pdf coordinate system to the normal\n    // canvas like coordinates taking in account scale and rotation\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    rotation = rotation % 360;\n    rotation = rotation < 0 ? rotation + 360 : rotation;\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n      case 0:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n      default:\n        throw new Error(\n          \"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\"\n        );\n    }\n\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = Math.abs(viewBox[3] - viewBox[1]) * scale;\n      height = Math.abs(viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = Math.abs(viewBox[2] - viewBox[0]) * scale;\n      height = Math.abs(viewBox[3] - viewBox[1]) * scale;\n    }\n    // creating transform for the following operations:\n    // translate(-centerX, -centerY), rotate and flip vertically,\n    // scale, and translate(offsetCanvasX, offsetCanvasY)\n    this.transform = [\n      rotateA * scale,\n      rotateB * scale,\n      rotateC * scale,\n      rotateD * scale,\n      offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY,\n      offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY,\n    ];\n\n    this.width = width;\n    this.height = height;\n  }\n\n  /**\n   * Clones viewport, with optional additional properties.\n   * @param {PageViewportCloneParameters} [params]\n   * @returns {PageViewport} Cloned viewport.\n   */\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false,\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip,\n    });\n  }\n\n  /**\n   * Converts PDF point to the viewport coordinates. For examples, useful for\n   * converting PDF location into canvas pixel coordinates.\n   * @param {number} x - The x-coordinate.\n   * @param {number} y - The y-coordinate.\n   * @returns {Object} Object containing `x` and `y` properties of the\n   *   point in the viewport coordinate space.\n   * @see {@link convertToPdfPoint}\n   * @see {@link convertToViewportRectangle}\n   */\n  convertToViewportPoint(x, y) {\n    return Util.applyTransform([x, y], this.transform);\n  }\n\n  /**\n   * Converts PDF rectangle to the viewport coordinates.\n   * @param {Array} rect - The xMin, yMin, xMax and yMax coordinates.\n   * @returns {Array} Array containing corresponding coordinates of the\n   *   rectangle in the viewport coordinate space.\n   * @see {@link convertToViewportPoint}\n   */\n  convertToViewportRectangle(rect) {\n    const topLeft = Util.applyTransform([rect[0], rect[1]], this.transform);\n    const bottomRight = Util.applyTransform([rect[2], rect[3]], this.transform);\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n\n  /**\n   * Converts viewport coordinates to the PDF location. For examples, useful\n   * for converting canvas pixel location into PDF one.\n   * @param {number} x - The x-coordinate.\n   * @param {number} y - The y-coordinate.\n   * @returns {Object} Object containing `x` and `y` properties of the\n   *   point in the PDF coordinate space.\n   * @see {@link convertToViewportPoint}\n   */\n  convertToPdfPoint(x, y) {\n    return Util.applyInverseTransform([x, y], this.transform);\n  }\n}\n\nclass RenderingCancelledException extends BaseException {\n  constructor(msg, type) {\n    super(msg);\n    this.type = type;\n  }\n}\n\nconst LinkTarget = {\n  NONE: 0, // Default value.\n  SELF: 1,\n  BLANK: 2,\n  PARENT: 3,\n  TOP: 4,\n};\n\n/**\n * @typedef ExternalLinkParameters\n * @typedef {Object} ExternalLinkParameters\n * @property {string} url - An absolute URL.\n * @property {LinkTarget} [target] - The link target. The default value is\n *   `LinkTarget.NONE`.\n * @property {string} [rel] - The link relationship. The default value is\n *   `DEFAULT_LINK_REL`.\n * @property {boolean} [enabled] - Whether the link should be enabled. The\n *   default value is true.\n */\n\n/**\n * Adds various attributes (href, title, target, rel) to hyperlinks.\n * @param {HTMLLinkElement} link - The link element.\n * @param {ExternalLinkParameters} params\n */\nfunction addLinkAttributes(link, { url, target, rel, enabled = true } = {}) {\n  assert(\n    url && typeof url === \"string\",\n    'addLinkAttributes: A valid \"url\" parameter must provided.'\n  );\n\n  const urlNullRemoved = removeNullCharacters(url);\n  if (enabled) {\n    link.href = link.title = urlNullRemoved;\n  } else {\n    link.href = \"\";\n    link.title = `Disabled: ${urlNullRemoved}`;\n    link.onclick = () => {\n      return false;\n    };\n  }\n\n  let targetStr = \"\"; // LinkTarget.NONE\n  switch (target) {\n    case LinkTarget.NONE:\n      break;\n    case LinkTarget.SELF:\n      targetStr = \"_self\";\n      break;\n    case LinkTarget.BLANK:\n      targetStr = \"_blank\";\n      break;\n    case LinkTarget.PARENT:\n      targetStr = \"_parent\";\n      break;\n    case LinkTarget.TOP:\n      targetStr = \"_top\";\n      break;\n  }\n  link.target = targetStr;\n\n  link.rel = typeof rel === \"string\" ? rel : DEFAULT_LINK_REL;\n}\n\n/**\n * Gets the file name from a given URL.\n * @param {string} url\n */\nfunction getFilenameFromUrl(url) {\n  const anchor = url.indexOf(\"#\");\n  const query = url.indexOf(\"?\");\n  const end = Math.min(\n    anchor > 0 ? anchor : url.length,\n    query > 0 ? query : url.length\n  );\n  return url.substring(url.lastIndexOf(\"/\", end) + 1, end);\n}\n\nclass StatTimer {\n  constructor() {\n    this.started = Object.create(null);\n    this.times = [];\n  }\n\n  time(name) {\n    if (name in this.started) {\n      warn(`Timer is already running for ${name}`);\n    }\n    this.started[name] = Date.now();\n  }\n\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      warn(`Timer has not been started for ${name}`);\n    }\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now(),\n    });\n    // Remove timer from started so it can be called again.\n    delete this.started[name];\n  }\n\n  toString() {\n    // Find the longest name for padding purposes.\n    const outBuf = [];\n    let longest = 0;\n    for (const time of this.times) {\n      const name = time.name;\n      if (name.length > longest) {\n        longest = name.length;\n      }\n    }\n    for (const time of this.times) {\n      const duration = time.end - time.start;\n      outBuf.push(`${time.name.padEnd(longest)} ${duration}ms\\n`);\n    }\n    return outBuf.join(\"\");\n  }\n}\n\nfunction isFetchSupported() {\n  return (\n    typeof fetch !== \"undefined\" &&\n    typeof Response !== \"undefined\" &&\n    \"body\" in Response.prototype &&\n    typeof ReadableStream !== \"undefined\"\n  );\n}\n\nfunction isValidFetchUrl(url, baseUrl) {\n  try {\n    const { protocol } = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    // The Fetch API only supports the http/https protocols, and not file/ftp.\n    return protocol === \"http:\" || protocol === \"https:\";\n  } catch (ex) {\n    return false; // `new URL()` will throw on incorrect data.\n  }\n}\n\n/**\n * @param {string} src\n * @param {boolean} [removeScriptElement]\n * @returns {Promise<void>}\n */\nfunction loadScript(src, removeScriptElement = false) {\n  return new Promise((resolve, reject) => {\n    const script = document.createElement(\"script\");\n    script.src = src;\n\n    script.onload = function (evt) {\n      if (removeScriptElement) {\n        script.remove();\n      }\n      resolve(evt);\n    };\n    script.onerror = function () {\n      reject(new Error(`Cannot load script at: ${script.src}`));\n    };\n    (document.head || document.documentElement).appendChild(script);\n  });\n}\n\n// Deprecated API function -- display regardless of the `verbosity` setting.\nfunction deprecated(details) {\n  console.log(\"Deprecated API usage: \" + details);\n}\n\nlet pdfDateStringRegex;\n\nclass PDFDateString {\n  /**\n   * Convert a PDF date string to a JavaScript `Date` object.\n   *\n   * The PDF date string format is described in section 7.9.4 of the official\n   * PDF 32000-1:2008 specification. However, in the PDF 1.7 reference (sixth\n   * edition) Adobe describes the same format including a trailing apostrophe.\n   * This syntax in incorrect, but Adobe Acrobat creates PDF files that contain\n   * them. We ignore all apostrophes as they are not necessary for date parsing.\n   *\n   * Moreover, Adobe Acrobat doesn't handle changing the date to universal time\n   * and doesn't use the user's time zone (effectively ignoring the HH' and mm'\n   * parts of the date string).\n   *\n   * @param {string} input\n   * @returns {Date|null}\n   */\n  static toDateObject(input) {\n    if (!input || !isString(input)) {\n      return null;\n    }\n\n    // Lazily initialize the regular expression.\n    if (!pdfDateStringRegex) {\n      pdfDateStringRegex = new RegExp(\n        \"^D:\" + // Prefix (required)\n          \"(\\\\d{4})\" + // Year (required)\n          \"(\\\\d{2})?\" + // Month (optional)\n          \"(\\\\d{2})?\" + // Day (optional)\n          \"(\\\\d{2})?\" + // Hour (optional)\n          \"(\\\\d{2})?\" + // Minute (optional)\n          \"(\\\\d{2})?\" + // Second (optional)\n          \"([Z|+|-])?\" + // Universal time relation (optional)\n          \"(\\\\d{2})?\" + // Offset hour (optional)\n          \"'?\" + // Splitting apostrophe (optional)\n          \"(\\\\d{2})?\" + // Offset minute (optional)\n          \"'?\" // Trailing apostrophe (optional)\n      );\n    }\n\n    // Optional fields that don't satisfy the requirements from the regular\n    // expression (such as incorrect digit counts or numbers that are out of\n    // range) will fall back the defaults from the specification.\n    const matches = pdfDateStringRegex.exec(input);\n    if (!matches) {\n      return null;\n    }\n\n    // JavaScript's `Date` object expects the month to be between 0 and 11\n    // instead of 1 and 12, so we have to correct for that.\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n\n    // Universal time relation 'Z' means that the local time is equal to the\n    // universal time, whereas the relations '+'/'-' indicate that the local\n    // time is later respectively earlier than the universal time. Every date\n    // is normalized to universal time.\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n}\n\nexport {\n  addLinkAttributes,\n  BaseCanvasFactory,\n  BaseCMapReaderFactory,\n  DEFAULT_LINK_REL,\n  deprecated,\n  DOMCanvasFactory,\n  DOMCMapReaderFactory,\n  DOMSVGFactory,\n  getFilenameFromUrl,\n  isFetchSupported,\n  isValidFetchUrl,\n  LinkTarget,\n  loadScript,\n  PageViewport,\n  PDFDateString,\n  RenderingCancelledException,\n  StatTimer,\n};\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport \"./compatibility.js\";\n\nconst IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n\n// Permission flags from Table 22, Section 7.6.3.2 of the PDF specification.\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800,\n};\n\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4,\n};\n\nconst ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3,\n};\n\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26,\n};\n\nconst AnnotationStateModelType = {\n  MARKED: \"Marked\",\n  REVIEW: \"Review\",\n};\n\nconst AnnotationMarkedState = {\n  MARKED: \"Marked\",\n  UNMARKED: \"Unmarked\",\n};\n\nconst AnnotationReviewState = {\n  ACCEPTED: \"Accepted\",\n  REJECTED: \"Rejected\",\n  CANCELLED: \"Cancelled\",\n  COMPLETED: \"Completed\",\n  NONE: \"None\",\n};\n\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\",\n};\n\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200,\n};\n\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000,\n};\n\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5,\n};\n\nconst AnnotationActionEventType = {\n  E: \"Mouse Enter\",\n  X: \"Mouse Exit\",\n  D: \"Mouse Down\",\n  U: \"Mouse Up\",\n  Fo: \"Focus\",\n  Bl: \"Blur\",\n  PO: \"PageOpen\",\n  PC: \"PageClose\",\n  PV: \"PageVisible\",\n  PI: \"PageInvisible\",\n  K: \"Keystroke\",\n  F: \"Format\",\n  V: \"Validate\",\n  C: \"Calculate\",\n};\n\nconst DocumentActionEventType = {\n  WC: \"WillClose\",\n  WS: \"WillSave\",\n  DS: \"DidSave\",\n  WP: \"WillPrint\",\n  DP: \"DidPrint\",\n};\n\nconst PageActionEventType = {\n  O: \"PageOpen\",\n  C: \"PageClose\",\n};\n\nconst StreamType = {\n  UNKNOWN: \"UNKNOWN\",\n  FLATE: \"FLATE\",\n  LZW: \"LZW\",\n  DCT: \"DCT\",\n  JPX: \"JPX\",\n  JBIG: \"JBIG\",\n  A85: \"A85\",\n  AHX: \"AHX\",\n  CCF: \"CCF\",\n  RLX: \"RLX\", // PDF short name is 'RL', but telemetry requires three chars.\n};\n\nconst FontType = {\n  UNKNOWN: \"UNKNOWN\",\n  TYPE1: \"TYPE1\",\n  TYPE1C: \"TYPE1C\",\n  CIDFONTTYPE0: \"CIDFONTTYPE0\",\n  CIDFONTTYPE0C: \"CIDFONTTYPE0C\",\n  TRUETYPE: \"TRUETYPE\",\n  CIDFONTTYPE2: \"CIDFONTTYPE2\",\n  TYPE3: \"TYPE3\",\n  OPENTYPE: \"OPENTYPE\",\n  TYPE0: \"TYPE0\",\n  MMTYPE1: \"MMTYPE1\",\n};\n\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5,\n};\n\nconst CMapCompressionType = {\n  NONE: 0,\n  BINARY: 1,\n  STREAM: 2,\n};\n\n// All the possible operations for an operator list.\nconst OPS = {\n  // Intentionally start from 1 so it is easy to spot bad operators that will be\n  // 0's.\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotations: 78,\n  endAnnotations: 79,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintJpegXObject: 82,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91,\n};\n\nconst UNSUPPORTED_FEATURES = {\n  /** @deprecated unused */\n  unknown: \"unknown\",\n  forms: \"forms\",\n  javaScript: \"javaScript\",\n  smask: \"smask\",\n  shadingPattern: \"shadingPattern\",\n  /** @deprecated unused */\n  font: \"font\",\n  errorTilingPattern: \"errorTilingPattern\",\n  errorExtGState: \"errorExtGState\",\n  errorXObject: \"errorXObject\",\n  errorFontLoadType3: \"errorFontLoadType3\",\n  errorFontState: \"errorFontState\",\n  errorFontMissing: \"errorFontMissing\",\n  errorFontTranslate: \"errorFontTranslate\",\n  errorColorSpace: \"errorColorSpace\",\n  errorOperatorList: \"errorOperatorList\",\n  errorFontToUnicode: \"errorFontToUnicode\",\n  errorFontLoadNative: \"errorFontLoadNative\",\n  errorFontGetPath: \"errorFontGetPath\",\n  errorMarkedContent: \"errorMarkedContent\",\n};\n\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2,\n};\n\nlet verbosity = VerbosityLevel.WARNINGS;\n\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\n\nfunction getVerbosityLevel() {\n  return verbosity;\n}\n\n// A notice for devs. These are good for things that are helpful to devs, such\n// as warning that Workers were disabled, which is important to devs but not\n// end users.\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.log(`Info: ${msg}`);\n  }\n}\n\n// Non-fatal warnings.\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.log(`Warning: ${msg}`);\n  }\n}\n\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\n\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\n\n// Checks if URLs have the same origin. For non-HTTP based URLs, returns false.\nfunction isSameOrigin(baseUrl, otherUrl) {\n  let base;\n  try {\n    base = new URL(baseUrl);\n    if (!base.origin || base.origin === \"null\") {\n      return false; // non-HTTP url\n    }\n  } catch (e) {\n    return false;\n  }\n\n  const other = new URL(otherUrl, base);\n  return base.origin === other.origin;\n}\n\n// Checks if URLs use one of the allowed protocols, e.g. to avoid XSS.\nfunction _isValidProtocol(url) {\n  if (!url) {\n    return false;\n  }\n  switch (url.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Attempts to create a valid absolute URL.\n *\n * @param {URL|string} url - An absolute, or relative, URL.\n * @param {URL|string} baseUrl - An absolute URL.\n * @returns Either a valid {URL}, or `null` otherwise.\n */\nfunction createValidAbsoluteUrl(url, baseUrl) {\n  if (!url) {\n    return null;\n  }\n  try {\n    const absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    if (_isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch (ex) {\n    /* `new URL()` will throw on incorrect data. */\n  }\n  return null;\n}\n\nfunction shadow(obj, prop, value) {\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: true,\n    configurable: true,\n    writable: false,\n  });\n  return value;\n}\n\n/**\n * @type {any}\n */\nconst BaseException = (function BaseExceptionClosure() {\n  // eslint-disable-next-line no-shadow\n  function BaseException(message) {\n    if (this.constructor === BaseException) {\n      unreachable(\"Cannot initialize BaseException.\");\n    }\n    this.message = message;\n    this.name = this.constructor.name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n\n  return BaseException;\n})();\n\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg);\n    this.code = code;\n  }\n}\n\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg);\n    this.details = details;\n  }\n}\n\nclass InvalidPDFException extends BaseException {}\n\nclass MissingPDFException extends BaseException {}\n\nclass UnexpectedResponseException extends BaseException {\n  constructor(msg, status) {\n    super(msg);\n    this.status = status;\n  }\n}\n\n/**\n * Error caused during parsing PDF data.\n */\nclass FormatError extends BaseException {}\n\n/**\n * Error used to indicate task cancellation.\n */\nclass AbortException extends BaseException {}\n\nconst NullCharactersRegExp = /\\x00/g;\n\n/**\n * @param {string} str\n */\nfunction removeNullCharacters(str) {\n  if (typeof str !== \"string\") {\n    warn(\"The argument for removeNullCharacters must be a string.\");\n    return str;\n  }\n  return str.replace(NullCharactersRegExp, \"\");\n}\n\nfunction bytesToString(bytes) {\n  assert(\n    bytes !== null && typeof bytes === \"object\" && bytes.length !== undefined,\n    \"Invalid argument for bytesToString\"\n  );\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\n\nfunction stringToBytes(str) {\n  assert(typeof str === \"string\", \"Invalid argument for stringToBytes\");\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\n\n/**\n * Gets length of the array (Array, Uint8Array, or string) in bytes.\n * @param {Array<any>|Uint8Array|string} arr\n * @returns {number}\n */\nfunction arrayByteLength(arr) {\n  if (arr.length !== undefined) {\n    return arr.length;\n  }\n  assert(arr.byteLength !== undefined, \"arrayByteLength - invalid argument.\");\n  return arr.byteLength;\n}\n\n/**\n * Combines array items (arrays) into single Uint8Array object.\n * @param {Array<Array<any>|Uint8Array|string>} arr - the array of the arrays\n *   (Array, Uint8Array, or string).\n * @returns {Uint8Array}\n */\nfunction arraysToBytes(arr) {\n  const length = arr.length;\n  // Shortcut: if first and only item is Uint8Array, return it.\n  if (length === 1 && arr[0] instanceof Uint8Array) {\n    return arr[0];\n  }\n  let resultLength = 0;\n  for (let i = 0; i < length; i++) {\n    resultLength += arrayByteLength(arr[i]);\n  }\n  let pos = 0;\n  const data = new Uint8Array(resultLength);\n  for (let i = 0; i < length; i++) {\n    let item = arr[i];\n    if (!(item instanceof Uint8Array)) {\n      if (typeof item === \"string\") {\n        item = stringToBytes(item);\n      } else {\n        item = new Uint8Array(item);\n      }\n    }\n    const itemLength = item.byteLength;\n    data.set(item, pos);\n    pos += itemLength;\n  }\n  return data;\n}\n\nfunction string32(value) {\n  return String.fromCharCode(\n    (value >> 24) & 0xff,\n    (value >> 16) & 0xff,\n    (value >> 8) & 0xff,\n    value & 0xff\n  );\n}\n\nfunction objectSize(obj) {\n  return Object.keys(obj).length;\n}\n\n// Ensures that the returned Object has a `null` prototype.\nfunction objectFromEntries(iterable) {\n  return Object.assign(Object.create(null), Object.fromEntries(iterable));\n}\n\n// Checks the endianness of the platform.\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\nconst IsLittleEndianCached = {\n  get value() {\n    return shadow(this, \"value\", isLittleEndian());\n  },\n};\n\n// Checks if it's possible to eval JS expressions.\nfunction isEvalSupported() {\n  try {\n    new Function(\"\"); // eslint-disable-line no-new, no-new-func\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nconst IsEvalSupportedCached = {\n  get value() {\n    return shadow(this, \"value\", isEvalSupported());\n  },\n};\n\nconst hexNumbers = [...Array(256).keys()].map(n =>\n  n.toString(16).padStart(2, \"0\")\n);\n\nclass Util {\n  static makeHexColor(r, g, b) {\n    return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n  }\n\n  // Concatenates two transformation matrices together and returns the result.\n  static transform(m1, m2) {\n    return [\n      m1[0] * m2[0] + m1[2] * m2[1],\n      m1[1] * m2[0] + m1[3] * m2[1],\n      m1[0] * m2[2] + m1[2] * m2[3],\n      m1[1] * m2[2] + m1[3] * m2[3],\n      m1[0] * m2[4] + m1[2] * m2[5] + m1[4],\n      m1[1] * m2[4] + m1[3] * m2[5] + m1[5],\n    ];\n  }\n\n  // For 2d affine transforms\n  static applyTransform(p, m) {\n    const xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    const yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  }\n\n  static applyInverseTransform(p, m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    const xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    const yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  }\n\n  // Applies the transform to the rectangle and finds the minimum axially\n  // aligned bounding box.\n  static getAxialAlignedBoundingBox(r, m) {\n    const p1 = Util.applyTransform(r, m);\n    const p2 = Util.applyTransform(r.slice(2, 4), m);\n    const p3 = Util.applyTransform([r[0], r[3]], m);\n    const p4 = Util.applyTransform([r[2], r[1]], m);\n    return [\n      Math.min(p1[0], p2[0], p3[0], p4[0]),\n      Math.min(p1[1], p2[1], p3[1], p4[1]),\n      Math.max(p1[0], p2[0], p3[0], p4[0]),\n      Math.max(p1[1], p2[1], p3[1], p4[1]),\n    ];\n  }\n\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [\n      m[3] / d,\n      -m[1] / d,\n      -m[2] / d,\n      m[0] / d,\n      (m[2] * m[5] - m[4] * m[3]) / d,\n      (m[4] * m[1] - m[5] * m[0]) / d,\n    ];\n  }\n\n  // Apply a generic 3d matrix M on a 3-vector v:\n  //   | a b c |   | X |\n  //   | d e f | x | Y |\n  //   | g h i |   | Z |\n  // M is assumed to be serialized as [a,b,c,d,e,f,g,h,i],\n  // with v as [X,Y,Z]\n  static apply3dTransform(m, v) {\n    return [\n      m[0] * v[0] + m[1] * v[1] + m[2] * v[2],\n      m[3] * v[0] + m[4] * v[1] + m[5] * v[2],\n      m[6] * v[0] + m[7] * v[1] + m[8] * v[2],\n    ];\n  }\n\n  // This calculation uses Singular Value Decomposition.\n  // The SVD can be represented with formula A = USV. We are interested in the\n  // matrix S here because it represents the scale values.\n  static singularValueDecompose2dScale(m) {\n    const transpose = [m[0], m[2], m[1], m[3]];\n\n    // Multiply matrix m with its transpose.\n    const a = m[0] * transpose[0] + m[1] * transpose[2];\n    const b = m[0] * transpose[1] + m[1] * transpose[3];\n    const c = m[2] * transpose[0] + m[3] * transpose[2];\n    const d = m[2] * transpose[1] + m[3] * transpose[3];\n\n    // Solve the second degree polynomial to get roots.\n    const first = (a + d) / 2;\n    const second = Math.sqrt((a + d) * (a + d) - 4 * (a * d - c * b)) / 2;\n    const sx = first + second || 1;\n    const sy = first - second || 1;\n\n    // Scale values are the square roots of the eigenvalues.\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  }\n\n  // Normalize rectangle rect=[x1, y1, x2, y2] so that (x1,y1) < (x2,y2)\n  // For coordinate systems whose origin lies in the bottom-left, this\n  // means normalization to (BL,TR) ordering. For systems with origin in the\n  // top-left, this means (TL,BR) ordering.\n  static normalizeRect(rect) {\n    const r = rect.slice(0); // clone rect\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n\n  // Returns a rectangle [x1, y1, x2, y2] corresponding to the\n  // intersection of rect1 and rect2. If no intersection, returns 'false'\n  // The rectangle coordinates of rect1, rect2 should be [x1, y1, x2, y2]\n  static intersect(rect1, rect2) {\n    function compare(a, b) {\n      return a - b;\n    }\n\n    // Order points along the axes\n    const orderedX = [rect1[0], rect1[2], rect2[0], rect2[2]].sort(compare);\n    const orderedY = [rect1[1], rect1[3], rect2[1], rect2[3]].sort(compare);\n    const result = [];\n\n    rect1 = Util.normalizeRect(rect1);\n    rect2 = Util.normalizeRect(rect2);\n\n    // X: first and second points belong to different rectangles?\n    if (\n      (orderedX[0] === rect1[0] && orderedX[1] === rect2[0]) ||\n      (orderedX[0] === rect2[0] && orderedX[1] === rect1[0])\n    ) {\n      // Intersection must be between second and third points\n      result[0] = orderedX[1];\n      result[2] = orderedX[2];\n    } else {\n      return null;\n    }\n\n    // Y: first and second points belong to different rectangles?\n    if (\n      (orderedY[0] === rect1[1] && orderedY[1] === rect2[1]) ||\n      (orderedY[0] === rect2[1] && orderedY[1] === rect1[1])\n    ) {\n      // Intersection must be between second and third points\n      result[1] = orderedY[1];\n      result[3] = orderedY[2];\n    } else {\n      return null;\n    }\n\n    return result;\n  }\n}\n\n// prettier-ignore\nconst PDFStringTranslateTable = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0x2D8, 0x2C7, 0x2C6, 0x2D9, 0x2DD, 0x2DB, 0x2DA, 0x2DC, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014,\n  0x2013, 0x192, 0x2044, 0x2039, 0x203A, 0x2212, 0x2030, 0x201E, 0x201C,\n  0x201D, 0x2018, 0x2019, 0x201A, 0x2122, 0xFB01, 0xFB02, 0x141, 0x152, 0x160,\n  0x178, 0x17D, 0x131, 0x142, 0x153, 0x161, 0x17E, 0, 0x20AC\n];\n\nfunction stringToPDFString(str) {\n  const length = str.length,\n    strBuf = [];\n  if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n    // UTF16BE BOM\n    for (let i = 2; i < length; i += 2) {\n      strBuf.push(\n        String.fromCharCode((str.charCodeAt(i) << 8) | str.charCodeAt(i + 1))\n      );\n    }\n  } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n    // UTF16LE BOM\n    for (let i = 2; i < length; i += 2) {\n      strBuf.push(\n        String.fromCharCode((str.charCodeAt(i + 1) << 8) | str.charCodeAt(i))\n      );\n    }\n  } else {\n    for (let i = 0; i < length; ++i) {\n      const code = PDFStringTranslateTable[str.charCodeAt(i)];\n      strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n    }\n  }\n  return strBuf.join(\"\");\n}\n\nfunction escapeString(str) {\n  // replace \"(\", \")\", \"\\n\", \"\\r\" and \"\\\"\n  // by \"\\(\", \"\\)\", \"\\\\n\", \"\\\\r\" and \"\\\\\"\n  // in order to write it in a PDF file.\n  return str.replace(/([()\\\\\\n\\r])/g, match => {\n    if (match === \"\\n\") {\n      return \"\\\\n\";\n    } else if (match === \"\\r\") {\n      return \"\\\\r\";\n    }\n    return `\\\\${match}`;\n  });\n}\n\nfunction isAscii(str) {\n  return /^[\\x00-\\x7F]*$/.test(str);\n}\n\nfunction stringToUTF16BEString(str) {\n  const buf = [\"\\xFE\\xFF\"];\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const char = str.charCodeAt(i);\n    buf.push(String.fromCharCode((char >> 8) & 0xff));\n    buf.push(String.fromCharCode(char & 0xff));\n  }\n  return buf.join(\"\");\n}\n\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\n\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\n\nfunction isBool(v) {\n  return typeof v === \"boolean\";\n}\n\nfunction isNum(v) {\n  return typeof v === \"number\";\n}\n\nfunction isString(v) {\n  return typeof v === \"string\";\n}\n\nfunction isArrayBuffer(v) {\n  return typeof v === \"object\" && v !== null && v.byteLength !== undefined;\n}\n\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  return arr1.every(function (element, index) {\n    return element === arr2[index];\n  });\n}\n\nfunction getModificationDate(date = new Date()) {\n  const buffer = [\n    date.getUTCFullYear().toString(),\n    (date.getUTCMonth() + 1).toString().padStart(2, \"0\"),\n    date.getUTCDate().toString().padStart(2, \"0\"),\n    date.getUTCHours().toString().padStart(2, \"0\"),\n    date.getUTCMinutes().toString().padStart(2, \"0\"),\n    date.getUTCSeconds().toString().padStart(2, \"0\"),\n  ];\n\n  return buffer.join(\"\");\n}\n\n/**\n * Promise Capability object.\n *\n * @typedef {Object} PromiseCapability\n * @property {Promise<any>} promise - A Promise object.\n * @property {boolean} settled - If the Promise has been fulfilled/rejected.\n * @property {function} resolve - Fulfills the Promise.\n * @property {function} reject - Rejects the Promise.\n */\n\n/**\n * Creates a promise capability object.\n * @alias createPromiseCapability\n *\n * @returns {PromiseCapability}\n */\nfunction createPromiseCapability() {\n  const capability = Object.create(null);\n  let isSettled = false;\n\n  Object.defineProperty(capability, \"settled\", {\n    get() {\n      return isSettled;\n    },\n  });\n  capability.promise = new Promise(function (resolve, reject) {\n    capability.resolve = function (data) {\n      isSettled = true;\n      resolve(data);\n    };\n    capability.reject = function (reason) {\n      isSettled = true;\n      reject(reason);\n    };\n  });\n  return capability;\n}\n\nconst createObjectURL = (function createObjectURLClosure() {\n  // Blob/createObjectURL is not available, falling back to data schema.\n  const digits =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\n  // eslint-disable-next-line no-shadow\n  return function createObjectURL(data, contentType, forceDataSchema = false) {\n    if (!forceDataSchema && URL.createObjectURL) {\n      const blob = new Blob([data], { type: contentType });\n      return URL.createObjectURL(blob);\n    }\n\n    let buffer = `data:${contentType};base64,`;\n    for (let i = 0, ii = data.length; i < ii; i += 3) {\n      const b1 = data[i] & 0xff;\n      const b2 = data[i + 1] & 0xff;\n      const b3 = data[i + 2] & 0xff;\n      const d1 = b1 >> 2,\n        d2 = ((b1 & 3) << 4) | (b2 >> 4);\n      const d3 = i + 1 < ii ? ((b2 & 0xf) << 2) | (b3 >> 6) : 64;\n      const d4 = i + 2 < ii ? b3 & 0x3f : 64;\n      buffer += digits[d1] + digits[d2] + digits[d3] + digits[d4];\n    }\n    return buffer;\n  };\n})();\n\nconst XMLEntities = {\n  /* < */ 0x3c: \"&lt;\",\n  /* > */ 0x3e: \"&gt;\",\n  /* & */ 0x26: \"&amp;\",\n  /* \" */ 0x22: \"&quot;\",\n  /* ' */ 0x27: \"&apos;\",\n};\n\nfunction encodeToXmlString(str) {\n  const buffer = [];\n  let start = 0;\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const char = str.codePointAt(i);\n    if (0x20 <= char && char <= 0x7e) {\n      // ascii\n      const entity = XMLEntities[char];\n      if (entity) {\n        if (start < i) {\n          buffer.push(str.substring(start, i));\n        }\n        buffer.push(entity);\n        start = i + 1;\n      }\n    } else {\n      if (start < i) {\n        buffer.push(str.substring(start, i));\n      }\n      buffer.push(`&#x${char.toString(16).toUpperCase()};`);\n      if (char > 0xd7ff && (char < 0xe000 || char > 0xfffd)) {\n        // char is represented by two u16\n        i++;\n      }\n      start = i + 1;\n    }\n  }\n\n  if (buffer.length === 0) {\n    return str;\n  }\n\n  if (start < str.length) {\n    buffer.push(str.substring(start, str.length));\n  }\n\n  return buffer.join(\"\");\n}\n\nexport {\n  AbortException,\n  AnnotationActionEventType,\n  AnnotationBorderStyleType,\n  AnnotationFieldFlag,\n  AnnotationFlag,\n  AnnotationMarkedState,\n  AnnotationReplyType,\n  AnnotationReviewState,\n  AnnotationStateModelType,\n  AnnotationType,\n  arrayByteLength,\n  arraysToBytes,\n  assert,\n  BaseException,\n  bytesToString,\n  CMapCompressionType,\n  createObjectURL,\n  createPromiseCapability,\n  createValidAbsoluteUrl,\n  DocumentActionEventType,\n  encodeToXmlString,\n  escapeString,\n  FONT_IDENTITY_MATRIX,\n  FontType,\n  FormatError,\n  getModificationDate,\n  getVerbosityLevel,\n  IDENTITY_MATRIX,\n  ImageKind,\n  info,\n  InvalidPDFException,\n  isArrayBuffer,\n  isArrayEqual,\n  isAscii,\n  isBool,\n  IsEvalSupportedCached,\n  IsLittleEndianCached,\n  isNum,\n  isSameOrigin,\n  isString,\n  MissingPDFException,\n  objectFromEntries,\n  objectSize,\n  OPS,\n  PageActionEventType,\n  PasswordException,\n  PasswordResponses,\n  PermissionFlag,\n  removeNullCharacters,\n  setVerbosityLevel,\n  shadow,\n  StreamType,\n  string32,\n  stringToBytes,\n  stringToPDFString,\n  stringToUTF16BEString,\n  stringToUTF8String,\n  TextRenderingMode,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  unreachable,\n  UNSUPPORTED_FEATURES,\n  utf8StringToString,\n  Util,\n  VerbosityLevel,\n  warn,\n};\n","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isNodeJS } from \"./is_node.js\";\n\n// Skip compatibility checks for modern builds and if we already ran the module.\nif (\n  (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"SKIP_BABEL\")) &&\n  (typeof globalThis === \"undefined\" || !globalThis._pdfjsCompatibilityChecked)\n) {\n  // Provides support for globalThis in legacy browsers.\n  // Support: Firefox<65, Chrome<71, Safari<12.1\n  if (typeof globalThis === \"undefined\" || globalThis.Math !== Math) {\n    // eslint-disable-next-line no-global-assign\n    globalThis = require(\"core-js/es/global-this\");\n  }\n  globalThis._pdfjsCompatibilityChecked = true;\n\n  // Support: Node.js\n  (function checkNodeBtoa() {\n    if (globalThis.btoa || !isNodeJS) {\n      return;\n    }\n    globalThis.btoa = function (chars) {\n      // eslint-disable-next-line no-undef\n      return Buffer.from(chars, \"binary\").toString(\"base64\");\n    };\n  })();\n\n  // Support: Node.js\n  (function checkNodeAtob() {\n    if (globalThis.atob || !isNodeJS) {\n      return;\n    }\n    globalThis.atob = function (input) {\n      // eslint-disable-next-line no-undef\n      return Buffer.from(input, \"base64\").toString(\"binary\");\n    };\n  })();\n\n  // Provides support for Object.fromEntries in legacy browsers.\n  // Support: Firefox<63, Chrome<73, Safari<12.1\n  (function checkObjectFromEntries() {\n    if (Object.fromEntries) {\n      return;\n    }\n    require(\"core-js/es/object/from-entries.js\");\n  })();\n\n  // Provides support for *recent* additions to the Promise specification,\n  // however basic Promise support is assumed to be available natively.\n  // Support: Firefox<71, Chrome<76, Safari<13\n  (function checkPromise() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders are synchronous, hence `Promise` shouldn't\n      // need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    if (globalThis.Promise.allSettled) {\n      return;\n    }\n    globalThis.Promise = require(\"core-js/es/promise/index.js\");\n  })();\n\n  // Support: Safari\n  (function checkURL() {\n    if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"PRODUCTION\")) {\n      // Prevent \"require is not a function\" errors in development mode,\n      // since the `URL` constructor should be available in modern browers.\n      return;\n    } else if (!PDFJSDev.test(\"GENERIC\")) {\n      // The `URL` constructor is assumed to be available in the extension\n      // builds.\n      return;\n    } else if (PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders don't use the `URL` constructor, so it\n      // doesn't need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    globalThis.URL = require(\"core-js/web/url.js\");\n  })();\n\n  // Support: Safari<10.1, Node.js\n  (function checkReadableStream() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders are synchronous, hence `ReadableStream`\n      // shouldn't need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    let isReadableStreamSupported = false;\n\n    if (typeof ReadableStream !== \"undefined\") {\n      // MS Edge may say it has ReadableStream but they are not up to spec yet.\n      try {\n        // eslint-disable-next-line no-new\n        new ReadableStream({\n          start(controller) {\n            controller.close();\n          },\n        });\n        isReadableStreamSupported = true;\n      } catch (e) {\n        // The ReadableStream constructor cannot be used.\n      }\n    }\n    if (isReadableStreamSupported) {\n      return;\n    }\n    globalThis.ReadableStream = require(\"web-streams-polyfill/dist/ponyfill.js\").ReadableStream;\n  })();\n\n  // Provides support for String.prototype.padStart in legacy browsers.\n  // Support: Chrome<57, Safari<10\n  (function checkStringPadStart() {\n    if (String.prototype.padStart) {\n      return;\n    }\n    require(\"core-js/es/string/pad-start.js\");\n  })();\n\n  // Provides support for String.prototype.padEnd in legacy browsers.\n  // Support: Chrome<57, Safari<10\n  (function checkStringPadEnd() {\n    if (String.prototype.padEnd) {\n      return;\n    }\n    require(\"core-js/es/string/pad-end.js\");\n  })();\n\n  // Provides support for Object.values in legacy browsers.\n  // Support: Chrome<54, Safari<10.1\n  (function checkObjectValues() {\n    if (Object.values) {\n      return;\n    }\n    Object.values = require(\"core-js/es/object/values.js\");\n  })();\n\n  // Provides support for Object.entries in legacy browsers.\n  // Support: Chrome<54, Safari<10.1\n  (function checkObjectEntries() {\n    if (Object.entries) {\n      return;\n    }\n    Object.entries = require(\"core-js/es/object/entries.js\");\n  })();\n}\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals process */\n\n// NW.js / Electron is a browser context, but copies some Node.js objects; see\n// http://docs.nwjs.io/en/latest/For%20Users/Advanced/JavaScript%20Contexts%20in%20NW.js/#access-nodejs-and-nwjs-api-in-browser-context\n// https://www.electronjs.org/docs/api/process#processversionselectron-readonly\n// https://www.electronjs.org/docs/api/process#processtype-readonly\nconst isNodeJS =\n  typeof process === \"object\" &&\n  process + \"\" === \"[object process]\" &&\n  !process.versions.nw &&\n  !(process.versions.electron && process.type && process.type !== \"browser\");\n\nexport { isNodeJS };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @module pdfjsLib\n */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n  getVerbosityLevel,\n  info,\n  InvalidPDFException,\n  isArrayBuffer,\n  isSameOrigin,\n  MissingPDFException,\n  PasswordException,\n  setVerbosityLevel,\n  shadow,\n  stringToBytes,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  unreachable,\n  warn,\n} from \"../shared/util.js\";\nimport {\n  deprecated,\n  DOMCanvasFactory,\n  DOMCMapReaderFactory,\n  loadScript,\n  PageViewport,\n  RenderingCancelledException,\n  StatTimer,\n} from \"./display_utils.js\";\nimport { FontFaceObject, FontLoader } from \"./font_loader.js\";\nimport { NodeCanvasFactory, NodeCMapReaderFactory } from \"./node_utils.js\";\nimport { AnnotationStorage } from \"./annotation_storage.js\";\nimport { apiCompatibilityParams } from \"./api_compatibility.js\";\nimport { CanvasGraphics } from \"./canvas.js\";\nimport { GlobalWorkerOptions } from \"./worker_options.js\";\nimport { isNodeJS } from \"../shared/is_node.js\";\nimport { MessageHandler } from \"../shared/message_handler.js\";\nimport { Metadata } from \"./metadata.js\";\nimport { OptionalContentConfig } from \"./optional_content_config.js\";\nimport { PDFDataTransportStream } from \"./transport_stream.js\";\nimport { WebGLContext } from \"./webgl.js\";\n\nconst DEFAULT_RANGE_CHUNK_SIZE = 65536; // 2^16 = 65536\nconst RENDERING_CANCELLED_TIMEOUT = 100; // ms\n\nconst DefaultCanvasFactory =\n  (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) && isNodeJS\n    ? NodeCanvasFactory\n    : DOMCanvasFactory;\nconst DefaultCMapReaderFactory =\n  (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) && isNodeJS\n    ? NodeCMapReaderFactory\n    : DOMCMapReaderFactory;\n\n/**\n * @typedef {function} IPDFStreamFactory\n * @param {DocumentInitParameters} params - The document initialization\n *   parameters. The \"url\" key is always present.\n * @returns {Promise} A promise, which is resolved with an instance of\n *   {IPDFStream}.\n * @ignore\n */\n\n/**\n * @type IPDFStreamFactory\n * @private\n */\nlet createPDFNetworkStream;\n\n/**\n * Sets the function that instantiates an {IPDFStream} as an alternative PDF\n * data transport.\n *\n * @param {IPDFStreamFactory} pdfNetworkStreamFactory - The factory function\n *   that takes document initialization parameters (including a \"url\") and\n *   returns a promise which is resolved with an instance of {IPDFStream}.\n * @ignore\n */\nfunction setPDFNetworkStreamFactory(pdfNetworkStreamFactory) {\n  createPDFNetworkStream = pdfNetworkStreamFactory;\n}\n\n/**\n * @typedef { Int8Array | Uint8Array | Uint8ClampedArray |\n *            Int16Array | Uint16Array |\n *            Int32Array | Uint32Array | Float32Array |\n *            Float64Array\n * } TypedArray\n */\n\n/**\n * Document initialization / loading parameters object.\n *\n * @typedef {Object} DocumentInitParameters\n * @property {string} [url] - The URL of the PDF.\n * @property {TypedArray|Array<number>|string} [data] - Binary PDF data. Use\n *    typed arrays (Uint8Array) to improve the memory usage. If PDF data is\n *    BASE64-encoded, use `atob()` to convert it to a binary string first.\n * @property {Object} [httpHeaders] - Basic authentication headers.\n * @property {boolean} [withCredentials] - Indicates whether or not\n *   cross-site Access-Control requests should be made using credentials such\n *   as cookies or authorization headers. The default is `false`.\n * @property {string} [password] - For decrypting password-protected PDFs.\n * @property {TypedArray} [initialData] - A typed array with the first portion\n *   or all of the pdf data. Used by the extension since some data is already\n *   loaded before the switch to range requests.\n * @property {number} [length] - The PDF file length. It's used for progress\n *   reports and range requests operations.\n * @property {PDFDataRangeTransport} [range] - Allows for using a custom range\n *   transport implementation.\n * @property {number} [rangeChunkSize] - Specify maximum number of bytes fetched\n *   per range request. The default value is {@link DEFAULT_RANGE_CHUNK_SIZE}.\n * @property {PDFWorker} [worker] - The worker that will be used for loading and\n *   parsing the PDF data.\n * @property {number} [verbosity] - Controls the logging level; the constants\n *   from {@link VerbosityLevel} should be used.\n * @property {string} [docBaseUrl] - The base URL of the document, used when\n *   attempting to recover valid absolute URLs for annotations, and outline\n *   items, that (incorrectly) only specify relative URLs.\n * @property {string} [cMapUrl] - The URL where the predefined Adobe CMaps are\n *   located. Include the trailing slash.\n * @property {boolean} [cMapPacked] - Specifies if the Adobe CMaps are binary\n *   packed or not.\n * @property {Object} [CMapReaderFactory] - The factory that will be used when\n *   reading built-in CMap files. Providing a custom factory is useful for\n *   environments without Fetch API or `XMLHttpRequest` support, such as\n *   Node.js. The default value is {DOMCMapReaderFactory}.\n * @property {boolean} [stopAtErrors] - Reject certain promises, e.g.\n *   `getOperatorList`, `getTextContent`, and `RenderTask`, when the associated\n *   PDF data cannot be successfully parsed, instead of attempting to recover\n *   whatever possible of the data. The default value is `false`.\n * @property {number} [maxImageSize] - The maximum allowed image size in total\n *   pixels, i.e. width * height. Images above this value will not be rendered.\n *   Use -1 for no limit, which is also the default value.\n * @property {boolean} [isEvalSupported] - Determines if we can evaluate strings\n *   as JavaScript. Primarily used to improve performance of font rendering, and\n *   when parsing PDF functions. The default value is `true`.\n * @property {boolean} [disableFontFace] - By default fonts are converted to\n *   OpenType fonts and loaded via `@font-face` rules. If disabled, fonts will\n *   be rendered using a built-in font renderer that constructs the glyphs with\n *   primitive path commands. The default value is `false`.\n * @property {boolean} [fontExtraProperties] - Include additional properties,\n *   which are unused during rendering of PDF documents, when exporting the\n *   parsed font data from the worker-thread. This may be useful for debugging\n *   purposes (and backwards compatibility), but note that it will lead to\n *   increased memory usage. The default value is `false`.\n * @property {HTMLDocument} [ownerDocument] - Specify an explicit document\n *   context to create elements with and to load resources, such as fonts,\n *   into. Defaults to the current document.\n * @property {boolean} [disableRange] - Disable range request loading of PDF\n *   files. When enabled, and if the server supports partial content requests,\n *   then the PDF will be fetched in chunks. The default value is `false`.\n * @property {boolean} [disableStream] - Disable streaming of PDF file data.\n *   By default PDF.js attempts to load PDF files in chunks. The default value\n *   is `false`.\n * @property {boolean} [disableAutoFetch] - Disable pre-fetching of PDF file\n *   data. When range requests are enabled PDF.js will automatically keep\n *   fetching more data even if it isn't needed to display the current page.\n *   The default value is `false`.\n *\n *   NOTE: It is also necessary to disable streaming, see above, in order for\n *   disabling of pre-fetching to work correctly.\n * @property {boolean} [pdfBug] - Enables special hooks for debugging PDF.js\n *   (see `web/debugger.js`). The default value is `false`.\n */\n\n/**\n * @typedef {Object} PDFDocumentStats\n * @property {Object<string, boolean>} streamTypes - Used stream types in the\n *   document (an item is set to true if specific stream ID was used in the\n *   document).\n * @property {Object<string, boolean>} fontTypes - Used font types in the\n *   document (an item is set to true if specific font ID was used in the\n *   document).\n */\n\n/**\n * This is the main entry point for loading a PDF and interacting with it.\n *\n * NOTE: If a URL is used to fetch the PDF data a standard Fetch API call (or\n * XHR as fallback) is used, which means it must follow same origin rules,\n * e.g. no cross-domain requests without CORS.\n *\n * @param {string|TypedArray|DocumentInitParameters|PDFDataRangeTransport} src -\n *   Can be a URL to where a PDF file is located, a typed array (Uint8Array)\n *   already populated with data or parameter object.\n * @returns {PDFDocumentLoadingTask}\n */\nfunction getDocument(src) {\n  const task = new PDFDocumentLoadingTask();\n\n  let source;\n  if (typeof src === \"string\") {\n    source = { url: src };\n  } else if (isArrayBuffer(src)) {\n    source = { data: src };\n  } else if (src instanceof PDFDataRangeTransport) {\n    source = { range: src };\n  } else {\n    if (typeof src !== \"object\") {\n      throw new Error(\n        \"Invalid parameter in getDocument, \" +\n          \"need either Uint8Array, string or a parameter object\"\n      );\n    }\n    if (!src.url && !src.data && !src.range) {\n      throw new Error(\n        \"Invalid parameter object: need either .data, .range or .url\"\n      );\n    }\n    source = src;\n  }\n  const params = Object.create(null);\n  let rangeTransport = null,\n    worker = null;\n\n  for (const key in source) {\n    if (key === \"url\" && typeof window !== \"undefined\") {\n      // The full path is required in the 'url' field.\n      params[key] = new URL(source[key], window.location).href;\n      continue;\n    } else if (key === \"range\") {\n      rangeTransport = source[key];\n      continue;\n    } else if (key === \"worker\") {\n      worker = source[key];\n      continue;\n    } else if (key === \"data\" && !(source[key] instanceof Uint8Array)) {\n      // Converting string or array-like data to Uint8Array.\n      const pdfBytes = source[key];\n      if (typeof pdfBytes === \"string\") {\n        params[key] = stringToBytes(pdfBytes);\n      } else if (\n        typeof pdfBytes === \"object\" &&\n        pdfBytes !== null &&\n        !isNaN(pdfBytes.length)\n      ) {\n        params[key] = new Uint8Array(pdfBytes);\n      } else if (isArrayBuffer(pdfBytes)) {\n        params[key] = new Uint8Array(pdfBytes);\n      } else {\n        throw new Error(\n          \"Invalid PDF binary data: either typed array, \" +\n            \"string or array-like object is expected in the \" +\n            \"data property.\"\n        );\n      }\n      continue;\n    }\n    params[key] = source[key];\n  }\n\n  params.rangeChunkSize = params.rangeChunkSize || DEFAULT_RANGE_CHUNK_SIZE;\n  params.CMapReaderFactory =\n    params.CMapReaderFactory || DefaultCMapReaderFactory;\n  params.ignoreErrors = params.stopAtErrors !== true;\n  params.fontExtraProperties = params.fontExtraProperties === true;\n  params.pdfBug = params.pdfBug === true;\n\n  if (!Number.isInteger(params.maxImageSize)) {\n    params.maxImageSize = -1;\n  }\n  if (typeof params.isEvalSupported !== \"boolean\") {\n    params.isEvalSupported = true;\n  }\n  if (typeof params.disableFontFace !== \"boolean\") {\n    params.disableFontFace = apiCompatibilityParams.disableFontFace || false;\n  }\n  if (typeof params.ownerDocument === \"undefined\") {\n    params.ownerDocument = globalThis.document;\n  }\n\n  if (typeof params.disableRange !== \"boolean\") {\n    params.disableRange = false;\n  }\n  if (typeof params.disableStream !== \"boolean\") {\n    params.disableStream = false;\n  }\n  if (typeof params.disableAutoFetch !== \"boolean\") {\n    params.disableAutoFetch = false;\n  }\n\n  // Set the main-thread verbosity level.\n  setVerbosityLevel(params.verbosity);\n\n  if (!worker) {\n    const workerParams = {\n      verbosity: params.verbosity,\n      port: GlobalWorkerOptions.workerPort,\n    };\n    // Worker was not provided -- creating and owning our own. If message port\n    // is specified in global worker options, using it.\n    worker = workerParams.port\n      ? PDFWorker.fromPort(workerParams)\n      : new PDFWorker(workerParams);\n    task._worker = worker;\n  }\n  const docId = task.docId;\n  worker.promise\n    .then(function () {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n\n      const workerIdPromise = _fetchDocument(\n        worker,\n        params,\n        rangeTransport,\n        docId\n      );\n      const networkStreamPromise = new Promise(function (resolve) {\n        let networkStream;\n        if (rangeTransport) {\n          networkStream = new PDFDataTransportStream(\n            {\n              length: params.length,\n              initialData: params.initialData,\n              progressiveDone: params.progressiveDone,\n              disableRange: params.disableRange,\n              disableStream: params.disableStream,\n            },\n            rangeTransport\n          );\n        } else if (!params.data) {\n          networkStream = createPDFNetworkStream({\n            url: params.url,\n            length: params.length,\n            httpHeaders: params.httpHeaders,\n            withCredentials: params.withCredentials,\n            rangeChunkSize: params.rangeChunkSize,\n            disableRange: params.disableRange,\n            disableStream: params.disableStream,\n          });\n        }\n        resolve(networkStream);\n      });\n\n      return Promise.all([workerIdPromise, networkStreamPromise]).then(\n        function ([workerId, networkStream]) {\n          if (task.destroyed) {\n            throw new Error(\"Loading aborted\");\n          }\n\n          const messageHandler = new MessageHandler(\n            docId,\n            workerId,\n            worker.port\n          );\n          messageHandler.postMessageTransfers = worker.postMessageTransfers;\n          const transport = new WorkerTransport(\n            messageHandler,\n            task,\n            networkStream,\n            params\n          );\n          task._transport = transport;\n          messageHandler.send(\"Ready\", null);\n        }\n      );\n    })\n    .catch(task._capability.reject);\n\n  return task;\n}\n\n/**\n * Starts fetching of specified PDF document/data.\n *\n * @param {PDFWorker} worker\n * @param {Object} source\n * @param {PDFDataRangeTransport} pdfDataRangeTransport\n * @param {string} docId - Unique document ID, used in `MessageHandler`.\n * @returns {Promise} A promise that is resolved when the worker ID of the\n *   `MessageHandler` is known.\n * @private\n */\nfunction _fetchDocument(worker, source, pdfDataRangeTransport, docId) {\n  if (worker.destroyed) {\n    return Promise.reject(new Error(\"Worker was destroyed\"));\n  }\n\n  if (pdfDataRangeTransport) {\n    source.length = pdfDataRangeTransport.length;\n    source.initialData = pdfDataRangeTransport.initialData;\n    source.progressiveDone = pdfDataRangeTransport.progressiveDone;\n  }\n  return worker.messageHandler\n    .sendWithPromise(\"GetDocRequest\", {\n      docId,\n      apiVersion:\n        typeof PDFJSDev !== \"undefined\" && !PDFJSDev.test(\"TESTING\")\n          ? PDFJSDev.eval(\"BUNDLE_VERSION\")\n          : null,\n      // Only send the required properties, and *not* the entire object.\n      source: {\n        data: source.data,\n        url: source.url,\n        password: source.password,\n        disableAutoFetch: source.disableAutoFetch,\n        rangeChunkSize: source.rangeChunkSize,\n        length: source.length,\n      },\n      maxImageSize: source.maxImageSize,\n      disableFontFace: source.disableFontFace,\n      postMessageTransfers: worker.postMessageTransfers,\n      docBaseUrl: source.docBaseUrl,\n      ignoreErrors: source.ignoreErrors,\n      isEvalSupported: source.isEvalSupported,\n      fontExtraProperties: source.fontExtraProperties,\n    })\n    .then(function (workerId) {\n      if (worker.destroyed) {\n        throw new Error(\"Worker was destroyed\");\n      }\n      return workerId;\n    });\n}\n\n/**\n * The loading task controls the operations required to load a PDF document\n * (such as network requests) and provides a way to listen for completion,\n * after which individual pages can be rendered.\n *\n * @typedef {Object} PDFDocumentLoadingTask\n * @property {string} docId - Unique identifier for the document loading task.\n * @property {boolean} destroyed - Whether the loading task is destroyed or not.\n * @property {function} [onPassword] - Callback to request a password if a wrong\n *   or no password was provided. The callback receives two parameters: a\n *   function that should be called with the new password, and a reason (see\n *   {@link PasswordResponses}).\n * @property {function} [onProgress] - Callback to be able to monitor the\n *   loading progress of the PDF file (necessary to implement e.g. a loading\n *   bar). The callback receives an {Object} with the properties `loaded`\n *   ({number}) and `total` ({number}) that indicate how many bytes are loaded.\n * @property {function} [onUnsupportedFeature] - Callback for when an\n *   unsupported feature is used in the PDF document. The callback receives an\n *   {@link UNSUPPORTED_FEATURES} argument.\n * @property {Promise<PDFDocumentProxy>} promise - Promise for document loading\n *   task completion.\n * @property {function} destroy - Abort all network requests and destroy\n *   the worker. Returns a promise that is resolved when destruction is\n *   completed.\n */\n\n/**\n * @type {any}\n * @ignore\n */\nconst PDFDocumentLoadingTask = (function PDFDocumentLoadingTaskClosure() {\n  let nextDocumentId = 0;\n\n  /**\n   * The loading task controls the operations required to load a PDF document\n   * (such as network requests) and provides a way to listen for completion,\n   * after which individual pages can be rendered.\n   */\n  // eslint-disable-next-line no-shadow\n  class PDFDocumentLoadingTask {\n    constructor() {\n      this._capability = createPromiseCapability();\n      this._transport = null;\n      this._worker = null;\n\n      /**\n       * Unique identifier for the document loading task.\n       * @type {string}\n       */\n      this.docId = \"d\" + nextDocumentId++;\n\n      /**\n       * Whether the loading task is destroyed or not.\n       * @type {boolean}\n       */\n      this.destroyed = false;\n\n      /**\n       * Callback to request a password if a wrong or no password was provided.\n       * The callback receives two parameters: a function that should be called\n       * with the new password, and a reason (see {@link PasswordResponses}).\n       * @type {function}\n       */\n      this.onPassword = null;\n\n      /**\n       * Callback to be able to monitor the loading progress of the PDF file\n       * (necessary to implement e.g. a loading bar). The callback receives\n       * an {Object} with the properties `loaded` ({number}) and `total`\n       * ({number}) that indicate how many bytes are loaded.\n       * @type {function}\n       */\n      this.onProgress = null;\n\n      /**\n       * Callback for when an unsupported feature is used in the PDF document.\n       * The callback receives an {@link UNSUPPORTED_FEATURES} argument.\n       * @type {function}\n       */\n      this.onUnsupportedFeature = null;\n    }\n\n    /**\n     * Promise for document loading task completion.\n     * @type {Promise<PDFDocumentProxy>}\n     */\n    get promise() {\n      return this._capability.promise;\n    }\n\n    /**\n     * @returns {Promise<void>} A promise that is resolved when destruction is\n     *   completed.\n     */\n    destroy() {\n      this.destroyed = true;\n\n      const transportDestroyed = !this._transport\n        ? Promise.resolve()\n        : this._transport.destroy();\n      return transportDestroyed.then(() => {\n        this._transport = null;\n        if (this._worker) {\n          this._worker.destroy();\n          this._worker = null;\n        }\n      });\n    }\n  }\n  return PDFDocumentLoadingTask;\n})();\n\n/**\n * Abstract class to support range requests file loading.\n */\nclass PDFDataRangeTransport {\n  /**\n   * @param {number} length\n   * @param {Uint8Array} initialData\n   * @param {boolean} [progressiveDone]\n   */\n  constructor(length, initialData, progressiveDone = false) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n\n    this._rangeListeners = [];\n    this._progressListeners = [];\n    this._progressiveReadListeners = [];\n    this._progressiveDoneListeners = [];\n    this._readyCapability = createPromiseCapability();\n  }\n\n  addRangeListener(listener) {\n    this._rangeListeners.push(listener);\n  }\n\n  addProgressListener(listener) {\n    this._progressListeners.push(listener);\n  }\n\n  addProgressiveReadListener(listener) {\n    this._progressiveReadListeners.push(listener);\n  }\n\n  addProgressiveDoneListener(listener) {\n    this._progressiveDoneListeners.push(listener);\n  }\n\n  onDataRange(begin, chunk) {\n    for (const listener of this._rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n\n  onDataProgress(loaded, total) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n\n  onDataProgressiveRead(chunk) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n\n  onDataProgressiveDone() {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n\n  transportReady() {\n    this._readyCapability.resolve();\n  }\n\n  requestDataRange(begin, end) {\n    unreachable(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n\n  abort() {}\n}\n\n/**\n * Proxy to a `PDFDocument` in the worker thread.\n */\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n  }\n\n  /**\n   * @type {AnnotationStorage} Storage for annotation data in forms.\n   */\n  get annotationStorage() {\n    return shadow(this, \"annotationStorage\", new AnnotationStorage());\n  }\n\n  /**\n   * @type {number} Total number of pages in the PDF file.\n   */\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n\n  /**\n   * @type {string} A (not guaranteed to be) unique ID to identify a PDF.\n   */\n  get fingerprint() {\n    return this._pdfInfo.fingerprint;\n  }\n\n  /**\n   * @param {number} pageNumber - The page number to get. The first page is 1.\n   * @returns {Promise<PDFPageProxy>} A promise that is resolved with\n   *   a {@link PDFPageProxy} object.\n   */\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n\n  /**\n   * @param {{num: number, gen: number}} ref - The page reference. Must have\n   *   the `num` and `gen` properties.\n   * @returns {Promise<{num: number, gen: number}>} A promise that is resolved\n   *   with the page index (starting from zero) that is associated with the\n   *   reference.\n   */\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n\n  /**\n   * @returns {Promise<Object<string, Array<any>>>} A promise that is resolved\n   *   with a mapping from named destinations to references.\n   *\n   * This can be slow for large documents. Use `getDestination` instead.\n   */\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n\n  /**\n   * @param {string} id - The named destination to get.\n   * @returns {Promise<Array<any>>} A promise that is resolved with all\n   *   information of the given named destination.\n   */\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n\n  /**\n   * @returns {Promise<Array<string> | null>} A promise that is resolved with\n   *   an {Array} containing the page labels that correspond to the page\n   *   indexes, or `null` when no page labels are present in the PDF file.\n   */\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n\n  /**\n   * @returns {Promise<string>} A promise that is resolved with a {string}\n   *   containing the page layout name.\n   */\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n\n  /**\n   * @returns {Promise<string>} A promise that is resolved with a {string}\n   *   containing the page mode name.\n   */\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n\n  /**\n   * @returns {Promise<Object | null>} A promise that is resolved with an\n   *   {Object} containing the viewer preferences, or `null` when no viewer\n   *   preferences are present in the PDF file.\n   */\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n\n  /**\n   * @returns {Promise<any | null>} A promise that is resolved with an {Array}\n   *   containing the destination, or `null` when no open action is present\n   *   in the PDF.\n   */\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n\n  /**\n   * @returns {Promise<any>} A promise that is resolved with a lookup table\n   *   for mapping named attachments to their content.\n   */\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n\n  /**\n   * @returns {Promise<Array<string> | null>} A promise that is resolved with\n   *   an {Array} of all the JavaScript strings in the name tree, or `null`\n   *   if no JavaScript exists.\n   */\n  getJavaScript() {\n    return this._transport.getJavaScript();\n  }\n\n  /**\n   * @returns {Promise<Object | null>} A promise that is resolved with\n   *   an {Object} with the JavaScript actions:\n   *     - from the name tree (like getJavaScript);\n   *     - from A or AA entries in the catalog dictionary.\n   *   , or `null` if no JavaScript exists.\n   */\n  getJSActions() {\n    return this._transport.getDocJSActions();\n  }\n\n  /**\n   * @typedef {Object} OutlineNode\n   * @property {string} title\n   * @property {boolean} bold\n   * @property {boolean} italic\n   * @property {Uint8ClampedArray} color - The color in RGB format to use for\n   *   display purposes.\n   * @property {string | Array<any> | null} dest\n   * @property {string | null} url\n   * @property {string | undefined} unsafeUrl\n   * @property {boolean | undefined} newWindow\n   * @property {number | undefined} count\n   * @property {Array<OutlineNode>} items\n   */\n\n  /**\n   * @returns {Promise<Array<OutlineNode>>} A promise that is resolved with an\n   *   {Array} that is a tree outline (if it has one) of the PDF file.\n   */\n  getOutline() {\n    return this._transport.getOutline();\n  }\n\n  /**\n   * @returns {Promise<OptionalContentConfig>} A promise that is resolved with\n   *   an {@link OptionalContentConfig} that contains all the optional content\n   *   groups (assuming that the document has any).\n   */\n  getOptionalContentConfig() {\n    return this._transport.getOptionalContentConfig();\n  }\n\n  /**\n   * @returns {Promise<Array<number> | null>} A promise that is resolved with\n   *   an {Array} that contains the permission flags for the PDF document, or\n   *   `null` when no permissions are present in the PDF file.\n   */\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n\n  /**\n   * @returns {Promise<{ info: Object, metadata: Metadata }>} A promise that is\n   *   resolved with an {Object} that has `info` and `metadata` properties.\n   *   `info` is an {Object} filled with anything available in the information\n   *   dictionary and similarly `metadata` is a {Metadata} object with\n   *   information from the metadata section of the PDF.\n   */\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n\n  /**\n   * @typedef {Object} MarkInfo\n   * Properties correspond to Table 321 of the PDF 32000-1:2008 spec.\n   * @property {boolean} Marked\n   * @property {boolean} UserProperties\n   * @property {boolean} Suspects\n   */\n\n  /**\n   * @returns {Promise<MarkInfo | null>} A promise that is resolved with\n   *   a {MarkInfo} object that contains the MarkInfo flags for the PDF\n   *   document, or `null` when no MarkInfo values are present in the PDF file.\n   */\n  getMarkInfo() {\n    return this._transport.getMarkInfo();\n  }\n\n  /**\n   * @returns {Promise<TypedArray>} A promise that is resolved with a\n   *   {TypedArray} that has the raw data from the PDF.\n   */\n  getData() {\n    return this._transport.getData();\n  }\n\n  /**\n   * @returns {Promise<{ length: number }>} A promise that is resolved when the\n   *   document's data is loaded. It is resolved with an {Object} that contains\n   *   the `length` property that indicates size of the PDF data in bytes.\n   */\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n\n  /**\n   * @returns {Promise<PDFDocumentStats>} A promise this is resolved with\n   *   current statistics about document structures (see\n   *   {@link PDFDocumentStats}).\n   */\n  getStats() {\n    return this._transport.getStats();\n  }\n\n  /**\n   * Cleans up resources allocated by the document on both the main and worker\n   * threads.\n   *\n   * NOTE: Do not, under any circumstances, call this method when rendering is\n   * currently ongoing since that may lead to rendering errors.\n   *\n   * @returns {Promise} A promise that is resolved when clean-up has finished.\n   */\n  cleanup() {\n    return this._transport.startCleanup();\n  }\n\n  /**\n   * Destroys the current document instance and terminates the worker.\n   */\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n\n  /**\n   * @type {DocumentInitParameters} A subset of the current\n   *   {DocumentInitParameters}, which are either needed in the viewer and/or\n   *   whose default values may be affected by the `apiCompatibilityParams`.\n   */\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n\n  /**\n   * @type {PDFDocumentLoadingTask} The loadingTask for the current document.\n   */\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n\n  /**\n   * @param {AnnotationStorage} annotationStorage - Storage for annotation\n   *   data in forms.\n   * @returns {Promise<Uint8Array>} A promise that is resolved with a\n   *   {Uint8Array} containing the full data of the saved document.\n   */\n  saveDocument(annotationStorage) {\n    return this._transport.saveDocument(annotationStorage);\n  }\n\n  /**\n   * @returns {Promise<Array<Object> | null>} A promise that is resolved with an\n   *   {Array<Object>} containing /AcroForm field data for the JS sandbox,\n   *   or `null` when no field data is present in the PDF file.\n   */\n  getFieldObjects() {\n    return this._transport.getFieldObjects();\n  }\n\n  /**\n   * @returns {Promise<boolean>} A promise that is resolved with `true`\n   *   if some /AcroForm fields have JavaScript actions.\n   */\n  hasJSActions() {\n    return this._transport.hasJSActions();\n  }\n\n  /**\n   * @returns {Promise<Array<string> | null>} A promise that is resolved with an\n   *   {Array<string>} containing IDs of annotations that have a calculation\n   *   action, or `null` when no such annotations are present in the PDF file.\n   */\n  getCalculationOrderIds() {\n    return this._transport.getCalculationOrderIds();\n  }\n}\n\n/**\n * Page getViewport parameters.\n *\n * @typedef {Object} GetViewportParameters\n * @property {number} scale - The desired scale of the viewport.\n * @property {number} [rotation] - The desired rotation, in degrees, of\n *   the viewport. If omitted it defaults to the page rotation.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset.\n *   The default value is `0`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset.\n *   The default value is `0`.\n * @property {boolean} [dontFlip] - If true, the y-axis will not be\n *   flipped. The default value is `false`.\n */\n\n/**\n * Page getTextContent parameters.\n *\n * @typedef {Object} getTextContentParameters\n * @property {boolean} normalizeWhitespace - Replaces all occurrences of\n *   whitespace with standard spaces (0x20). The default value is `false`.\n * @property {boolean} disableCombineTextItems - Do not attempt to combine\n *   same line {@link TextItem}'s. The default value is `false`.\n */\n\n/**\n * Page text content.\n *\n * @typedef {Object} TextContent\n * @property {Array<TextItem>} items - Array of {@link TextItem} objects.\n * @property {Object<string, TextStyle>} styles - {@link TextStyle} objects,\n *   indexed by font name.\n */\n\n/**\n * Page text content part.\n *\n * @typedef {Object} TextItem\n * @property {string} str - Text content.\n * @property {string} dir - Text direction: 'ttb', 'ltr' or 'rtl'.\n * @property {Array<any>} transform - Transformation matrix.\n * @property {number} width - Width in device space.\n * @property {number} height - Height in device space.\n * @property {string} fontName - Font name used by PDF.js for converted font.\n */\n\n/**\n * Text style.\n *\n * @typedef {Object} TextStyle\n * @property {number} ascent - Font ascent.\n * @property {number} descent - Font descent.\n * @property {boolean} vertical - Whether or not the text is in vertical mode.\n * @property {string} fontFamily - The possible font family.\n */\n\n/**\n * Page annotation parameters.\n *\n * @typedef {Object} GetAnnotationsParameters\n * @property {string} intent - Determines the annotations that will be fetched,\n *   can be either 'display' (viewable annotations) or 'print' (printable\n *   annotations). If the parameter is omitted, all annotations are fetched.\n */\n\n/**\n * Page render parameters.\n *\n * @typedef {Object} RenderParameters\n * @property {Object} canvasContext - A 2D context of a DOM Canvas object.\n * @property {PageViewport} viewport - Rendering viewport obtained by calling\n *   the `PDFPageProxy.getViewport` method.\n * @property {string} [intent] - Rendering intent, can be 'display' or 'print'.\n *   The default value is 'display'.\n * @property {boolean} [enableWebGL] - Enables WebGL accelerated rendering for\n *   some operations. The default value is `false`.\n * @property {boolean} [renderInteractiveForms] - Whether or not interactive\n *   form elements are rendered in the display layer. If so, we do not render\n *   them on the canvas as well.\n * @property {Array<any>} [transform] - Additional transform, applied just\n *   before viewport transform.\n * @property {Object} [imageLayer] - An object that has `beginLayout`,\n *   `endLayout` and `appendImage` functions.\n * @property {Object} [canvasFactory] - The factory instance that will be used\n *   when creating canvases. The default value is {new DOMCanvasFactory()}.\n * @property {Object | string} [background] - Background to use for the canvas.\n *   Any valid `canvas.fillStyle` can be used: a `DOMString` parsed as CSS\n *   <color> value, a `CanvasGradient` object (a linear or radial gradient) or\n *   a `CanvasPattern` object (a repetitive image). The default value is\n *   'rgb(255,255,255)'.\n * @property {AnnotationStorage} [annotationStorage] - Storage for annotation\n *   data in forms.\n * @property {Promise<OptionalContentConfig>} [optionalContentConfigPromise] -\n *   A promise that should resolve with an {@link OptionalContentConfig}\n *   created from `PDFDocumentProxy.getOptionalContentConfig`. If `null`,\n *   the configuration will be fetched automatically with the default visibility\n *   states set.\n */\n\n/**\n * PDF page operator list.\n *\n * @typedef {Object} PDFOperatorList\n * @property {Array<number>} fnArray - Array containing the operator functions.\n * @property {Array<any>} argsArray - Array containing the arguments of the\n *   functions.\n */\n\n/**\n * Proxy to a `PDFPage` in the worker thread.\n */\nclass PDFPageProxy {\n  constructor(pageIndex, pageInfo, transport, ownerDocument, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._ownerDocument = ownerDocument;\n    this._transport = transport;\n    this._stats = pdfBug ? new StatTimer() : null;\n    this._pdfBug = pdfBug;\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n\n    this.cleanupAfterRender = false;\n    this.pendingCleanup = false;\n    this._intentStates = new Map();\n    this.destroyed = false;\n  }\n\n  /**\n   * @type {number} Page number of the page. First page is 1.\n   */\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n\n  /**\n   * @type {number} The number of degrees the page is rotated clockwise.\n   */\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n\n  /**\n   * @type {Object} The reference that points to this page. It has `num` and\n   *   `gen` properties.\n   */\n  get ref() {\n    return this._pageInfo.ref;\n  }\n\n  /**\n   * @type {number} The default size of units in 1/72nds of an inch.\n   */\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n\n  /**\n   * @type {Array<number>} An array of the visible portion of the PDF page in\n   *   user space units [x1, y1, x2, y2].\n   */\n  get view() {\n    return this._pageInfo.view;\n  }\n\n  /**\n   * @param {GetViewportParameters} params - Viewport parameters.\n   * @returns {PageViewport} Contains 'width' and 'height' properties\n   *   along with transforms required for rendering.\n   */\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false,\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.view,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip,\n    });\n  }\n\n  /**\n   * @param {GetAnnotationsParameters} params - Annotation parameters.\n   * @returns {Promise<Array<any>>} A promise that is resolved with an\n   *   {Array} of the annotation objects.\n   */\n  getAnnotations({ intent = null } = {}) {\n    if (!this.annotationsPromise || this.annotationsIntent !== intent) {\n      this.annotationsPromise = this._transport.getAnnotations(\n        this._pageIndex,\n        intent\n      );\n      this.annotationsIntent = intent;\n    }\n    return this.annotationsPromise;\n  }\n\n  /**\n   * @returns {Promise<Object>} A promise that is resolved with an\n   *   {Object} with JS actions.\n   */\n  getJSActions() {\n    return (this._jsActionsPromise ||= this._transport.getPageJSActions(\n      this._pageIndex\n    ));\n  }\n\n  /**\n   * Begins the process of rendering a page to the desired context.\n   *\n   * @param {RenderParameters} params Page render parameters.\n   * @returns {RenderTask} An object that contains a promise that is\n   *   resolved when the page finishes rendering.\n   */\n  render({\n    canvasContext,\n    viewport,\n    intent = \"display\",\n    enableWebGL = false,\n    renderInteractiveForms = false,\n    transform = null,\n    imageLayer = null,\n    canvasFactory = null,\n    background = null,\n    annotationStorage = null,\n    optionalContentConfigPromise = null,\n  }) {\n    if (this._stats) {\n      this._stats.time(\"Overall\");\n    }\n\n    const renderingIntent = intent === \"print\" ? \"print\" : \"display\";\n    // If there was a pending destroy, cancel it so no cleanup happens during\n    // this call to render.\n    this.pendingCleanup = false;\n\n    if (!optionalContentConfigPromise) {\n      optionalContentConfigPromise = this._transport.getOptionalContentConfig();\n    }\n\n    let intentState = this._intentStates.get(renderingIntent);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(renderingIntent, intentState);\n    }\n\n    // Ensure that a pending `streamReader` cancel timeout is always aborted.\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n\n    const canvasFactoryInstance =\n      canvasFactory ||\n      new DefaultCanvasFactory({ ownerDocument: this._ownerDocument });\n    const webGLContext = new WebGLContext({\n      enable: enableWebGL,\n    });\n\n    // If there's no displayReadyCapability yet, then the operatorList\n    // was never requested before. Make the request and create the promise.\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = createPromiseCapability();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n      };\n\n      if (this._stats) {\n        this._stats.time(\"Page Request\");\n      }\n      this._pumpOperatorList({\n        pageIndex: this._pageIndex,\n        intent: renderingIntent,\n        renderInteractiveForms: renderInteractiveForms === true,\n        annotationStorage: annotationStorage?.getAll() || null,\n      });\n    }\n\n    const complete = error => {\n      const i = intentState.renderTasks.indexOf(internalRenderTask);\n      if (i >= 0) {\n        intentState.renderTasks.splice(i, 1);\n      }\n\n      // Attempt to reduce memory usage during *printing*, by always running\n      // cleanup once rendering has finished (regardless of cleanupAfterRender).\n      if (this.cleanupAfterRender || renderingIntent === \"print\") {\n        this.pendingCleanup = true;\n      }\n      this._tryCleanup();\n\n      if (error) {\n        internalRenderTask.capability.reject(error);\n\n        this._abortOperatorList({\n          intentState,\n          reason: error,\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n      if (this._stats) {\n        this._stats.timeEnd(\"Rendering\");\n        this._stats.timeEnd(\"Overall\");\n      }\n    };\n\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      // Only include the required properties, and *not* the entire object.\n      params: {\n        canvasContext,\n        viewport,\n        transform,\n        imageLayer,\n        background,\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: canvasFactoryInstance,\n      webGLContext,\n      useRequestAnimationFrame: renderingIntent !== \"print\",\n      pdfBug: this._pdfBug,\n    });\n\n    if (!intentState.renderTasks) {\n      intentState.renderTasks = [];\n    }\n    intentState.renderTasks.push(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n\n    Promise.all([\n      intentState.displayReadyCapability.promise,\n      optionalContentConfigPromise,\n    ])\n      .then(([transparency, optionalContentConfig]) => {\n        if (this.pendingCleanup) {\n          complete();\n          return;\n        }\n        if (this._stats) {\n          this._stats.time(\"Rendering\");\n        }\n        internalRenderTask.initializeGraphics({\n          transparency,\n          optionalContentConfig,\n        });\n        internalRenderTask.operatorListChanged();\n      })\n      .catch(complete);\n\n    return renderTask;\n  }\n\n  /**\n   * @returns {Promise<PDFOperatorList>} A promise resolved with an\n   *   {@link PDFOperatorList} object that represents page's operator list.\n   */\n  getOperatorList() {\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n\n        const i = intentState.renderTasks.indexOf(opListTask);\n        if (i >= 0) {\n          intentState.renderTasks.splice(i, 1);\n        }\n      }\n    }\n\n    const renderingIntent = \"oplist\";\n    let intentState = this._intentStates.get(renderingIntent);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(renderingIntent, intentState);\n    }\n    let opListTask;\n\n    if (!intentState.opListReadCapability) {\n      opListTask = Object.create(null);\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = createPromiseCapability();\n      intentState.renderTasks = [];\n      intentState.renderTasks.push(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n      };\n\n      if (this._stats) {\n        this._stats.time(\"Page Request\");\n      }\n      this._pumpOperatorList({\n        pageIndex: this._pageIndex,\n        intent: renderingIntent,\n      });\n    }\n    return intentState.opListReadCapability.promise;\n  }\n\n  /**\n   * @param {getTextContentParameters} params - getTextContent parameters.\n   * @returns {ReadableStream} Stream for reading text content chunks.\n   */\n  streamTextContent({\n    normalizeWhitespace = false,\n    disableCombineTextItems = false,\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n\n    return this._transport.messageHandler.sendWithStream(\n      \"GetTextContent\",\n      {\n        pageIndex: this._pageIndex,\n        normalizeWhitespace: normalizeWhitespace === true,\n        combineTextItems: disableCombineTextItems !== true,\n      },\n      {\n        highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n        size(textContent) {\n          return textContent.items.length;\n        },\n      }\n    );\n  }\n\n  /**\n   * @param {getTextContentParameters} params - getTextContent parameters.\n   * @returns {Promise<TextContent>} A promise that is resolved with a\n   *   {@link TextContent} object that represents the page's text content.\n   */\n  getTextContent(params = {}) {\n    const readableStream = this.streamTextContent(params);\n\n    return new Promise(function (resolve, reject) {\n      function pump() {\n        reader.read().then(function ({ value, done }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null),\n      };\n      pump();\n    });\n  }\n\n  /**\n   * Destroys the page object.\n   * @private\n   */\n  _destroy() {\n    this.destroyed = true;\n    this._transport.pageCache[this._pageIndex] = null;\n\n    const waitOn = [];\n    for (const [intent, intentState] of this._intentStates) {\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true,\n      });\n\n      if (intent === \"oplist\") {\n        // Avoid errors below, since the renderTasks are just stubs.\n        continue;\n      }\n      for (const internalRenderTask of intentState.renderTasks) {\n        waitOn.push(internalRenderTask.completed);\n        internalRenderTask.cancel();\n      }\n    }\n    this.objs.clear();\n    this.annotationsPromise = null;\n    this._jsActionsPromise = null;\n    this.pendingCleanup = false;\n    return Promise.all(waitOn);\n  }\n\n  /**\n   * Cleans up resources allocated by the page.\n   *\n   * @param {boolean} [resetStats] - Reset page stats, if enabled.\n   *   The default value is `false`.\n   * @returns {boolean} Indicates if clean-up was successfully run.\n   */\n  cleanup(resetStats = false) {\n    this.pendingCleanup = true;\n    return this._tryCleanup(resetStats);\n  }\n\n  /**\n   * Attempts to clean up if rendering is in a state where that's possible.\n   * @private\n   */\n  _tryCleanup(resetStats = false) {\n    if (!this.pendingCleanup) {\n      return false;\n    }\n    for (const { renderTasks, operatorList } of this._intentStates.values()) {\n      if (renderTasks.length !== 0 || !operatorList.lastChunk) {\n        return false;\n      }\n    }\n\n    this._intentStates.clear();\n    this.objs.clear();\n    this.annotationsPromise = null;\n    this._jsActionsPromise = null;\n    if (resetStats && this._stats) {\n      this._stats = new StatTimer();\n    }\n    this.pendingCleanup = false;\n    return true;\n  }\n\n  /**\n   * @private\n   */\n  _startRenderPage(transparency, intent) {\n    const intentState = this._intentStates.get(intent);\n    if (!intentState) {\n      return; // Rendering was cancelled.\n    }\n    if (this._stats) {\n      this._stats.timeEnd(\"Page Request\");\n    }\n    // TODO Refactor RenderPageRequest to separate rendering\n    // and operator list logic\n    if (intentState.displayReadyCapability) {\n      intentState.displayReadyCapability.resolve(transparency);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _renderPageChunk(operatorListChunk, intentState) {\n    // Add the new chunk to the current operator list.\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n\n    // Notify all the rendering tasks there are more operators to be consumed.\n    for (let i = 0; i < intentState.renderTasks.length; i++) {\n      intentState.renderTasks[i].operatorListChanged();\n    }\n\n    if (operatorListChunk.lastChunk) {\n      this._tryCleanup();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _pumpOperatorList(args) {\n    assert(\n      args.intent,\n      'PDFPageProxy._pumpOperatorList: Expected \"intent\" argument.'\n    );\n\n    const readableStream = this._transport.messageHandler.sendWithStream(\n      \"GetOperatorList\",\n      args\n    );\n    const reader = readableStream.getReader();\n\n    const intentState = this._intentStates.get(args.intent);\n    intentState.streamReader = reader;\n\n    const pump = () => {\n      reader.read().then(\n        ({ value, done }) => {\n          if (done) {\n            intentState.streamReader = null;\n            return;\n          }\n          if (this._transport.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          this._renderPageChunk(value, intentState);\n          pump();\n        },\n        reason => {\n          intentState.streamReader = null;\n\n          if (this._transport.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          if (intentState.operatorList) {\n            // Mark operator list as complete.\n            intentState.operatorList.lastChunk = true;\n\n            for (let i = 0; i < intentState.renderTasks.length; i++) {\n              intentState.renderTasks[i].operatorListChanged();\n            }\n            this._tryCleanup();\n          }\n\n          if (intentState.displayReadyCapability) {\n            intentState.displayReadyCapability.reject(reason);\n          } else if (intentState.opListReadCapability) {\n            intentState.opListReadCapability.reject(reason);\n          } else {\n            throw reason;\n          }\n        }\n      );\n    };\n    pump();\n  }\n\n  /**\n   * @private\n   */\n  _abortOperatorList({ intentState, reason, force = false }) {\n    assert(\n      reason instanceof Error ||\n        (typeof reason === \"object\" && reason !== null),\n      'PDFPageProxy._abortOperatorList: Expected \"reason\" argument.'\n    );\n\n    if (!intentState.streamReader) {\n      return;\n    }\n    if (!force) {\n      // Ensure that an Error occurring in *only* one `InternalRenderTask`, e.g.\n      // multiple render() calls on the same canvas, won't break all rendering.\n      if (intentState.renderTasks.length !== 0) {\n        return;\n      }\n      // Don't immediately abort parsing on the worker-thread when rendering is\n      // cancelled, since that will unnecessarily delay re-rendering when (for\n      // partially parsed pages) e.g. zooming/rotation occurs in the viewer.\n      if (reason instanceof RenderingCancelledException) {\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          this._abortOperatorList({ intentState, reason, force: true });\n          intentState.streamReaderCancelTimeout = null;\n        }, RENDERING_CANCELLED_TIMEOUT);\n        return;\n      }\n    }\n    intentState.streamReader.cancel(new AbortException(reason?.message));\n    intentState.streamReader = null;\n\n    if (this._transport.destroyed) {\n      return; // Ignore any pending requests if the worker was terminated.\n    }\n    // Remove the current `intentState`, since a cancelled `getOperatorList`\n    // call on the worker-thread cannot be re-started...\n    for (const [intent, curIntentState] of this._intentStates) {\n      if (curIntentState === intentState) {\n        this._intentStates.delete(intent);\n        break;\n      }\n    }\n    // ... and force clean-up to ensure that any old state is always removed.\n    this.cleanup();\n  }\n\n  /**\n   * @type {Object} Returns page stats, if enabled; returns `null` otherwise.\n   */\n  get stats() {\n    return this._stats;\n  }\n}\n\nclass LoopbackPort {\n  constructor(defer = true) {\n    this._listeners = [];\n    this._defer = defer;\n    this._deferred = Promise.resolve(undefined);\n  }\n\n  postMessage(obj, transfers) {\n    function cloneValue(value) {\n      // Trying to perform a structured clone close to the spec, including\n      // transfers.\n      if (typeof value !== \"object\" || value === null) {\n        return value;\n      }\n      if (cloned.has(value)) {\n        // already cloned the object\n        return cloned.get(value);\n      }\n      let buffer, result;\n      if ((buffer = value.buffer) && isArrayBuffer(buffer)) {\n        // We found object with ArrayBuffer (typed array).\n        if (transfers?.includes(buffer)) {\n          result = new value.constructor(\n            buffer,\n            value.byteOffset,\n            value.byteLength\n          );\n        } else {\n          result = new value.constructor(value);\n        }\n        cloned.set(value, result);\n        return result;\n      }\n      result = Array.isArray(value) ? [] : {};\n      cloned.set(value, result); // adding to cache now for cyclic references\n      // Cloning all value and object properties, however ignoring properties\n      // defined via getter.\n      for (const i in value) {\n        let desc,\n          p = value;\n        while (!(desc = Object.getOwnPropertyDescriptor(p, i))) {\n          p = Object.getPrototypeOf(p);\n        }\n        if (typeof desc.value === \"undefined\") {\n          continue;\n        }\n        if (typeof desc.value === \"function\") {\n          if (value.hasOwnProperty && value.hasOwnProperty(i)) {\n            throw new Error(\n              `LoopbackPort.postMessage - cannot clone: ${value[i]}`\n            );\n          }\n          continue;\n        }\n        result[i] = cloneValue(desc.value);\n      }\n      return result;\n    }\n\n    if (!this._defer) {\n      this._listeners.forEach(listener => {\n        listener.call(this, { data: obj });\n      });\n      return;\n    }\n\n    const cloned = new WeakMap();\n    const e = { data: cloneValue(obj) };\n    this._deferred.then(() => {\n      this._listeners.forEach(listener => {\n        listener.call(this, e);\n      });\n    });\n  }\n\n  addEventListener(name, listener) {\n    this._listeners.push(listener);\n  }\n\n  removeEventListener(name, listener) {\n    const i = this._listeners.indexOf(listener);\n    this._listeners.splice(i, 1);\n  }\n\n  terminate() {\n    this._listeners.length = 0;\n  }\n}\n\n/**\n * @typedef {Object} PDFWorkerParameters\n * @property {string} [name] - The name of the worker.\n * @property {Object} [port] - The `workerPort` object.\n * @property {number} [verbosity] - Controls the logging level; the\n *   constants from {@link VerbosityLevel} should be used.\n */\n\n/** @type {any} */\nconst PDFWorker = (function PDFWorkerClosure() {\n  const pdfWorkerPorts = new WeakMap();\n  let isWorkerDisabled = false;\n  let fallbackWorkerSrc;\n  let nextFakeWorkerId = 0;\n  let fakeWorkerCapability;\n\n  if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\")) {\n    // eslint-disable-next-line no-undef\n    if (isNodeJS && typeof __non_webpack_require__ === \"function\") {\n      // Workers aren't supported in Node.js, force-disabling them there.\n      isWorkerDisabled = true;\n\n      if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"LIB\")) {\n        fallbackWorkerSrc = \"../pdf.worker.js\";\n      } else {\n        fallbackWorkerSrc = \"./pdf.worker.js\";\n      }\n    } else if (typeof document === \"object\" && \"currentScript\" in document) {\n      const pdfjsFilePath = document.currentScript?.src;\n      if (pdfjsFilePath) {\n        fallbackWorkerSrc = pdfjsFilePath.replace(\n          /(\\.(?:min\\.)?js)(\\?.*)?$/i,\n          \".worker$1$2\"\n        );\n      }\n    }\n  }\n\n  function getWorkerSrc() {\n    if (GlobalWorkerOptions.workerSrc) {\n      return GlobalWorkerOptions.workerSrc;\n    }\n    if (typeof fallbackWorkerSrc !== \"undefined\") {\n      if (!isNodeJS) {\n        deprecated('No \"GlobalWorkerOptions.workerSrc\" specified.');\n      }\n      return fallbackWorkerSrc;\n    }\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n\n  function getMainThreadWorkerMessageHandler() {\n    let mainWorkerMessageHandler;\n    try {\n      mainWorkerMessageHandler = globalThis.pdfjsWorker?.WorkerMessageHandler;\n    } catch (ex) {\n      /* Ignore errors. */\n    }\n    return mainWorkerMessageHandler || null;\n  }\n\n  // Loads worker code into main thread.\n  function setupFakeWorkerGlobal() {\n    if (fakeWorkerCapability) {\n      return fakeWorkerCapability.promise;\n    }\n    fakeWorkerCapability = createPromiseCapability();\n\n    const loader = async function () {\n      const mainWorkerMessageHandler = getMainThreadWorkerMessageHandler();\n\n      if (mainWorkerMessageHandler) {\n        // The worker was already loaded using e.g. a `<script>` tag.\n        return mainWorkerMessageHandler;\n      }\n      if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"PRODUCTION\")) {\n        const worker = await import(\"pdfjs/core/worker.js\");\n        return worker.WorkerMessageHandler;\n      }\n      if (\n        PDFJSDev.test(\"GENERIC\") &&\n        isNodeJS &&\n        // eslint-disable-next-line no-undef\n        typeof __non_webpack_require__ === \"function\"\n      ) {\n        // Since bundlers, such as Webpack, cannot be told to leave `require`\n        // statements alone we are thus forced to jump through hoops in order\n        // to prevent `Critical dependency: ...` warnings in third-party\n        // deployments of the built `pdf.js`/`pdf.worker.js` files; see\n        // https://github.com/webpack/webpack/issues/8826\n        //\n        // The following hack is based on the assumption that code running in\n        // Node.js won't ever be affected by e.g. Content Security Policies that\n        // prevent the use of `eval`. If that ever occurs, we should revert this\n        // to a normal `__non_webpack_require__` statement and simply document\n        // the Webpack warnings instead (telling users to ignore them).\n        //\n        // eslint-disable-next-line no-eval\n        const worker = eval(\"require\")(getWorkerSrc());\n        return worker.WorkerMessageHandler;\n      }\n      await loadScript(getWorkerSrc());\n      return window.pdfjsWorker.WorkerMessageHandler;\n    };\n    loader().then(fakeWorkerCapability.resolve, fakeWorkerCapability.reject);\n\n    return fakeWorkerCapability.promise;\n  }\n\n  function createCDNWrapper(url) {\n    // We will rely on blob URL's property to specify origin.\n    // We want this function to fail in case if createObjectURL or Blob do not\n    // exist or fail for some reason -- our Worker creation will fail anyway.\n    const wrapper = \"importScripts('\" + url + \"');\";\n    return URL.createObjectURL(new Blob([wrapper]));\n  }\n\n  /**\n   * PDF.js web worker abstraction that controls the instantiation of PDF\n   * documents. Message handlers are used to pass information from the main\n   * thread to the worker thread and vice versa. If the creation of a web\n   * worker is not possible, a \"fake\" worker will be used instead.\n   */\n  // eslint-disable-next-line no-shadow\n  class PDFWorker {\n    /**\n     * @param {PDFWorkerParameters} params - Worker initialization parameters.\n     */\n    constructor({\n      name = null,\n      port = null,\n      verbosity = getVerbosityLevel(),\n    } = {}) {\n      if (port && pdfWorkerPorts.has(port)) {\n        throw new Error(\"Cannot use more than one PDFWorker per port\");\n      }\n\n      this.name = name;\n      this.destroyed = false;\n      this.postMessageTransfers = true;\n      this.verbosity = verbosity;\n\n      this._readyCapability = createPromiseCapability();\n      this._port = null;\n      this._webWorker = null;\n      this._messageHandler = null;\n\n      if (port) {\n        pdfWorkerPorts.set(port, this);\n        this._initializeFromPort(port);\n        return;\n      }\n      this._initialize();\n    }\n\n    get promise() {\n      return this._readyCapability.promise;\n    }\n\n    get port() {\n      return this._port;\n    }\n\n    get messageHandler() {\n      return this._messageHandler;\n    }\n\n    _initializeFromPort(port) {\n      this._port = port;\n      this._messageHandler = new MessageHandler(\"main\", \"worker\", port);\n      this._messageHandler.on(\"ready\", function () {\n        // Ignoring 'ready' event -- MessageHandler shall be already initialized\n        // and ready to accept the messages.\n      });\n      this._readyCapability.resolve();\n    }\n\n    _initialize() {\n      // If worker support isn't disabled explicit and the browser has worker\n      // support, create a new web worker and test if it/the browser fulfills\n      // all requirements to run parts of pdf.js in a web worker.\n      // Right now, the requirement is, that an Uint8Array is still an\n      // Uint8Array as it arrives on the worker. (Chrome added this with v.15.)\n      if (\n        typeof Worker !== \"undefined\" &&\n        !isWorkerDisabled &&\n        !getMainThreadWorkerMessageHandler()\n      ) {\n        let workerSrc = getWorkerSrc();\n\n        try {\n          // Wraps workerSrc path into blob URL, if the former does not belong\n          // to the same origin.\n          if (\n            typeof PDFJSDev !== \"undefined\" &&\n            PDFJSDev.test(\"GENERIC\") &&\n            !isSameOrigin(window.location.href, workerSrc)\n          ) {\n            workerSrc = createCDNWrapper(\n              new URL(workerSrc, window.location).href\n            );\n          }\n\n          // Some versions of FF can't create a worker on localhost, see:\n          // https://bugzilla.mozilla.org/show_bug.cgi?id=683280\n          const worker = new Worker(workerSrc);\n          const messageHandler = new MessageHandler(\"main\", \"worker\", worker);\n          const terminateEarly = () => {\n            worker.removeEventListener(\"error\", onWorkerError);\n            messageHandler.destroy();\n            worker.terminate();\n            if (this.destroyed) {\n              this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n            } else {\n              // Fall back to fake worker if the termination is caused by an\n              // error (e.g. NetworkError / SecurityError).\n              this._setupFakeWorker();\n            }\n          };\n\n          const onWorkerError = () => {\n            if (!this._webWorker) {\n              // Worker failed to initialize due to an error. Clean up and fall\n              // back to the fake worker.\n              terminateEarly();\n            }\n          };\n          worker.addEventListener(\"error\", onWorkerError);\n\n          messageHandler.on(\"test\", data => {\n            worker.removeEventListener(\"error\", onWorkerError);\n            if (this.destroyed) {\n              terminateEarly();\n              return; // worker was destroyed\n            }\n            if (data) {\n              // supportTypedArray\n              this._messageHandler = messageHandler;\n              this._port = worker;\n              this._webWorker = worker;\n              if (!data.supportTransfers) {\n                this.postMessageTransfers = false;\n              }\n              this._readyCapability.resolve();\n              // Send global setting, e.g. verbosity level.\n              messageHandler.send(\"configure\", {\n                verbosity: this.verbosity,\n              });\n            } else {\n              this._setupFakeWorker();\n              messageHandler.destroy();\n              worker.terminate();\n            }\n          });\n\n          messageHandler.on(\"ready\", data => {\n            worker.removeEventListener(\"error\", onWorkerError);\n            if (this.destroyed) {\n              terminateEarly();\n              return; // worker was destroyed\n            }\n            try {\n              sendTest();\n            } catch (e) {\n              // We need fallback to a faked worker.\n              this._setupFakeWorker();\n            }\n          });\n\n          const sendTest = () => {\n            const testObj = new Uint8Array([\n              this.postMessageTransfers ? 255 : 0,\n            ]);\n            // Some versions of Opera throw a DATA_CLONE_ERR on serializing the\n            // typed array. Also, checking if we can use transfers.\n            try {\n              messageHandler.send(\"test\", testObj, [testObj.buffer]);\n            } catch (ex) {\n              warn(\"Cannot use postMessage transfers.\");\n              testObj[0] = 0;\n              messageHandler.send(\"test\", testObj);\n            }\n          };\n\n          // It might take time for worker to initialize (especially when AMD\n          // loader is used). We will try to send test immediately, and then\n          // when 'ready' message will arrive. The worker shall process only\n          // first received 'test'.\n          sendTest();\n          return;\n        } catch (e) {\n          info(\"The worker has been disabled.\");\n        }\n      }\n      // Either workers are disabled, not supported or have thrown an exception.\n      // Thus, we fallback to a faked worker.\n      this._setupFakeWorker();\n    }\n\n    _setupFakeWorker() {\n      if (!isWorkerDisabled) {\n        warn(\"Setting up fake worker.\");\n        isWorkerDisabled = true;\n      }\n\n      setupFakeWorkerGlobal()\n        .then(WorkerMessageHandler => {\n          if (this.destroyed) {\n            this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n            return;\n          }\n          const port = new LoopbackPort();\n          this._port = port;\n\n          // All fake workers use the same port, making id unique.\n          const id = \"fake\" + nextFakeWorkerId++;\n\n          // If the main thread is our worker, setup the handling for the\n          // messages -- the main thread sends to it self.\n          const workerHandler = new MessageHandler(id + \"_worker\", id, port);\n          WorkerMessageHandler.setup(workerHandler, port);\n\n          const messageHandler = new MessageHandler(id, id + \"_worker\", port);\n          this._messageHandler = messageHandler;\n          this._readyCapability.resolve();\n          // Send global setting, e.g. verbosity level.\n          messageHandler.send(\"configure\", {\n            verbosity: this.verbosity,\n          });\n        })\n        .catch(reason => {\n          this._readyCapability.reject(\n            new Error(`Setting up fake worker failed: \"${reason.message}\".`)\n          );\n        });\n    }\n\n    /**\n     * Destroys the worker instance.\n     */\n    destroy() {\n      this.destroyed = true;\n      if (this._webWorker) {\n        // We need to terminate only web worker created resource.\n        this._webWorker.terminate();\n        this._webWorker = null;\n      }\n      pdfWorkerPorts.delete(this._port);\n      this._port = null;\n      if (this._messageHandler) {\n        this._messageHandler.destroy();\n        this._messageHandler = null;\n      }\n    }\n\n    /**\n     * @param {PDFWorkerParameters} params - The worker initialization\n     *   parameters.\n     */\n    static fromPort(params) {\n      if (!params || !params.port) {\n        throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n      }\n      if (pdfWorkerPorts.has(params.port)) {\n        return pdfWorkerPorts.get(params.port);\n      }\n      return new PDFWorker(params);\n    }\n\n    static getWorkerSrc() {\n      return getWorkerSrc();\n    }\n  }\n  return PDFWorker;\n})();\n\n/**\n * For internal use only.\n * @ignore\n */\nclass WorkerTransport {\n  constructor(messageHandler, loadingTask, networkStream, params) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new FontLoader({\n      docId: loadingTask.docId,\n      onUnsupportedFeature: this._onUnsupportedFeature.bind(this),\n      ownerDocument: params.ownerDocument,\n    });\n    this._params = params;\n    this.CMapReaderFactory = new params.CMapReaderFactory({\n      baseUrl: params.cMapUrl,\n      isCompressed: params.cMapPacked,\n    });\n\n    this.destroyed = false;\n    this.destroyCapability = null;\n    this._passwordCapability = null;\n\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n\n    this.pageCache = [];\n    this.pagePromises = [];\n    this.downloadInfoCapability = createPromiseCapability();\n\n    this.setupMessageHandler();\n  }\n\n  get loadingTaskSettled() {\n    return this.loadingTask._capability.settled;\n  }\n\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n\n    this.destroyed = true;\n    this.destroyCapability = createPromiseCapability();\n\n    if (this._passwordCapability) {\n      this._passwordCapability.reject(\n        new Error(\"Worker was destroyed during onPassword callback\")\n      );\n    }\n\n    const waitOn = [];\n    // We need to wait for all renderings to be completed, e.g.\n    // timeout/rAF can take a long time.\n    this.pageCache.forEach(function (page) {\n      if (page) {\n        waitOn.push(page._destroy());\n      }\n    });\n    this.pageCache.length = 0;\n    this.pagePromises.length = 0;\n    // We also need to wait for the worker to finish its long running tasks.\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n    // Allow `AnnotationStorage`-related clean-up when destroying the document.\n    if (this.loadingTaskSettled) {\n      const annotationStorageResetModified = this.loadingTask.promise\n        .then(pdfDocument => {\n          // Avoid initializing the `annotationStorage` if it doesn't exist.\n          if (pdfDocument.hasOwnProperty(\"annotationStorage\")) {\n            pdfDocument.annotationStorage.resetModified();\n          }\n        })\n        .catch(() => {});\n      waitOn.push(annotationStorageResetModified);\n    }\n    Promise.all(waitOn).then(() => {\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n      this._hasJSActionsPromise = null;\n\n      if (this._networkStream) {\n        this._networkStream.cancelAllRequests(\n          new AbortException(\"Worker was terminated.\")\n        );\n      }\n\n      if (this.messageHandler) {\n        this.messageHandler.destroy();\n        this.messageHandler = null;\n      }\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n\n  setupMessageHandler() {\n    const { messageHandler, loadingTask } = this;\n\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      assert(\n        this._networkStream,\n        \"GetReader - no `IPDFStream` instance available.\"\n      );\n      this._fullReader = this._networkStream.getFullReader();\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total,\n        };\n      };\n      sink.onPull = () => {\n        this._fullReader\n          .read()\n          .then(function ({ value, done }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(\n              isArrayBuffer(value),\n              \"GetReader - expected an ArrayBuffer.\"\n            );\n            // Enqueue data chunk into sink, and transfer it\n            // to other side as `Transferable` object.\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          })\n          .catch(reason => {\n            sink.error(reason);\n          });\n      };\n\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          throw readyReason;\n        });\n      };\n    });\n\n    messageHandler.on(\"ReaderHeadersReady\", data => {\n      const headersCapability = createPromiseCapability();\n      const fullReader = this._fullReader;\n      fullReader.headersReady.then(() => {\n        // If stream or range are disabled, it's our only way to report\n        // loading progress.\n        if (!fullReader.isStreamingSupported || !fullReader.isRangeSupported) {\n          if (this._lastProgress && loadingTask.onProgress) {\n            loadingTask.onProgress(this._lastProgress);\n          }\n          fullReader.onProgress = evt => {\n            if (loadingTask.onProgress) {\n              loadingTask.onProgress({\n                loaded: evt.loaded,\n                total: evt.total,\n              });\n            }\n          };\n        }\n\n        headersCapability.resolve({\n          isStreamingSupported: fullReader.isStreamingSupported,\n          isRangeSupported: fullReader.isRangeSupported,\n          contentLength: fullReader.contentLength,\n        });\n      }, headersCapability.reject);\n\n      return headersCapability.promise;\n    });\n\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      assert(\n        this._networkStream,\n        \"GetRangeReader - no `IPDFStream` instance available.\"\n      );\n      const rangeReader = this._networkStream.getRangeReader(\n        data.begin,\n        data.end\n      );\n\n      // When streaming is enabled, it's possible that the data requested here\n      // has already been fetched via the `_fullRequestReader` implementation.\n      // However, given that the PDF data is loaded asynchronously on the\n      // main-thread and then sent via `postMessage` to the worker-thread,\n      // it may not have been available during parsing (hence the attempt to\n      // use range requests here).\n      //\n      // To avoid wasting time and resources here, we'll thus *not* dispatch\n      // range requests if the data was already loaded but has not been sent to\n      // the worker-thread yet (which will happen via the `_fullRequestReader`).\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n\n      sink.onPull = () => {\n        rangeReader\n          .read()\n          .then(function ({ value, done }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(\n              isArrayBuffer(value),\n              \"GetRangeReader - expected an ArrayBuffer.\"\n            );\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          })\n          .catch(reason => {\n            sink.error(reason);\n          });\n      };\n\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          throw readyReason;\n        });\n      };\n    });\n\n    messageHandler.on(\"GetDoc\", ({ pdfInfo }) => {\n      this._numPages = pdfInfo.numPages;\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n\n    messageHandler.on(\"DocException\", function (ex) {\n      let reason;\n      switch (ex.name) {\n        case \"PasswordException\":\n          reason = new PasswordException(ex.message, ex.code);\n          break;\n        case \"InvalidPDFException\":\n          reason = new InvalidPDFException(ex.message);\n          break;\n        case \"MissingPDFException\":\n          reason = new MissingPDFException(ex.message);\n          break;\n        case \"UnexpectedResponseException\":\n          reason = new UnexpectedResponseException(ex.message, ex.status);\n          break;\n        case \"UnknownErrorException\":\n          reason = new UnknownErrorException(ex.message, ex.details);\n          break;\n      }\n      if (!(reason instanceof Error)) {\n        const msg = \"DocException - expected a valid Error.\";\n        if (\n          typeof PDFJSDev === \"undefined\" ||\n          PDFJSDev.test(\"!PRODUCTION || TESTING\")\n        ) {\n          unreachable(msg);\n        } else {\n          warn(msg);\n        }\n      }\n      loadingTask._capability.reject(reason);\n    });\n\n    messageHandler.on(\"PasswordRequest\", exception => {\n      this._passwordCapability = createPromiseCapability();\n\n      if (loadingTask.onPassword) {\n        const updatePassword = password => {\n          this._passwordCapability.resolve({\n            password,\n          });\n        };\n        try {\n          loadingTask.onPassword(updatePassword, exception.code);\n        } catch (ex) {\n          this._passwordCapability.reject(ex);\n        }\n      } else {\n        this._passwordCapability.reject(\n          new PasswordException(exception.message, exception.code)\n        );\n      }\n      return this._passwordCapability.promise;\n    });\n\n    messageHandler.on(\"DataLoaded\", data => {\n      // For consistency: Ensure that progress is always reported when the\n      // entire PDF file has been loaded, regardless of how it was fetched.\n      if (loadingTask.onProgress) {\n        loadingTask.onProgress({\n          loaded: data.length,\n          total: data.length,\n        });\n      }\n      this.downloadInfoCapability.resolve(data);\n    });\n\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      const page = this.pageCache[data.pageIndex];\n      page._startRenderPage(data.transparency, data.intent);\n    });\n\n    messageHandler.on(\"commonobj\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      const [id, type, exportedData] = data;\n      if (this.commonObjs.has(id)) {\n        return;\n      }\n\n      switch (type) {\n        case \"Font\":\n          const params = this._params;\n\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            warn(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n\n          let fontRegistry = null;\n          if (params.pdfBug && globalThis.FontInspector?.enabled) {\n            fontRegistry = {\n              registerFont(font, url) {\n                globalThis.FontInspector.fontAdded(font, url);\n              },\n            };\n          }\n          const font = new FontFaceObject(exportedData, {\n            isEvalSupported: params.isEvalSupported,\n            disableFontFace: params.disableFontFace,\n            ignoreErrors: params.ignoreErrors,\n            onUnsupportedFeature: this._onUnsupportedFeature.bind(this),\n            fontRegistry,\n          });\n\n          this.fontLoader\n            .bind(font)\n            .catch(reason => {\n              return messageHandler.sendWithPromise(\"FontFallback\", { id });\n            })\n            .finally(() => {\n              if (!params.fontExtraProperties && font.data) {\n                // Immediately release the `font.data` property once the font\n                // has been attached to the DOM, since it's no longer needed,\n                // rather than waiting for a `PDFDocumentProxy.cleanup` call.\n                // Since `font.data` could be very large, e.g. in some cases\n                // multiple megabytes, this will help reduce memory usage.\n                font.data = null;\n              }\n              this.commonObjs.resolve(id, font);\n            });\n          break;\n        case \"FontPath\":\n        case \"Image\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n    });\n\n    messageHandler.on(\"obj\", data => {\n      if (this.destroyed) {\n        // Ignore any pending requests if the worker was terminated.\n        return undefined;\n      }\n\n      const [id, pageIndex, type, imageData] = data;\n      const pageProxy = this.pageCache[pageIndex];\n      if (pageProxy.objs.has(id)) {\n        return undefined;\n      }\n\n      switch (type) {\n        case \"Image\":\n          pageProxy.objs.resolve(id, imageData);\n\n          // Heuristic that will allow us not to store large data.\n          const MAX_IMAGE_SIZE_TO_STORE = 8000000;\n          if (imageData?.data?.length > MAX_IMAGE_SIZE_TO_STORE) {\n            pageProxy.cleanupAfterRender = true;\n          }\n          break;\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n      return undefined;\n    });\n\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      if (loadingTask.onProgress) {\n        loadingTask.onProgress({\n          loaded: data.loaded,\n          total: data.total,\n        });\n      }\n    });\n\n    messageHandler.on(\n      \"UnsupportedFeature\",\n      this._onUnsupportedFeature.bind(this)\n    );\n\n    messageHandler.on(\"FetchBuiltInCMap\", (data, sink) => {\n      if (this.destroyed) {\n        sink.error(new Error(\"Worker was destroyed\"));\n        return;\n      }\n      let fetched = false;\n\n      sink.onPull = () => {\n        if (fetched) {\n          sink.close();\n          return;\n        }\n        fetched = true;\n\n        this.CMapReaderFactory.fetch(data)\n          .then(function (builtInCMap) {\n            sink.enqueue(builtInCMap, 1, [builtInCMap.cMapData.buffer]);\n          })\n          .catch(function (reason) {\n            sink.error(reason);\n          });\n      };\n    });\n  }\n\n  _onUnsupportedFeature({ featureId }) {\n    if (this.destroyed) {\n      return; // Ignore any pending requests if the worker was terminated.\n    }\n    if (this.loadingTask.onUnsupportedFeature) {\n      this.loadingTask.onUnsupportedFeature(featureId);\n    }\n  }\n\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n\n  getPage(pageNumber) {\n    if (\n      !Number.isInteger(pageNumber) ||\n      pageNumber <= 0 ||\n      pageNumber > this._numPages\n    ) {\n      return Promise.reject(new Error(\"Invalid page request\"));\n    }\n\n    const pageIndex = pageNumber - 1;\n    if (pageIndex in this.pagePromises) {\n      return this.pagePromises[pageIndex];\n    }\n    const promise = this.messageHandler\n      .sendWithPromise(\"GetPage\", {\n        pageIndex,\n      })\n      .then(pageInfo => {\n        if (this.destroyed) {\n          throw new Error(\"Transport destroyed\");\n        }\n        const page = new PDFPageProxy(\n          pageIndex,\n          pageInfo,\n          this,\n          this._params.ownerDocument,\n          this._params.pdfBug\n        );\n        this.pageCache[pageIndex] = page;\n        return page;\n      });\n    this.pagePromises[pageIndex] = promise;\n    return promise;\n  }\n\n  getPageIndex(ref) {\n    return this.messageHandler\n      .sendWithPromise(\"GetPageIndex\", {\n        ref,\n      })\n      .catch(function (reason) {\n        return Promise.reject(new Error(reason));\n      });\n  }\n\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent,\n    });\n  }\n\n  saveDocument(annotationStorage) {\n    return this.messageHandler\n      .sendWithPromise(\"SaveDocument\", {\n        numPages: this._numPages,\n        annotationStorage: annotationStorage?.getAll() || null,\n        filename: this._fullReader?.filename ?? null,\n      })\n      .finally(() => {\n        if (annotationStorage) {\n          annotationStorage.resetModified();\n        }\n      });\n  }\n\n  getFieldObjects() {\n    return this.messageHandler.sendWithPromise(\"GetFieldObjects\", null);\n  }\n\n  hasJSActions() {\n    return (this._hasJSActionsPromise ||= this.messageHandler.sendWithPromise(\n      \"HasJSActions\",\n      null\n    ));\n  }\n\n  getCalculationOrderIds() {\n    return this.messageHandler.sendWithPromise(\"GetCalculationOrderIds\", null);\n  }\n\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id,\n    });\n  }\n\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n\n  getJavaScript() {\n    return this.messageHandler.sendWithPromise(\"GetJavaScript\", null);\n  }\n\n  getDocJSActions() {\n    return this.messageHandler.sendWithPromise(\"GetDocJSActions\", null);\n  }\n\n  getPageJSActions(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetPageJSActions\", {\n      pageIndex,\n    });\n  }\n\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n\n  getOptionalContentConfig() {\n    return this.messageHandler\n      .sendWithPromise(\"GetOptionalContentConfig\", null)\n      .then(results => {\n        return new OptionalContentConfig(results);\n      });\n  }\n\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n\n  getMetadata() {\n    return this.messageHandler\n      .sendWithPromise(\"GetMetadata\", null)\n      .then(results => {\n        return {\n          info: results[0],\n          metadata: results[1] ? new Metadata(results[1]) : null,\n          contentDispositionFilename: this._fullReader?.filename ?? null,\n          contentLength: this._fullReader?.contentLength ?? null,\n        };\n      });\n  }\n\n  getMarkInfo() {\n    return this.messageHandler.sendWithPromise(\"GetMarkInfo\", null);\n  }\n\n  getStats() {\n    return this.messageHandler.sendWithPromise(\"GetStats\", null);\n  }\n\n  startCleanup() {\n    return this.messageHandler.sendWithPromise(\"Cleanup\", null).then(() => {\n      for (let i = 0, ii = this.pageCache.length; i < ii; i++) {\n        const page = this.pageCache[i];\n        if (page) {\n          const cleanupSuccessful = page.cleanup();\n\n          if (!cleanupSuccessful) {\n            throw new Error(\n              `startCleanup: Page ${i + 1} is currently rendering.`\n            );\n          }\n        }\n      }\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n      this._hasJSActionsPromise = null;\n    });\n  }\n\n  get loadingParams() {\n    const params = this._params;\n    return shadow(this, \"loadingParams\", {\n      disableAutoFetch: params.disableAutoFetch,\n      disableFontFace: params.disableFontFace,\n    });\n  }\n}\n\n/**\n * A PDF document and page is built of many objects. E.g. there are objects for\n * fonts, images, rendering code, etc. These objects may get processed inside of\n * a worker. This class implements some basic methods to manage these objects.\n * @ignore\n */\nclass PDFObjects {\n  constructor() {\n    this._objs = Object.create(null);\n  }\n\n  /**\n   * Ensures there is an object defined for `objId`.\n   * @private\n   */\n  _ensureObj(objId) {\n    if (this._objs[objId]) {\n      return this._objs[objId];\n    }\n    return (this._objs[objId] = {\n      capability: createPromiseCapability(),\n      data: null,\n      resolved: false,\n    });\n  }\n\n  /**\n   * If called *without* callback, this returns the data of `objId` but the\n   * object needs to be resolved. If it isn't, this method throws.\n   *\n   * If called *with* a callback, the callback is called with the data of the\n   * object once the object is resolved. That means, if you call this method\n   * and the object is already resolved, the callback gets called right away.\n   */\n  get(objId, callback = null) {\n    // If there is a callback, then the get can be async and the object is\n    // not required to be resolved right now.\n    if (callback) {\n      this._ensureObj(objId).capability.promise.then(callback);\n      return null;\n    }\n    // If there isn't a callback, the user expects to get the resolved data\n    // directly.\n    const obj = this._objs[objId];\n    // If there isn't an object yet or the object isn't resolved, then the\n    // data isn't ready yet!\n    if (!obj || !obj.resolved) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n    return obj.data;\n  }\n\n  has(objId) {\n    const obj = this._objs[objId];\n    return obj?.resolved || false;\n  }\n\n  /**\n   * Resolves the object `objId` with optional `data`.\n   */\n  resolve(objId, data) {\n    const obj = this._ensureObj(objId);\n\n    obj.resolved = true;\n    obj.data = data;\n    obj.capability.resolve(data);\n  }\n\n  clear() {\n    this._objs = Object.create(null);\n  }\n}\n\n/**\n * Allows controlling of the rendering tasks.\n */\nclass RenderTask {\n  constructor(internalRenderTask) {\n    this._internalRenderTask = internalRenderTask;\n\n    /**\n     * Callback for incremental rendering -- a function that will be called\n     * each time the rendering is paused.  To continue rendering call the\n     * function that is the first argument to the callback.\n     * @type {function}\n     */\n    this.onContinue = null;\n  }\n\n  /**\n   * Promise for rendering task completion.\n   * @type {Promise<void>}\n   */\n  get promise() {\n    return this._internalRenderTask.capability.promise;\n  }\n\n  /**\n   * Cancels the rendering task. If the task is currently rendering it will\n   * not be cancelled until graphics pauses with a timeout. The promise that\n   * this object extends will be rejected when cancelled.\n   */\n  cancel() {\n    this._internalRenderTask.cancel();\n  }\n}\n\n/**\n * For internal use only.\n * @ignore\n */\nconst InternalRenderTask = (function InternalRenderTaskClosure() {\n  const canvasInRendering = new WeakSet();\n\n  // eslint-disable-next-line no-shadow\n  class InternalRenderTask {\n    constructor({\n      callback,\n      params,\n      objs,\n      commonObjs,\n      operatorList,\n      pageIndex,\n      canvasFactory,\n      webGLContext,\n      useRequestAnimationFrame = false,\n      pdfBug = false,\n    }) {\n      this.callback = callback;\n      this.params = params;\n      this.objs = objs;\n      this.commonObjs = commonObjs;\n      this.operatorListIdx = null;\n      this.operatorList = operatorList;\n      this._pageIndex = pageIndex;\n      this.canvasFactory = canvasFactory;\n      this.webGLContext = webGLContext;\n      this._pdfBug = pdfBug;\n\n      this.running = false;\n      this.graphicsReadyCallback = null;\n      this.graphicsReady = false;\n      this._useRequestAnimationFrame =\n        useRequestAnimationFrame === true && typeof window !== \"undefined\";\n      this.cancelled = false;\n      this.capability = createPromiseCapability();\n      this.task = new RenderTask(this);\n      // caching this-bound methods\n      this._continueBound = this._continue.bind(this);\n      this._scheduleNextBound = this._scheduleNext.bind(this);\n      this._nextBound = this._next.bind(this);\n      this._canvas = params.canvasContext.canvas;\n    }\n\n    get completed() {\n      return this.capability.promise.catch(function () {\n        // Ignoring errors, since we only want to know when rendering is\n        // no longer pending.\n      });\n    }\n\n    initializeGraphics({ transparency = false, optionalContentConfig }) {\n      if (this.cancelled) {\n        return;\n      }\n      if (this._canvas) {\n        if (canvasInRendering.has(this._canvas)) {\n          throw new Error(\n            \"Cannot use the same canvas during multiple render() operations. \" +\n              \"Use different canvas or ensure previous operations were \" +\n              \"cancelled or completed.\"\n          );\n        }\n        canvasInRendering.add(this._canvas);\n      }\n\n      if (this._pdfBug && globalThis.StepperManager?.enabled) {\n        this.stepper = globalThis.StepperManager.create(this._pageIndex);\n        this.stepper.init(this.operatorList);\n        this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n      }\n      const {\n        canvasContext,\n        viewport,\n        transform,\n        imageLayer,\n        background,\n      } = this.params;\n\n      this.gfx = new CanvasGraphics(\n        canvasContext,\n        this.commonObjs,\n        this.objs,\n        this.canvasFactory,\n        this.webGLContext,\n        imageLayer,\n        optionalContentConfig\n      );\n      this.gfx.beginDrawing({\n        transform,\n        viewport,\n        transparency,\n        background,\n      });\n      this.operatorListIdx = 0;\n      this.graphicsReady = true;\n      if (this.graphicsReadyCallback) {\n        this.graphicsReadyCallback();\n      }\n    }\n\n    cancel(error = null) {\n      this.running = false;\n      this.cancelled = true;\n      if (this.gfx) {\n        this.gfx.endDrawing();\n      }\n      if (this._canvas) {\n        canvasInRendering.delete(this._canvas);\n      }\n      this.callback(\n        error ||\n          new RenderingCancelledException(\n            `Rendering cancelled, page ${this._pageIndex + 1}`,\n            \"canvas\"\n          )\n      );\n    }\n\n    operatorListChanged() {\n      if (!this.graphicsReady) {\n        if (!this.graphicsReadyCallback) {\n          this.graphicsReadyCallback = this._continueBound;\n        }\n        return;\n      }\n\n      if (this.stepper) {\n        this.stepper.updateOperatorList(this.operatorList);\n      }\n\n      if (this.running) {\n        return;\n      }\n      this._continue();\n    }\n\n    _continue() {\n      this.running = true;\n      if (this.cancelled) {\n        return;\n      }\n      if (this.task.onContinue) {\n        this.task.onContinue(this._scheduleNextBound);\n      } else {\n        this._scheduleNext();\n      }\n    }\n\n    _scheduleNext() {\n      if (this._useRequestAnimationFrame) {\n        window.requestAnimationFrame(() => {\n          this._nextBound().catch(this.cancel.bind(this));\n        });\n      } else {\n        Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this));\n      }\n    }\n\n    async _next() {\n      if (this.cancelled) {\n        return;\n      }\n      this.operatorListIdx = this.gfx.executeOperatorList(\n        this.operatorList,\n        this.operatorListIdx,\n        this._continueBound,\n        this.stepper\n      );\n      if (this.operatorListIdx === this.operatorList.argsArray.length) {\n        this.running = false;\n        if (this.operatorList.lastChunk) {\n          this.gfx.endDrawing();\n          if (this._canvas) {\n            canvasInRendering.delete(this._canvas);\n          }\n          this.callback();\n        }\n      }\n    }\n  }\n  return InternalRenderTask;\n})();\n\n/** @type {string} */\nconst version =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_VERSION\") : null;\n/** @type {string} */\nconst build =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_BUILD\") : null;\n\nexport {\n  build,\n  DefaultCanvasFactory,\n  DefaultCMapReaderFactory,\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFDocumentProxy,\n  PDFPageProxy,\n  PDFWorker,\n  setPDFNetworkStreamFactory,\n  version,\n};\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  bytesToString,\n  IsEvalSupportedCached,\n  shadow,\n  string32,\n  unreachable,\n  UNSUPPORTED_FEATURES,\n  warn,\n} from \"../shared/util.js\";\n\nclass BaseFontLoader {\n  constructor({\n    docId,\n    onUnsupportedFeature,\n    ownerDocument = globalThis.document,\n  }) {\n    if (this.constructor === BaseFontLoader) {\n      unreachable(\"Cannot initialize BaseFontLoader.\");\n    }\n    this.docId = docId;\n    this._onUnsupportedFeature = onUnsupportedFeature;\n    this._document = ownerDocument;\n\n    this.nativeFontFaces = [];\n    this.styleElement = null;\n  }\n\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.push(nativeFontFace);\n    this._document.fonts.add(nativeFontFace);\n  }\n\n  insertRule(rule) {\n    let styleElement = this.styleElement;\n    if (!styleElement) {\n      styleElement = this.styleElement = this._document.createElement(\"style\");\n      styleElement.id = `PDFJS_FONT_STYLE_TAG_${this.docId}`;\n      this._document.documentElement\n        .getElementsByTagName(\"head\")[0]\n        .appendChild(styleElement);\n    }\n\n    const styleSheet = styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n\n  clear() {\n    this.nativeFontFaces.forEach(nativeFontFace => {\n      this._document.fonts.delete(nativeFontFace);\n    });\n    this.nativeFontFaces.length = 0;\n\n    if (this.styleElement) {\n      // Note: ChildNode.remove doesn't throw if the parentNode is undefined.\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n\n  async bind(font) {\n    // Add the font to the DOM only once; skip if the font is already loaded.\n    if (font.attached || font.missingFile) {\n      return;\n    }\n    font.attached = true;\n\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          this._onUnsupportedFeature({\n            featureId: UNSUPPORTED_FEATURES.errorFontLoadNative,\n          });\n          warn(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n\n          // When font loading failed, fall back to the built-in font renderer.\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n      return; // The font was, asynchronously, loaded.\n    }\n\n    // !this.isFontLoadingAPISupported\n    const rule = font.createFontFaceRule();\n    if (rule) {\n      this.insertRule(rule);\n\n      if (this.isSyncFontLoadingSupported) {\n        return; // The font was, synchronously, loaded.\n      }\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n        this._prepareFontLoadEvent([rule], [font], request);\n      });\n      // The font was, asynchronously, loaded.\n    }\n  }\n\n  _queueLoadingCallback(callback) {\n    unreachable(\"Abstract method `_queueLoadingCallback`.\");\n  }\n\n  get isFontLoadingAPISupported() {\n    return shadow(this, \"isFontLoadingAPISupported\", !!this._document?.fonts);\n  }\n\n  // eslint-disable-next-line getter-return\n  get isSyncFontLoadingSupported() {\n    unreachable(\"Abstract method `isSyncFontLoadingSupported`.\");\n  }\n\n  // eslint-disable-next-line getter-return\n  get _loadTestFont() {\n    unreachable(\"Abstract method `_loadTestFont`.\");\n  }\n\n  _prepareFontLoadEvent(rules, fontsToLoad, request) {\n    unreachable(\"Abstract method `_prepareFontLoadEvent`.\");\n  }\n}\n\nlet FontLoader;\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  FontLoader = class MozcentralFontLoader extends BaseFontLoader {\n    get isSyncFontLoadingSupported() {\n      return shadow(this, \"isSyncFontLoadingSupported\", true);\n    }\n  };\n} else {\n  // PDFJSDev.test('CHROME || GENERIC')\n\n  FontLoader = class GenericFontLoader extends BaseFontLoader {\n    constructor(params) {\n      super(params);\n      this.loadingContext = {\n        requests: [],\n        nextRequestId: 0,\n      };\n      this.loadTestFontId = 0;\n    }\n\n    get isSyncFontLoadingSupported() {\n      let supported = false;\n      if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"CHROME\")) {\n        if (typeof navigator === \"undefined\") {\n          // Node.js - we can pretend that sync font loading is supported.\n          supported = true;\n        } else {\n          // User agent string sniffing is bad, but there is no reliable way to\n          // tell if the font is fully loaded and ready to be used with canvas.\n          const m = /Mozilla\\/5.0.*?rv:(\\d+).*? Gecko/.exec(\n            navigator.userAgent\n          );\n          if (m?.[1] >= 14) {\n            supported = true;\n          }\n          // TODO - other browsers...\n        }\n      }\n      return shadow(this, \"isSyncFontLoadingSupported\", supported);\n    }\n\n    _queueLoadingCallback(callback) {\n      function completeRequest() {\n        assert(!request.done, \"completeRequest() cannot be called twice.\");\n        request.done = true;\n\n        // Sending all completed requests in order of how they were queued.\n        while (context.requests.length > 0 && context.requests[0].done) {\n          const otherRequest = context.requests.shift();\n          setTimeout(otherRequest.callback, 0);\n        }\n      }\n\n      const context = this.loadingContext;\n      const request = {\n        id: `pdfjs-font-loading-${context.nextRequestId++}`,\n        done: false,\n        complete: completeRequest,\n        callback,\n      };\n      context.requests.push(request);\n      return request;\n    }\n\n    get _loadTestFont() {\n      const getLoadTestFont = function () {\n        // This is a CFF font with 1 glyph for '.' that fills its entire width\n        // and height.\n        return atob(\n          \"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" +\n            \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" +\n            \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" +\n            \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" +\n            \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" +\n            \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" +\n            \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" +\n            \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" +\n            \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" +\n            \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" +\n            \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" +\n            \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" +\n            \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" +\n            \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" +\n            \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" +\n            \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" +\n            \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\"\n        );\n      };\n      return shadow(this, \"_loadTestFont\", getLoadTestFont());\n    }\n\n    _prepareFontLoadEvent(rules, fonts, request) {\n      /** Hack begin */\n      // There's currently no event when a font has finished downloading so the\n      // following code is a dirty hack to 'guess' when a font is ready.\n      // It's assumed fonts are loaded in order, so add a known test font after\n      // the desired fonts and then test for the loading of that test font.\n\n      function int32(data, offset) {\n        return (\n          (data.charCodeAt(offset) << 24) |\n          (data.charCodeAt(offset + 1) << 16) |\n          (data.charCodeAt(offset + 2) << 8) |\n          (data.charCodeAt(offset + 3) & 0xff)\n        );\n      }\n      function spliceString(s, offset, remove, insert) {\n        const chunk1 = s.substring(0, offset);\n        const chunk2 = s.substring(offset + remove);\n        return chunk1 + insert + chunk2;\n      }\n      let i, ii;\n\n      // The temporary canvas is used to determine if fonts are loaded.\n      const canvas = this._document.createElement(\"canvas\");\n      canvas.width = 1;\n      canvas.height = 1;\n      const ctx = canvas.getContext(\"2d\");\n\n      let called = 0;\n      function isFontReady(name, callback) {\n        called++;\n        // With setTimeout clamping this gives the font ~100ms to load.\n        if (called > 30) {\n          warn(\"Load test font never loaded.\");\n          callback();\n          return;\n        }\n        ctx.font = \"30px \" + name;\n        ctx.fillText(\".\", 0, 20);\n        const imageData = ctx.getImageData(0, 0, 1, 1);\n        if (imageData.data[3] > 0) {\n          callback();\n          return;\n        }\n        setTimeout(isFontReady.bind(null, name, callback));\n      }\n\n      const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n      // Chromium seems to cache fonts based on a hash of the actual font data,\n      // so the font must be modified for each load test else it will appear to\n      // be loaded already.\n      // TODO: This could maybe be made faster by avoiding the btoa of the full\n      // font by splitting it in chunks before hand and padding the font id.\n      let data = this._loadTestFont;\n      const COMMENT_OFFSET = 976; // has to be on 4 byte boundary (for checksum)\n      data = spliceString(\n        data,\n        COMMENT_OFFSET,\n        loadTestFontId.length,\n        loadTestFontId\n      );\n      // CFF checksum is important for IE, adjusting it\n      const CFF_CHECKSUM_OFFSET = 16;\n      const XXXX_VALUE = 0x58585858; // the \"comment\" filled with 'X'\n      let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n      for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n        checksum = (checksum - XXXX_VALUE + int32(loadTestFontId, i)) | 0;\n      }\n      if (i < loadTestFontId.length) {\n        // align to 4 bytes boundary\n        checksum =\n          (checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i)) | 0;\n      }\n      data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, string32(checksum));\n\n      const url = `url(data:font/opentype;base64,${btoa(data)});`;\n      const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n      this.insertRule(rule);\n\n      const names = [];\n      for (i = 0, ii = fonts.length; i < ii; i++) {\n        names.push(fonts[i].loadedName);\n      }\n      names.push(loadTestFontId);\n\n      const div = this._document.createElement(\"div\");\n      div.style.visibility = \"hidden\";\n      div.style.width = div.style.height = \"10px\";\n      div.style.position = \"absolute\";\n      div.style.top = div.style.left = \"0px\";\n\n      for (i = 0, ii = names.length; i < ii; ++i) {\n        const span = this._document.createElement(\"span\");\n        span.textContent = \"Hi\";\n        span.style.fontFamily = names[i];\n        div.appendChild(span);\n      }\n      this._document.body.appendChild(div);\n\n      isFontReady(loadTestFontId, () => {\n        this._document.body.removeChild(div);\n        request.complete();\n      });\n      /** Hack end */\n    }\n  };\n} // End of PDFJSDev.test('CHROME || GENERIC')\n\nclass FontFaceObject {\n  constructor(\n    translatedData,\n    {\n      isEvalSupported = true,\n      disableFontFace = false,\n      ignoreErrors = false,\n      onUnsupportedFeature = null,\n      fontRegistry = null,\n    }\n  ) {\n    this.compiledGlyphs = Object.create(null);\n    // importing translated data\n    for (const i in translatedData) {\n      this[i] = translatedData[i];\n    }\n    this.isEvalSupported = isEvalSupported !== false;\n    this.disableFontFace = disableFontFace === true;\n    this.ignoreErrors = ignoreErrors === true;\n    this._onUnsupportedFeature = onUnsupportedFeature;\n    this.fontRegistry = fontRegistry;\n  }\n\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const nativeFontFace = new FontFace(this.loadedName, this.data, {});\n\n    if (this.fontRegistry) {\n      this.fontRegistry.registerFont(this);\n    }\n    return nativeFontFace;\n  }\n\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const data = bytesToString(new Uint8Array(this.data));\n    // Add the @font-face rule to the document.\n    const url = `url(data:${this.mimetype};base64,${btoa(data)});`;\n    const rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n\n    if (this.fontRegistry) {\n      this.fontRegistry.registerFont(this, url);\n    }\n    return rule;\n  }\n\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n\n    let cmds, current;\n    try {\n      cmds = objs.get(this.loadedName + \"_path_\" + character);\n    } catch (ex) {\n      if (!this.ignoreErrors) {\n        throw ex;\n      }\n      if (this._onUnsupportedFeature) {\n        this._onUnsupportedFeature({\n          featureId: UNSUPPORTED_FEATURES.errorFontGetPath,\n        });\n      }\n      warn(`getPathGenerator - ignoring character: \"${ex}\".`);\n\n      return (this.compiledGlyphs[character] = function (c, size) {\n        // No-op function, to allow rendering to continue.\n      });\n    }\n\n    // If we can, compile cmds into JS for MAXIMUM SPEED...\n    if (this.isEvalSupported && IsEvalSupportedCached.value) {\n      let args,\n        js = \"\";\n      for (let i = 0, ii = cmds.length; i < ii; i++) {\n        current = cmds[i];\n\n        if (current.args !== undefined) {\n          args = current.args.join(\",\");\n        } else {\n          args = \"\";\n        }\n        js += \"c.\" + current.cmd + \"(\" + args + \");\\n\";\n      }\n      // eslint-disable-next-line no-new-func\n      return (this.compiledGlyphs[character] = new Function(\"c\", \"size\", js));\n    }\n    // ... but fall back on using Function.prototype.apply() if we're\n    // blocked from using eval() for whatever reason (like CSP policies).\n    return (this.compiledGlyphs[character] = function (c, size) {\n      for (let i = 0, ii = cmds.length; i < ii; i++) {\n        current = cmds[i];\n\n        if (current.cmd === \"scale\") {\n          current.args = [size, -size];\n        }\n        c[current.cmd].apply(c, current.args);\n      }\n    });\n  }\n}\n\nexport { FontFaceObject, FontLoader };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n\nimport { BaseCanvasFactory, BaseCMapReaderFactory } from \"./display_utils.js\";\nimport { isNodeJS } from \"../shared/is_node.js\";\nimport { unreachable } from \"../shared/util.js\";\n\nlet NodeCanvasFactory = class {\n  constructor() {\n    unreachable(\"Not implemented: NodeCanvasFactory\");\n  }\n};\n\nlet NodeCMapReaderFactory = class {\n  constructor() {\n    unreachable(\"Not implemented: NodeCMapReaderFactory\");\n  }\n};\n\nif ((typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) && isNodeJS) {\n  NodeCanvasFactory = class extends BaseCanvasFactory {\n    create(width, height) {\n      if (width <= 0 || height <= 0) {\n        throw new Error(\"Invalid canvas size\");\n      }\n      const Canvas = __non_webpack_require__(\"canvas\");\n      const canvas = Canvas.createCanvas(width, height);\n      return {\n        canvas,\n        context: canvas.getContext(\"2d\"),\n      };\n    }\n  };\n\n  NodeCMapReaderFactory = class extends BaseCMapReaderFactory {\n    _fetchData(url, compressionType) {\n      return new Promise((resolve, reject) => {\n        const fs = __non_webpack_require__(\"fs\");\n        fs.readFile(url, (error, data) => {\n          if (error || !data) {\n            reject(new Error(error));\n            return;\n          }\n          resolve({ cMapData: new Uint8Array(data), compressionType });\n        });\n      });\n    }\n  };\n}\n\nexport { NodeCanvasFactory, NodeCMapReaderFactory };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { objectFromEntries } from \"../shared/util.js\";\n\n/**\n * Key/value storage for annotation data in forms.\n */\nclass AnnotationStorage {\n  constructor() {\n    this._storage = new Map();\n    this._modified = false;\n\n    // Callbacks to signal when the modification state is set or reset.\n    // This is used by the viewer to only bind on `beforeunload` if forms\n    // are actually edited to prevent doing so unconditionally since that\n    // can have undesirable efffects.\n    this.onSetModified = null;\n    this.onResetModified = null;\n  }\n\n  /**\n   * Get the value for a given key if it exists\n   * or store and return the default value\n   *\n   * @public\n   * @memberof AnnotationStorage\n   * @param {string} key\n   * @param {Object} defaultValue\n   * @returns {Object}\n   */\n  getOrCreateValue(key, defaultValue) {\n    if (this._storage.has(key)) {\n      return this._storage.get(key);\n    }\n\n    this._storage.set(key, defaultValue);\n    return defaultValue;\n  }\n\n  /**\n   * Set the value for a given key\n   *\n   * @public\n   * @memberof AnnotationStorage\n   * @param {string} key\n   * @param {Object} value\n   */\n  setValue(key, value) {\n    const obj = this._storage.get(key);\n    let modified = false;\n    if (obj !== undefined) {\n      for (const [entry, val] of Object.entries(value)) {\n        if (obj[entry] !== val) {\n          modified = true;\n          obj[entry] = val;\n        }\n      }\n    } else {\n      this._storage.set(key, value);\n      modified = true;\n    }\n    if (modified) {\n      this._setModified();\n    }\n  }\n\n  getAll() {\n    if (this._storage.size === 0) {\n      return null;\n    }\n    return objectFromEntries(this._storage);\n  }\n\n  get size() {\n    return this._storage.size;\n  }\n\n  /**\n   * @private\n   */\n  _setModified() {\n    if (!this._modified) {\n      this._modified = true;\n      if (typeof this.onSetModified === \"function\") {\n        this.onSetModified();\n      }\n    }\n  }\n\n  resetModified() {\n    if (this._modified) {\n      this._modified = false;\n      if (typeof this.onResetModified === \"function\") {\n        this.onResetModified();\n      }\n    }\n  }\n}\n\nexport { AnnotationStorage };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isNodeJS } from \"../shared/is_node.js\";\n\nconst compatibilityParams = Object.create(null);\nif (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n  // Support: Node.js\n  (function checkFontFace() {\n    // Node.js is missing native support for `@font-face`.\n    if (isNodeJS) {\n      compatibilityParams.disableFontFace = true;\n    }\n  })();\n}\nconst apiCompatibilityParams = Object.freeze(compatibilityParams);\n\nexport { apiCompatibilityParams };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  ImageKind,\n  info,\n  IsLittleEndianCached,\n  isNum,\n  OPS,\n  shadow,\n  TextRenderingMode,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { getShadingPatternFromIR, TilingPattern } from \"./pattern_helper.js\";\n\n// <canvas> contexts store most of the state we need natively.\n// However, PDF needs a bit more state, which we store here.\n// Minimal font size that would be used during canvas fillText operations.\nconst MIN_FONT_SIZE = 16;\n// Maximum font size that would be used during canvas fillText operations.\nconst MAX_FONT_SIZE = 100;\nconst MAX_GROUP_SIZE = 4096;\n\nconst COMPILE_TYPE3_GLYPHS = true;\nconst MAX_SIZE_TO_COMPILE = 1000;\n\nconst FULL_CHUNK_HEIGHT = 16;\n\nfunction addContextCurrentTransform(ctx) {\n  // If the context doesn't expose a `mozCurrentTransform`, add a JS based one.\n  if (!ctx.mozCurrentTransform) {\n    ctx._originalSave = ctx.save;\n    ctx._originalRestore = ctx.restore;\n    ctx._originalRotate = ctx.rotate;\n    ctx._originalScale = ctx.scale;\n    ctx._originalTranslate = ctx.translate;\n    ctx._originalTransform = ctx.transform;\n    ctx._originalSetTransform = ctx.setTransform;\n\n    ctx._transformMatrix = ctx._transformMatrix || [1, 0, 0, 1, 0, 0];\n    ctx._transformStack = [];\n\n    Object.defineProperty(ctx, \"mozCurrentTransform\", {\n      get: function getCurrentTransform() {\n        return this._transformMatrix;\n      },\n    });\n\n    Object.defineProperty(ctx, \"mozCurrentTransformInverse\", {\n      get: function getCurrentTransformInverse() {\n        // Calculation done using WolframAlpha:\n        // http://www.wolframalpha.com/input/?\n        //   i=Inverse+{{a%2C+c%2C+e}%2C+{b%2C+d%2C+f}%2C+{0%2C+0%2C+1}}\n\n        const m = this._transformMatrix;\n        const a = m[0],\n          b = m[1],\n          c = m[2],\n          d = m[3],\n          e = m[4],\n          f = m[5];\n\n        const ad_bc = a * d - b * c;\n        const bc_ad = b * c - a * d;\n\n        return [\n          d / ad_bc,\n          b / bc_ad,\n          c / bc_ad,\n          a / ad_bc,\n          (d * e - c * f) / bc_ad,\n          (b * e - a * f) / ad_bc,\n        ];\n      },\n    });\n\n    ctx.save = function ctxSave() {\n      const old = this._transformMatrix;\n      this._transformStack.push(old);\n      this._transformMatrix = old.slice(0, 6);\n\n      this._originalSave();\n    };\n\n    ctx.restore = function ctxRestore() {\n      const prev = this._transformStack.pop();\n      if (prev) {\n        this._transformMatrix = prev;\n        this._originalRestore();\n      }\n    };\n\n    ctx.translate = function ctxTranslate(x, y) {\n      const m = this._transformMatrix;\n      m[4] = m[0] * x + m[2] * y + m[4];\n      m[5] = m[1] * x + m[3] * y + m[5];\n\n      this._originalTranslate(x, y);\n    };\n\n    ctx.scale = function ctxScale(x, y) {\n      const m = this._transformMatrix;\n      m[0] = m[0] * x;\n      m[1] = m[1] * x;\n      m[2] = m[2] * y;\n      m[3] = m[3] * y;\n\n      this._originalScale(x, y);\n    };\n\n    ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n      const m = this._transformMatrix;\n      this._transformMatrix = [\n        m[0] * a + m[2] * b,\n        m[1] * a + m[3] * b,\n        m[0] * c + m[2] * d,\n        m[1] * c + m[3] * d,\n        m[0] * e + m[2] * f + m[4],\n        m[1] * e + m[3] * f + m[5],\n      ];\n\n      ctx._originalTransform(a, b, c, d, e, f);\n    };\n\n    ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n      this._transformMatrix = [a, b, c, d, e, f];\n\n      ctx._originalSetTransform(a, b, c, d, e, f);\n    };\n\n    ctx.rotate = function ctxRotate(angle) {\n      const cosValue = Math.cos(angle);\n      const sinValue = Math.sin(angle);\n\n      const m = this._transformMatrix;\n      this._transformMatrix = [\n        m[0] * cosValue + m[2] * sinValue,\n        m[1] * cosValue + m[3] * sinValue,\n        m[0] * -sinValue + m[2] * cosValue,\n        m[1] * -sinValue + m[3] * cosValue,\n        m[4],\n        m[5],\n      ];\n\n      this._originalRotate(angle);\n    };\n  }\n}\n\nconst CachedCanvases = (function CachedCanvasesClosure() {\n  // eslint-disable-next-line no-shadow\n  function CachedCanvases(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n  CachedCanvases.prototype = {\n    getCanvas: function CachedCanvases_getCanvas(\n      id,\n      width,\n      height,\n      trackTransform\n    ) {\n      let canvasEntry;\n      if (this.cache[id] !== undefined) {\n        canvasEntry = this.cache[id];\n        this.canvasFactory.reset(canvasEntry, width, height);\n        // reset canvas transform for emulated mozCurrentTransform, if needed\n        canvasEntry.context.setTransform(1, 0, 0, 1, 0, 0);\n      } else {\n        canvasEntry = this.canvasFactory.create(width, height);\n        this.cache[id] = canvasEntry;\n      }\n      if (trackTransform) {\n        addContextCurrentTransform(canvasEntry.context);\n      }\n      return canvasEntry;\n    },\n    clear() {\n      for (const id in this.cache) {\n        const canvasEntry = this.cache[id];\n        this.canvasFactory.destroy(canvasEntry);\n        delete this.cache[id];\n      }\n    },\n  };\n  return CachedCanvases;\n})();\n\nfunction compileType3Glyph(imgData) {\n  const POINT_TO_PROCESS_LIMIT = 1000;\n\n  const width = imgData.width,\n    height = imgData.height,\n    width1 = width + 1;\n  let i, ii, j, j0;\n  const points = new Uint8Array(width1 * (height + 1));\n  // prettier-ignore\n  const POINT_TYPES =\n      new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n\n  // decodes bit-packed mask data\n  const lineSize = (width + 7) & ~7,\n    data0 = imgData.data;\n  const data = new Uint8Array(lineSize * height);\n  let pos = 0;\n  for (i = 0, ii = data0.length; i < ii; i++) {\n    const elem = data0[i];\n    let mask = 128;\n    while (mask > 0) {\n      data[pos++] = elem & mask ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n\n  // finding interesting points: every point is located between mask pixels,\n  // so there will be points of the (width + 1)x(height + 1) grid. Every point\n  // will have flags assigned based on neighboring mask pixels:\n  //   4 | 8\n  //   --P--\n  //   2 | 1\n  // We are interested only in points with the flags:\n  //   - outside corners: 1, 2, 4, 8;\n  //   - inside corners: 7, 11, 13, 14;\n  //   - and, intersections: 5, 10.\n  let count = 0;\n  pos = 0;\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n    // 'sum' is the position of the current pixel configuration in the 'TYPES'\n    // array (in order 8-1-2-4, so we can use '>>2' to shift the column).\n    let sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n    for (j = 1; j < width; j++) {\n      sum =\n        (sum >> 2) +\n        (data[pos + 1] ? 4 : 0) +\n        (data[pos - lineSize + 1] ? 8 : 0);\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n      pos++;\n    }\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n\n  // building outlines\n  const steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  const outlines = [];\n  for (i = 0; count && i <= height; i++) {\n    let p = i * width1;\n    const end = p + width;\n    while (p < end && !points[p]) {\n      p++;\n    }\n    if (p === end) {\n      continue;\n    }\n    const coords = [p % width1, i];\n\n    const p0 = p;\n    let type = points[p];\n    do {\n      const step = steps[type];\n      do {\n        p += step;\n      } while (!points[p]);\n\n      const pp = points[p];\n      if (pp !== 5 && pp !== 10) {\n        // set new direction\n        type = pp;\n        // delete mark\n        points[p] = 0;\n      } else {\n        // type is 5 or 10, ie, a crossing\n        // set new direction\n        type = pp & ((0x33 * type) >> 4);\n        // set new type for \"future hit\"\n        points[p] &= (type >> 2) | (type << 2);\n      }\n\n      coords.push(p % width1);\n      coords.push((p / width1) | 0);\n\n      if (!points[p]) {\n        --count;\n      }\n    } while (p0 !== p);\n    outlines.push(coords);\n    --i;\n  }\n\n  const drawOutline = function (c) {\n    c.save();\n    // the path shall be painted in [0..1]x[0..1] space\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n    c.beginPath();\n    for (let k = 0, kk = outlines.length; k < kk; k++) {\n      const o = outlines[k];\n      c.moveTo(o[0], o[1]);\n      for (let l = 2, ll = o.length; l < ll; l += 2) {\n        c.lineTo(o[l], o[l + 1]);\n      }\n    }\n    c.fill();\n    c.beginPath();\n    c.restore();\n  };\n\n  return drawOutline;\n}\n\nconst CanvasExtraState = (function CanvasExtraStateClosure() {\n  // eslint-disable-next-line no-shadow\n  function CanvasExtraState() {\n    // Are soft masks and alpha values shapes or opacities?\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    // Current point (in user coordinates)\n    this.x = 0;\n    this.y = 0;\n    // Start of text line (in text coordinates)\n    this.lineX = 0;\n    this.lineY = 0;\n    // Character and word spacing\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = TextRenderingMode.FILL;\n    this.textRise = 0;\n    // Default fore and background colors\n    this.fillColor = \"#000000\";\n    this.strokeColor = \"#000000\";\n    this.patternFill = false;\n    // Note: fill alpha applies to all non-stroking operations\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null;\n    this.resumeSMaskCtx = null; // nonclonable field (see the save method below)\n    this.transferMaps = null;\n  }\n\n  CanvasExtraState.prototype = {\n    clone: function CanvasExtraState_clone() {\n      return Object.create(this);\n    },\n    setCurrentPoint: function CanvasExtraState_setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    },\n  };\n  return CanvasExtraState;\n})();\n\n/**\n * @type {any}\n */\nconst CanvasGraphics = (function CanvasGraphicsClosure() {\n  // Defines the time the executeOperatorList is going to be executing\n  // before it stops and shedules a continue of execution.\n  const EXECUTION_TIME = 15;\n  // Defines the number of steps before checking the execution time\n  const EXECUTION_STEPS = 10;\n\n  // eslint-disable-next-line no-shadow\n  function CanvasGraphics(\n    canvasCtx,\n    commonObjs,\n    objs,\n    canvasFactory,\n    webGLContext,\n    imageLayer,\n    optionalContentConfig\n  ) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState();\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.webGLContext = webGLContext;\n    this.imageLayer = imageLayer;\n    this.groupStack = [];\n    this.processingType3 = null;\n    // Patterns are painted relative to the initial page/form transform, see pdf\n    // spec 8.7.2 NOTE 1.\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.contentVisible = true;\n    this.markedContentStack = [];\n    this.optionalContentConfig = optionalContentConfig;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    if (canvasCtx) {\n      // NOTE: if mozCurrentTransform is polyfilled, then the current state of\n      // the transformation must already be set in canvasCtx._transformMatrix.\n      addContextCurrentTransform(canvasCtx);\n    }\n    this._cachedGetSinglePixelWidth = null;\n  }\n\n  function putBinaryImageData(ctx, imgData, transferMaps = null) {\n    if (typeof ImageData !== \"undefined\" && imgData instanceof ImageData) {\n      ctx.putImageData(imgData, 0, 0);\n      return;\n    }\n\n    // Put the image data to the canvas in chunks, rather than putting the\n    // whole image at once.  This saves JS memory, because the ImageData object\n    // is smaller. It also possibly saves C++ memory within the implementation\n    // of putImageData(). (E.g. in Firefox we make two short-lived copies of\n    // the data passed to putImageData()). |n| shouldn't be too small, however,\n    // because too many putImageData() calls will slow things down.\n    //\n    // Note: as written, if the last chunk is partial, the putImageData() call\n    // will (conceptually) put pixels past the bounds of the canvas.  But\n    // that's ok; any such pixels are ignored.\n\n    const height = imgData.height,\n      width = imgData.width;\n    const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n    const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n    const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n    const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n    let srcPos = 0,\n      destPos;\n    const src = imgData.data;\n    const dest = chunkImgData.data;\n    let i, j, thisChunkHeight, elemsInThisChunk;\n\n    let transferMapRed, transferMapGreen, transferMapBlue, transferMapGray;\n    if (transferMaps) {\n      switch (transferMaps.length) {\n        case 1:\n          transferMapRed = transferMaps[0];\n          transferMapGreen = transferMaps[0];\n          transferMapBlue = transferMaps[0];\n          transferMapGray = transferMaps[0];\n          break;\n        case 4:\n          transferMapRed = transferMaps[0];\n          transferMapGreen = transferMaps[1];\n          transferMapBlue = transferMaps[2];\n          transferMapGray = transferMaps[3];\n          break;\n      }\n    }\n\n    // There are multiple forms in which the pixel data can be passed, and\n    // imgData.kind tells us which one this is.\n    if (imgData.kind === ImageKind.GRAYSCALE_1BPP) {\n      // Grayscale, 1 bit per pixel (i.e. black-and-white).\n      const srcLength = src.byteLength;\n      const dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n      const dest32DataLength = dest32.length;\n      const fullSrcDiff = (width + 7) >> 3;\n      let white = 0xffffffff;\n      let black = IsLittleEndianCached.value ? 0xff000000 : 0x000000ff;\n\n      if (transferMapGray) {\n        if (transferMapGray[0] === 0xff && transferMapGray[0xff] === 0) {\n          [white, black] = [black, white];\n        }\n      }\n\n      for (i = 0; i < totalChunks; i++) {\n        thisChunkHeight =\n          i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n        destPos = 0;\n        for (j = 0; j < thisChunkHeight; j++) {\n          const srcDiff = srcLength - srcPos;\n          let k = 0;\n          const kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n          const kEndUnrolled = kEnd & ~7;\n          let mask = 0;\n          let srcByte = 0;\n          for (; k < kEndUnrolled; k += 8) {\n            srcByte = src[srcPos++];\n            dest32[destPos++] = srcByte & 128 ? white : black;\n            dest32[destPos++] = srcByte & 64 ? white : black;\n            dest32[destPos++] = srcByte & 32 ? white : black;\n            dest32[destPos++] = srcByte & 16 ? white : black;\n            dest32[destPos++] = srcByte & 8 ? white : black;\n            dest32[destPos++] = srcByte & 4 ? white : black;\n            dest32[destPos++] = srcByte & 2 ? white : black;\n            dest32[destPos++] = srcByte & 1 ? white : black;\n          }\n          for (; k < kEnd; k++) {\n            if (mask === 0) {\n              srcByte = src[srcPos++];\n              mask = 128;\n            }\n\n            dest32[destPos++] = srcByte & mask ? white : black;\n            mask >>= 1;\n          }\n        }\n        // We ran out of input. Make all remaining pixels transparent.\n        while (destPos < dest32DataLength) {\n          dest32[destPos++] = 0;\n        }\n\n        ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n      }\n    } else if (imgData.kind === ImageKind.RGBA_32BPP) {\n      // RGBA, 32-bits per pixel.\n      const hasTransferMaps = !!(\n        transferMapRed ||\n        transferMapGreen ||\n        transferMapBlue\n      );\n\n      j = 0;\n      elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n      for (i = 0; i < fullChunks; i++) {\n        dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n        srcPos += elemsInThisChunk;\n\n        if (hasTransferMaps) {\n          for (let k = 0; k < elemsInThisChunk; k += 4) {\n            if (transferMapRed) {\n              dest[k + 0] = transferMapRed[dest[k + 0]];\n            }\n            if (transferMapGreen) {\n              dest[k + 1] = transferMapGreen[dest[k + 1]];\n            }\n            if (transferMapBlue) {\n              dest[k + 2] = transferMapBlue[dest[k + 2]];\n            }\n          }\n        }\n\n        ctx.putImageData(chunkImgData, 0, j);\n        j += FULL_CHUNK_HEIGHT;\n      }\n      if (i < totalChunks) {\n        elemsInThisChunk = width * partialChunkHeight * 4;\n        dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n\n        if (hasTransferMaps) {\n          for (let k = 0; k < elemsInThisChunk; k += 4) {\n            if (transferMapRed) {\n              dest[k + 0] = transferMapRed[dest[k + 0]];\n            }\n            if (transferMapGreen) {\n              dest[k + 1] = transferMapGreen[dest[k + 1]];\n            }\n            if (transferMapBlue) {\n              dest[k + 2] = transferMapBlue[dest[k + 2]];\n            }\n          }\n        }\n\n        ctx.putImageData(chunkImgData, 0, j);\n      }\n    } else if (imgData.kind === ImageKind.RGB_24BPP) {\n      // RGB, 24-bits per pixel.\n      const hasTransferMaps = !!(\n        transferMapRed ||\n        transferMapGreen ||\n        transferMapBlue\n      );\n\n      thisChunkHeight = FULL_CHUNK_HEIGHT;\n      elemsInThisChunk = width * thisChunkHeight;\n      for (i = 0; i < totalChunks; i++) {\n        if (i >= fullChunks) {\n          thisChunkHeight = partialChunkHeight;\n          elemsInThisChunk = width * thisChunkHeight;\n        }\n\n        destPos = 0;\n        for (j = elemsInThisChunk; j--; ) {\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = 255;\n        }\n\n        if (hasTransferMaps) {\n          for (let k = 0; k < destPos; k += 4) {\n            if (transferMapRed) {\n              dest[k + 0] = transferMapRed[dest[k + 0]];\n            }\n            if (transferMapGreen) {\n              dest[k + 1] = transferMapGreen[dest[k + 1]];\n            }\n            if (transferMapBlue) {\n              dest[k + 2] = transferMapBlue[dest[k + 2]];\n            }\n          }\n        }\n\n        ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n      }\n    } else {\n      throw new Error(`bad image kind: ${imgData.kind}`);\n    }\n  }\n\n  function putBinaryImageMask(ctx, imgData) {\n    const height = imgData.height,\n      width = imgData.width;\n    const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n    const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n    const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n    const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n    let srcPos = 0;\n    const src = imgData.data;\n    const dest = chunkImgData.data;\n\n    for (let i = 0; i < totalChunks; i++) {\n      const thisChunkHeight =\n        i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n\n      // Expand the mask so it can be used by the canvas.  Any required\n      // inversion has already been handled.\n      let destPos = 3; // alpha component offset\n      for (let j = 0; j < thisChunkHeight; j++) {\n        let elem,\n          mask = 0;\n        for (let k = 0; k < width; k++) {\n          if (!mask) {\n            elem = src[srcPos++];\n            mask = 128;\n          }\n          dest[destPos] = elem & mask ? 0 : 255;\n          destPos += 4;\n          mask >>= 1;\n        }\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  }\n\n  function copyCtxState(sourceCtx, destCtx) {\n    const properties = [\n      \"strokeStyle\",\n      \"fillStyle\",\n      \"fillRule\",\n      \"globalAlpha\",\n      \"lineWidth\",\n      \"lineCap\",\n      \"lineJoin\",\n      \"miterLimit\",\n      \"globalCompositeOperation\",\n      \"font\",\n    ];\n    for (let i = 0, ii = properties.length; i < ii; i++) {\n      const property = properties[i];\n      if (sourceCtx[property] !== undefined) {\n        destCtx[property] = sourceCtx[property];\n      }\n    }\n    if (sourceCtx.setLineDash !== undefined) {\n      destCtx.setLineDash(sourceCtx.getLineDash());\n      destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n    }\n  }\n\n  function resetCtxToDefault(ctx) {\n    ctx.strokeStyle = \"#000000\";\n    ctx.fillStyle = \"#000000\";\n    ctx.fillRule = \"nonzero\";\n    ctx.globalAlpha = 1;\n    ctx.lineWidth = 1;\n    ctx.lineCap = \"butt\";\n    ctx.lineJoin = \"miter\";\n    ctx.miterLimit = 10;\n    ctx.globalCompositeOperation = \"source-over\";\n    ctx.font = \"10px sans-serif\";\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash([]);\n      ctx.lineDashOffset = 0;\n    }\n  }\n\n  function composeSMaskBackdrop(bytes, r0, g0, b0) {\n    const length = bytes.length;\n    for (let i = 3; i < length; i += 4) {\n      const alpha = bytes[i];\n      if (alpha === 0) {\n        bytes[i - 3] = r0;\n        bytes[i - 2] = g0;\n        bytes[i - 1] = b0;\n      } else if (alpha < 255) {\n        const alpha_ = 255 - alpha;\n        bytes[i - 3] = (bytes[i - 3] * alpha + r0 * alpha_) >> 8;\n        bytes[i - 2] = (bytes[i - 2] * alpha + g0 * alpha_) >> 8;\n        bytes[i - 1] = (bytes[i - 1] * alpha + b0 * alpha_) >> 8;\n      }\n    }\n  }\n\n  function composeSMaskAlpha(maskData, layerData, transferMap) {\n    const length = maskData.length;\n    const scale = 1 / 255;\n    for (let i = 3; i < length; i += 4) {\n      const alpha = transferMap ? transferMap[maskData[i]] : maskData[i];\n      layerData[i] = (layerData[i] * alpha * scale) | 0;\n    }\n  }\n\n  function composeSMaskLuminosity(maskData, layerData, transferMap) {\n    const length = maskData.length;\n    for (let i = 3; i < length; i += 4) {\n      const y =\n        maskData[i - 3] * 77 + // * 0.3 / 255 * 0x10000\n        maskData[i - 2] * 152 + // * 0.59 ....\n        maskData[i - 1] * 28; // * 0.11 ....\n      layerData[i] = transferMap\n        ? (layerData[i] * transferMap[y >> 8]) >> 8\n        : (layerData[i] * y) >> 16;\n    }\n  }\n\n  function genericComposeSMask(\n    maskCtx,\n    layerCtx,\n    width,\n    height,\n    subtype,\n    backdrop,\n    transferMap\n  ) {\n    const hasBackdrop = !!backdrop;\n    const r0 = hasBackdrop ? backdrop[0] : 0;\n    const g0 = hasBackdrop ? backdrop[1] : 0;\n    const b0 = hasBackdrop ? backdrop[2] : 0;\n\n    let composeFn;\n    if (subtype === \"Luminosity\") {\n      composeFn = composeSMaskLuminosity;\n    } else {\n      composeFn = composeSMaskAlpha;\n    }\n\n    // processing image in chunks to save memory\n    const PIXELS_TO_PROCESS = 1048576;\n    const chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n    for (let row = 0; row < height; row += chunkSize) {\n      const chunkHeight = Math.min(chunkSize, height - row);\n      const maskData = maskCtx.getImageData(0, row, width, chunkHeight);\n      const layerData = layerCtx.getImageData(0, row, width, chunkHeight);\n\n      if (hasBackdrop) {\n        composeSMaskBackdrop(maskData.data, r0, g0, b0);\n      }\n      composeFn(maskData.data, layerData.data, transferMap);\n\n      maskCtx.putImageData(layerData, 0, row);\n    }\n  }\n\n  function composeSMask(ctx, smask, layerCtx, webGLContext) {\n    const mask = smask.canvas;\n    const maskCtx = smask.context;\n\n    ctx.setTransform(\n      smask.scaleX,\n      0,\n      0,\n      smask.scaleY,\n      smask.offsetX,\n      smask.offsetY\n    );\n\n    const backdrop = smask.backdrop || null;\n    if (!smask.transferMap && webGLContext.isEnabled) {\n      const composed = webGLContext.composeSMask({\n        layer: layerCtx.canvas,\n        mask,\n        properties: {\n          subtype: smask.subtype,\n          backdrop,\n        },\n      });\n      ctx.setTransform(1, 0, 0, 1, 0, 0);\n      ctx.drawImage(composed, smask.offsetX, smask.offsetY);\n      return;\n    }\n    genericComposeSMask(\n      maskCtx,\n      layerCtx,\n      mask.width,\n      mask.height,\n      smask.subtype,\n      backdrop,\n      smask.transferMap\n    );\n    ctx.drawImage(mask, 0, 0);\n  }\n\n  const LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\n  const LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\n  const NORMAL_CLIP = {};\n  const EO_CLIP = {};\n\n  CanvasGraphics.prototype = {\n    beginDrawing({\n      transform,\n      viewport,\n      transparency = false,\n      background = null,\n    }) {\n      // For pdfs that use blend modes we have to clear the canvas else certain\n      // blend modes can look wrong since we'd be blending with a white\n      // backdrop. The problem with a transparent backdrop though is we then\n      // don't get sub pixel anti aliasing on text, creating temporary\n      // transparent canvas when we have blend modes.\n      const width = this.ctx.canvas.width;\n      const height = this.ctx.canvas.height;\n\n      this.ctx.save();\n      this.ctx.fillStyle = background || \"rgb(255, 255, 255)\";\n      this.ctx.fillRect(0, 0, width, height);\n      this.ctx.restore();\n\n      if (transparency) {\n        const transparentCanvas = this.cachedCanvases.getCanvas(\n          \"transparent\",\n          width,\n          height,\n          true\n        );\n        this.compositeCtx = this.ctx;\n        this.transparentCanvas = transparentCanvas.canvas;\n        this.ctx = transparentCanvas.context;\n        this.ctx.save();\n        // The transform can be applied before rendering, transferring it to\n        // the new canvas.\n        this.ctx.transform.apply(\n          this.ctx,\n          this.compositeCtx.mozCurrentTransform\n        );\n      }\n\n      this.ctx.save();\n      resetCtxToDefault(this.ctx);\n      if (transform) {\n        this.ctx.transform.apply(this.ctx, transform);\n      }\n      this.ctx.transform.apply(this.ctx, viewport.transform);\n\n      this.baseTransform = this.ctx.mozCurrentTransform.slice();\n      this._combinedScaleFactor = Math.hypot(\n        this.baseTransform[0],\n        this.baseTransform[2]\n      );\n\n      if (this.imageLayer) {\n        this.imageLayer.beginLayout();\n      }\n    },\n\n    executeOperatorList: function CanvasGraphics_executeOperatorList(\n      operatorList,\n      executionStartIdx,\n      continueCallback,\n      stepper\n    ) {\n      const argsArray = operatorList.argsArray;\n      const fnArray = operatorList.fnArray;\n      let i = executionStartIdx || 0;\n      const argsArrayLen = argsArray.length;\n\n      // Sometimes the OperatorList to execute is empty.\n      if (argsArrayLen === i) {\n        return i;\n      }\n\n      const chunkOperations =\n        argsArrayLen - i > EXECUTION_STEPS &&\n        typeof continueCallback === \"function\";\n      const endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n      let steps = 0;\n\n      const commonObjs = this.commonObjs;\n      const objs = this.objs;\n      let fnId;\n\n      while (true) {\n        if (stepper !== undefined && i === stepper.nextBreakPoint) {\n          stepper.breakIt(i, continueCallback);\n          return i;\n        }\n\n        fnId = fnArray[i];\n\n        if (fnId !== OPS.dependency) {\n          this[fnId].apply(this, argsArray[i]);\n        } else {\n          for (const depObjId of argsArray[i]) {\n            const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n\n            // If the promise isn't resolved yet, add the continueCallback\n            // to the promise and bail out.\n            if (!objsPool.has(depObjId)) {\n              objsPool.get(depObjId, continueCallback);\n              return i;\n            }\n          }\n        }\n\n        i++;\n\n        // If the entire operatorList was executed, stop as were done.\n        if (i === argsArrayLen) {\n          return i;\n        }\n\n        // If the execution took longer then a certain amount of time and\n        // `continueCallback` is specified, interrupt the execution.\n        if (chunkOperations && ++steps > EXECUTION_STEPS) {\n          if (Date.now() > endTime) {\n            continueCallback();\n            return i;\n          }\n          steps = 0;\n        }\n\n        // If the operatorList isn't executed completely yet OR the execution\n        // time was short enough, do another execution round.\n      }\n    },\n\n    endDrawing: function CanvasGraphics_endDrawing() {\n      // Finishing all opened operations such as SMask group painting.\n      while (this.stateStack.length || this.current.activeSMask !== null) {\n        this.restore();\n      }\n\n      this.ctx.restore();\n\n      if (this.transparentCanvas) {\n        this.ctx = this.compositeCtx;\n        this.ctx.save();\n        this.ctx.setTransform(1, 0, 0, 1, 0, 0); // Avoid apply transform twice\n        this.ctx.drawImage(this.transparentCanvas, 0, 0);\n        this.ctx.restore();\n        this.transparentCanvas = null;\n      }\n\n      this.cachedCanvases.clear();\n      this.webGLContext.clear();\n\n      if (this.imageLayer) {\n        this.imageLayer.endLayout();\n      }\n    },\n\n    // Graphics state\n    setLineWidth: function CanvasGraphics_setLineWidth(width) {\n      this.current.lineWidth = width;\n      this.ctx.lineWidth = width;\n    },\n    setLineCap: function CanvasGraphics_setLineCap(style) {\n      this.ctx.lineCap = LINE_CAP_STYLES[style];\n    },\n    setLineJoin: function CanvasGraphics_setLineJoin(style) {\n      this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n    },\n    setMiterLimit: function CanvasGraphics_setMiterLimit(limit) {\n      this.ctx.miterLimit = limit;\n    },\n    setDash: function CanvasGraphics_setDash(dashArray, dashPhase) {\n      const ctx = this.ctx;\n      if (ctx.setLineDash !== undefined) {\n        ctx.setLineDash(dashArray);\n        ctx.lineDashOffset = dashPhase;\n      }\n    },\n    setRenderingIntent(intent) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    },\n    setFlatness(flatness) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    },\n    setGState: function CanvasGraphics_setGState(states) {\n      for (let i = 0, ii = states.length; i < ii; i++) {\n        const state = states[i];\n        const key = state[0];\n        const value = state[1];\n\n        switch (key) {\n          case \"LW\":\n            this.setLineWidth(value);\n            break;\n          case \"LC\":\n            this.setLineCap(value);\n            break;\n          case \"LJ\":\n            this.setLineJoin(value);\n            break;\n          case \"ML\":\n            this.setMiterLimit(value);\n            break;\n          case \"D\":\n            this.setDash(value[0], value[1]);\n            break;\n          case \"RI\":\n            this.setRenderingIntent(value);\n            break;\n          case \"FL\":\n            this.setFlatness(value);\n            break;\n          case \"Font\":\n            this.setFont(value[0], value[1]);\n            break;\n          case \"CA\":\n            this.current.strokeAlpha = state[1];\n            break;\n          case \"ca\":\n            this.current.fillAlpha = state[1];\n            this.ctx.globalAlpha = state[1];\n            break;\n          case \"BM\":\n            this.ctx.globalCompositeOperation = value;\n            break;\n          case \"SMask\":\n            if (this.current.activeSMask) {\n              // If SMask is currrenly used, it needs to be suspended or\n              // finished. Suspend only makes sense when at least one save()\n              // was performed and state needs to be reverted on restore().\n              if (\n                this.stateStack.length > 0 &&\n                this.stateStack[this.stateStack.length - 1].activeSMask ===\n                  this.current.activeSMask\n              ) {\n                this.suspendSMaskGroup();\n              } else {\n                this.endSMaskGroup();\n              }\n            }\n            this.current.activeSMask = value ? this.tempSMask : null;\n            if (this.current.activeSMask) {\n              this.beginSMaskGroup();\n            }\n            this.tempSMask = null;\n            break;\n          case \"TR\":\n            this.current.transferMaps = value;\n        }\n      }\n    },\n    beginSMaskGroup: function CanvasGraphics_beginSMaskGroup() {\n      const activeSMask = this.current.activeSMask;\n      const drawnWidth = activeSMask.canvas.width;\n      const drawnHeight = activeSMask.canvas.height;\n      const cacheId = \"smaskGroupAt\" + this.groupLevel;\n      const scratchCanvas = this.cachedCanvases.getCanvas(\n        cacheId,\n        drawnWidth,\n        drawnHeight,\n        true\n      );\n\n      const currentCtx = this.ctx;\n      const currentTransform = currentCtx.mozCurrentTransform;\n      this.ctx.save();\n\n      const groupCtx = scratchCanvas.context;\n      groupCtx.scale(1 / activeSMask.scaleX, 1 / activeSMask.scaleY);\n      groupCtx.translate(-activeSMask.offsetX, -activeSMask.offsetY);\n      groupCtx.transform.apply(groupCtx, currentTransform);\n\n      activeSMask.startTransformInverse = groupCtx.mozCurrentTransformInverse;\n\n      copyCtxState(currentCtx, groupCtx);\n      this.ctx = groupCtx;\n      this.setGState([\n        [\"BM\", \"source-over\"],\n        [\"ca\", 1],\n        [\"CA\", 1],\n      ]);\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n    },\n    suspendSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      // Similar to endSMaskGroup, the intermediate canvas has to be composed\n      // and future ctx state restored.\n      const groupCtx = this.ctx;\n      this.groupLevel--;\n      this.ctx = this.groupStack.pop();\n\n      composeSMask(\n        this.ctx,\n        this.current.activeSMask,\n        groupCtx,\n        this.webGLContext\n      );\n      this.ctx.restore();\n      this.ctx.save(); // save is needed since SMask will be resumed.\n      copyCtxState(groupCtx, this.ctx);\n\n      // Saving state for resuming.\n      this.current.resumeSMaskCtx = groupCtx;\n      // Transform was changed in the SMask canvas, reflecting this change on\n      // this.ctx.\n      const deltaTransform = Util.transform(\n        this.current.activeSMask.startTransformInverse,\n        groupCtx.mozCurrentTransform\n      );\n      this.ctx.transform.apply(this.ctx, deltaTransform);\n\n      // SMask was composed, the results at the groupCtx can be cleared.\n      groupCtx.save();\n      groupCtx.setTransform(1, 0, 0, 1, 0, 0);\n      groupCtx.clearRect(0, 0, groupCtx.canvas.width, groupCtx.canvas.height);\n      groupCtx.restore();\n    },\n    resumeSMaskGroup: function CanvasGraphics_resumeSMaskGroup() {\n      // Resuming state saved by suspendSMaskGroup. We don't need to restore\n      // any groupCtx state since restore() command (the only caller) will do\n      // that for us. See also beginSMaskGroup.\n      const groupCtx = this.current.resumeSMaskCtx;\n      const currentCtx = this.ctx;\n      this.ctx = groupCtx;\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n    },\n    endSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      const groupCtx = this.ctx;\n      this.groupLevel--;\n      this.ctx = this.groupStack.pop();\n\n      composeSMask(\n        this.ctx,\n        this.current.activeSMask,\n        groupCtx,\n        this.webGLContext\n      );\n      this.ctx.restore();\n      copyCtxState(groupCtx, this.ctx);\n      // Transform was changed in the SMask canvas, reflecting this change on\n      // this.ctx.\n      const deltaTransform = Util.transform(\n        this.current.activeSMask.startTransformInverse,\n        groupCtx.mozCurrentTransform\n      );\n      this.ctx.transform.apply(this.ctx, deltaTransform);\n    },\n    save: function CanvasGraphics_save() {\n      this.ctx.save();\n      const old = this.current;\n      this.stateStack.push(old);\n      this.current = old.clone();\n      this.current.resumeSMaskCtx = null;\n    },\n    restore: function CanvasGraphics_restore() {\n      // SMask was suspended, we just need to resume it.\n      if (this.current.resumeSMaskCtx) {\n        this.resumeSMaskGroup();\n      }\n      // SMask has to be finished once there is no states that are using the\n      // same SMask.\n      if (\n        this.current.activeSMask !== null &&\n        (this.stateStack.length === 0 ||\n          this.stateStack[this.stateStack.length - 1].activeSMask !==\n            this.current.activeSMask)\n      ) {\n        this.endSMaskGroup();\n      }\n\n      if (this.stateStack.length !== 0) {\n        this.current = this.stateStack.pop();\n        this.ctx.restore();\n\n        // Ensure that the clipping path is reset (fixes issue6413.pdf).\n        this.pendingClip = null;\n\n        this._cachedGetSinglePixelWidth = null;\n      } else {\n        // We've finished all the SMask groups, reflect that in our state.\n        this.current.activeSMask = null;\n      }\n    },\n    transform: function CanvasGraphics_transform(a, b, c, d, e, f) {\n      this.ctx.transform(a, b, c, d, e, f);\n\n      this._cachedGetSinglePixelWidth = null;\n    },\n\n    // Path\n    constructPath: function CanvasGraphics_constructPath(ops, args) {\n      const ctx = this.ctx;\n      const current = this.current;\n      let x = current.x,\n        y = current.y;\n      for (let i = 0, j = 0, ii = ops.length; i < ii; i++) {\n        switch (ops[i] | 0) {\n          case OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            const width = args[j++];\n            const height = args[j++];\n\n            const xw = x + width;\n            const yh = y + height;\n            ctx.moveTo(x, y);\n            if (width === 0 || height === 0) {\n              ctx.lineTo(xw, yh);\n            } else {\n              ctx.lineTo(xw, y);\n              ctx.lineTo(xw, yh);\n              ctx.lineTo(x, yh);\n            }\n\n            ctx.closePath();\n            break;\n          case OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            ctx.moveTo(x, y);\n            break;\n          case OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            ctx.lineTo(x, y);\n            break;\n          case OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            ctx.bezierCurveTo(\n              args[j],\n              args[j + 1],\n              args[j + 2],\n              args[j + 3],\n              x,\n              y\n            );\n            j += 6;\n            break;\n          case OPS.curveTo2:\n            ctx.bezierCurveTo(\n              x,\n              y,\n              args[j],\n              args[j + 1],\n              args[j + 2],\n              args[j + 3]\n            );\n            x = args[j + 2];\n            y = args[j + 3];\n            j += 4;\n            break;\n          case OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n            j += 4;\n            break;\n          case OPS.closePath:\n            ctx.closePath();\n            break;\n        }\n      }\n      current.setCurrentPoint(x, y);\n    },\n    closePath: function CanvasGraphics_closePath() {\n      this.ctx.closePath();\n    },\n    stroke: function CanvasGraphics_stroke(consumePath) {\n      consumePath = typeof consumePath !== \"undefined\" ? consumePath : true;\n      const ctx = this.ctx;\n      const strokeColor = this.current.strokeColor;\n      // For stroke we want to temporarily change the global alpha to the\n      // stroking alpha.\n      ctx.globalAlpha = this.current.strokeAlpha;\n      if (this.contentVisible) {\n        if (typeof strokeColor === \"object\" && strokeColor?.getPattern) {\n          // for patterns, we transform to pattern space, calculate\n          // the pattern, call stroke, and restore to user space\n          ctx.save();\n          // The current transform will be replaced while building the pattern,\n          // but the line width needs to be adjusted by the current transform,\n          // so we must scale it. To properly fix this we should be using a\n          // pattern transform instead (see #10955).\n          const transform = ctx.mozCurrentTransform;\n          const scale = Util.singularValueDecompose2dScale(transform)[0];\n          ctx.strokeStyle = strokeColor.getPattern(ctx, this);\n          const lineWidth = this.getSinglePixelWidth();\n          const scaledLineWidth = this.current.lineWidth * scale;\n          if (lineWidth < 0 && -lineWidth >= scaledLineWidth) {\n            ctx.resetTransform();\n            ctx.lineWidth = Math.round(this._combinedScaleFactor);\n          } else {\n            ctx.lineWidth = Math.max(lineWidth, scaledLineWidth);\n          }\n          ctx.stroke();\n          ctx.restore();\n        } else {\n          const lineWidth = this.getSinglePixelWidth();\n          if (lineWidth < 0 && -lineWidth >= this.current.lineWidth) {\n            // The current transform will transform a square pixel into a\n            // parallelogram where both heights are lower than 1 and not equal.\n            ctx.save();\n            ctx.resetTransform();\n            ctx.lineWidth = Math.round(this._combinedScaleFactor);\n            ctx.stroke();\n            ctx.restore();\n          } else {\n            // Prevent drawing too thin lines by enforcing a minimum line width.\n            ctx.lineWidth = Math.max(lineWidth, this.current.lineWidth);\n            ctx.stroke();\n          }\n        }\n      }\n      if (consumePath) {\n        this.consumePath();\n      }\n      // Restore the global alpha to the fill alpha\n      ctx.globalAlpha = this.current.fillAlpha;\n    },\n    closeStroke: function CanvasGraphics_closeStroke() {\n      this.closePath();\n      this.stroke();\n    },\n    fill: function CanvasGraphics_fill(consumePath) {\n      consumePath = typeof consumePath !== \"undefined\" ? consumePath : true;\n      const ctx = this.ctx;\n      const fillColor = this.current.fillColor;\n      const isPatternFill = this.current.patternFill;\n      let needRestore = false;\n\n      if (isPatternFill) {\n        ctx.save();\n        if (this.baseTransform) {\n          ctx.setTransform.apply(ctx, this.baseTransform);\n        }\n        ctx.fillStyle = fillColor.getPattern(ctx, this);\n        needRestore = true;\n      }\n\n      if (this.contentVisible) {\n        if (this.pendingEOFill) {\n          ctx.fill(\"evenodd\");\n          this.pendingEOFill = false;\n        } else {\n          ctx.fill();\n        }\n      }\n\n      if (needRestore) {\n        ctx.restore();\n      }\n      if (consumePath) {\n        this.consumePath();\n      }\n    },\n    eoFill: function CanvasGraphics_eoFill() {\n      this.pendingEOFill = true;\n      this.fill();\n    },\n    fillStroke: function CanvasGraphics_fillStroke() {\n      this.fill(false);\n      this.stroke(false);\n\n      this.consumePath();\n    },\n    eoFillStroke: function CanvasGraphics_eoFillStroke() {\n      this.pendingEOFill = true;\n      this.fillStroke();\n    },\n    closeFillStroke: function CanvasGraphics_closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    },\n    closeEOFillStroke: function CanvasGraphics_closeEOFillStroke() {\n      this.pendingEOFill = true;\n      this.closePath();\n      this.fillStroke();\n    },\n    endPath: function CanvasGraphics_endPath() {\n      this.consumePath();\n    },\n\n    // Clipping\n    clip: function CanvasGraphics_clip() {\n      this.pendingClip = NORMAL_CLIP;\n    },\n    eoClip: function CanvasGraphics_eoClip() {\n      this.pendingClip = EO_CLIP;\n    },\n\n    // Text\n    beginText: function CanvasGraphics_beginText() {\n      this.current.textMatrix = IDENTITY_MATRIX;\n      this.current.textMatrixScale = 1;\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n    },\n    endText: function CanvasGraphics_endText() {\n      const paths = this.pendingTextPaths;\n      const ctx = this.ctx;\n      if (paths === undefined) {\n        ctx.beginPath();\n        return;\n      }\n\n      ctx.save();\n      ctx.beginPath();\n      for (let i = 0; i < paths.length; i++) {\n        const path = paths[i];\n        ctx.setTransform.apply(ctx, path.transform);\n        ctx.translate(path.x, path.y);\n        path.addToPath(ctx, path.fontSize);\n      }\n      ctx.restore();\n      ctx.clip();\n      ctx.beginPath();\n      delete this.pendingTextPaths;\n    },\n    setCharSpacing: function CanvasGraphics_setCharSpacing(spacing) {\n      this.current.charSpacing = spacing;\n    },\n    setWordSpacing: function CanvasGraphics_setWordSpacing(spacing) {\n      this.current.wordSpacing = spacing;\n    },\n    setHScale: function CanvasGraphics_setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    },\n    setLeading: function CanvasGraphics_setLeading(leading) {\n      this.current.leading = -leading;\n    },\n    setFont: function CanvasGraphics_setFont(fontRefName, size) {\n      const fontObj = this.commonObjs.get(fontRefName);\n      const current = this.current;\n\n      if (!fontObj) {\n        throw new Error(`Can't find font for ${fontRefName}`);\n      }\n      current.fontMatrix = fontObj.fontMatrix || FONT_IDENTITY_MATRIX;\n\n      // A valid matrix needs all main diagonal elements to be non-zero\n      // This also ensures we bypass FF bugzilla bug #719844.\n      if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n        warn(\"Invalid font matrix for font \" + fontRefName);\n      }\n\n      // The spec for Tf (setFont) says that 'size' specifies the font 'scale',\n      // and in some docs this can be negative (inverted x-y axes).\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n\n      this.current.font = fontObj;\n      this.current.fontSize = size;\n\n      if (fontObj.isType3Font) {\n        return; // we don't need ctx.font for Type3 fonts\n      }\n\n      const name = fontObj.loadedName || \"sans-serif\";\n\n      let bold = \"normal\";\n      if (fontObj.black) {\n        bold = \"900\";\n      } else if (fontObj.bold) {\n        bold = \"bold\";\n      }\n      const italic = fontObj.italic ? \"italic\" : \"normal\";\n      const typeface = `\"${name}\", ${fontObj.fallbackName}`;\n\n      // Some font backends cannot handle fonts below certain size.\n      // Keeping the font at minimal size and using the fontSizeScale to change\n      // the current transformation matrix before the fillText/strokeText.\n      // See https://bugzilla.mozilla.org/show_bug.cgi?id=726227\n      let browserFontSize = size;\n      if (size < MIN_FONT_SIZE) {\n        browserFontSize = MIN_FONT_SIZE;\n      } else if (size > MAX_FONT_SIZE) {\n        browserFontSize = MAX_FONT_SIZE;\n      }\n      this.current.fontSizeScale = size / browserFontSize;\n\n      this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n    },\n    setTextRenderingMode: function CanvasGraphics_setTextRenderingMode(mode) {\n      this.current.textRenderingMode = mode;\n    },\n    setTextRise: function CanvasGraphics_setTextRise(rise) {\n      this.current.textRise = rise;\n    },\n    moveText: function CanvasGraphics_moveText(x, y) {\n      this.current.x = this.current.lineX += x;\n      this.current.y = this.current.lineY += y;\n    },\n    setLeadingMoveText: function CanvasGraphics_setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    },\n    setTextMatrix: function CanvasGraphics_setTextMatrix(a, b, c, d, e, f) {\n      this.current.textMatrix = [a, b, c, d, e, f];\n      this.current.textMatrixScale = Math.sqrt(a * a + b * b);\n\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n    },\n    nextLine: function CanvasGraphics_nextLine() {\n      this.moveText(0, this.current.leading);\n    },\n\n    paintChar(character, x, y, patternTransform, resetLineWidthToOne) {\n      const ctx = this.ctx;\n      const current = this.current;\n      const font = current.font;\n      const textRenderingMode = current.textRenderingMode;\n      const fontSize = current.fontSize / current.fontSizeScale;\n      const fillStrokeMode =\n        textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n      const isAddToPathSet = !!(\n        textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG\n      );\n      const patternFill = current.patternFill && !font.missingFile;\n\n      let addToPath;\n      if (font.disableFontFace || isAddToPathSet || patternFill) {\n        addToPath = font.getPathGenerator(this.commonObjs, character);\n      }\n\n      if (font.disableFontFace || patternFill) {\n        ctx.save();\n        ctx.translate(x, y);\n        ctx.beginPath();\n        addToPath(ctx, fontSize);\n        if (patternTransform) {\n          ctx.setTransform.apply(ctx, patternTransform);\n        }\n        if (\n          fillStrokeMode === TextRenderingMode.FILL ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          ctx.fill();\n        }\n        if (\n          fillStrokeMode === TextRenderingMode.STROKE ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          if (resetLineWidthToOne) {\n            ctx.resetTransform();\n            ctx.lineWidth = Math.round(this._combinedScaleFactor);\n          }\n          ctx.stroke();\n        }\n        ctx.restore();\n      } else {\n        if (\n          fillStrokeMode === TextRenderingMode.FILL ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          ctx.fillText(character, x, y);\n        }\n        if (\n          fillStrokeMode === TextRenderingMode.STROKE ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          if (resetLineWidthToOne) {\n            ctx.save();\n            ctx.moveTo(x, y);\n            ctx.resetTransform();\n            ctx.lineWidth = Math.round(this._combinedScaleFactor);\n            ctx.strokeText(character, 0, 0);\n            ctx.restore();\n          } else {\n            ctx.strokeText(character, x, y);\n          }\n        }\n      }\n\n      if (isAddToPathSet) {\n        const paths = this.pendingTextPaths || (this.pendingTextPaths = []);\n        paths.push({\n          transform: ctx.mozCurrentTransform,\n          x,\n          y,\n          fontSize,\n          addToPath,\n        });\n      }\n    },\n\n    get isFontSubpixelAAEnabled() {\n      // Checks if anti-aliasing is enabled when scaled text is painted.\n      // On Windows GDI scaled fonts looks bad.\n      const { context: ctx } = this.cachedCanvases.getCanvas(\n        \"isFontSubpixelAAEnabled\",\n        10,\n        10\n      );\n      ctx.scale(1.5, 1);\n      ctx.fillText(\"I\", 0, 10);\n      const data = ctx.getImageData(0, 0, 10, 10).data;\n      let enabled = false;\n      for (let i = 3; i < data.length; i += 4) {\n        if (data[i] > 0 && data[i] < 255) {\n          enabled = true;\n          break;\n        }\n      }\n      return shadow(this, \"isFontSubpixelAAEnabled\", enabled);\n    },\n\n    showText: function CanvasGraphics_showText(glyphs) {\n      const current = this.current;\n      const font = current.font;\n      if (font.isType3Font) {\n        return this.showType3Text(glyphs);\n      }\n\n      const fontSize = current.fontSize;\n      if (fontSize === 0) {\n        return undefined;\n      }\n\n      const ctx = this.ctx;\n      const fontSizeScale = current.fontSizeScale;\n      const charSpacing = current.charSpacing;\n      const wordSpacing = current.wordSpacing;\n      const fontDirection = current.fontDirection;\n      const textHScale = current.textHScale * fontDirection;\n      const glyphsLength = glyphs.length;\n      const vertical = font.vertical;\n      const spacingDir = vertical ? 1 : -1;\n      const defaultVMetrics = font.defaultVMetrics;\n      const widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n      const simpleFillText =\n        current.textRenderingMode === TextRenderingMode.FILL &&\n        !font.disableFontFace &&\n        !current.patternFill;\n\n      ctx.save();\n      let patternTransform;\n      if (current.patternFill) {\n        // TODO: Patterns are not applied correctly to text if a non-embedded\n        // font is used. E.g. issue 8111 and ShowText-ShadingPattern.pdf.\n        ctx.save();\n        const pattern = current.fillColor.getPattern(ctx, this);\n        patternTransform = ctx.mozCurrentTransform;\n        ctx.restore();\n        ctx.fillStyle = pattern;\n      }\n      ctx.transform.apply(ctx, current.textMatrix);\n      ctx.translate(current.x, current.y + current.textRise);\n\n      if (fontDirection > 0) {\n        ctx.scale(textHScale, -1);\n      } else {\n        ctx.scale(textHScale, 1);\n      }\n\n      let lineWidth = current.lineWidth;\n      let resetLineWidthToOne = false;\n      const scale = current.textMatrixScale;\n      if (scale === 0 || lineWidth === 0) {\n        const fillStrokeMode =\n          current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n        if (\n          fillStrokeMode === TextRenderingMode.STROKE ||\n          fillStrokeMode === TextRenderingMode.FILL_STROKE\n        ) {\n          this._cachedGetSinglePixelWidth = null;\n          lineWidth = this.getSinglePixelWidth();\n          resetLineWidthToOne = lineWidth < 0;\n        }\n      } else {\n        lineWidth /= scale;\n      }\n\n      if (fontSizeScale !== 1.0) {\n        ctx.scale(fontSizeScale, fontSizeScale);\n        lineWidth /= fontSizeScale;\n      }\n\n      ctx.lineWidth = lineWidth;\n\n      let x = 0,\n        i;\n      for (i = 0; i < glyphsLength; ++i) {\n        const glyph = glyphs[i];\n        if (isNum(glyph)) {\n          x += (spacingDir * glyph * fontSize) / 1000;\n          continue;\n        }\n\n        let restoreNeeded = false;\n        const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        const character = glyph.fontChar;\n        const accent = glyph.accent;\n        let scaledX, scaledY;\n        let width = glyph.width;\n        if (vertical) {\n          const vmetric = glyph.vmetric || defaultVMetrics;\n          const vx =\n            -(glyph.vmetric ? vmetric[1] : width * 0.5) * widthAdvanceScale;\n          const vy = vmetric[2] * widthAdvanceScale;\n\n          width = vmetric ? -vmetric[0] : width;\n          scaledX = vx / fontSizeScale;\n          scaledY = (x + vy) / fontSizeScale;\n        } else {\n          scaledX = x / fontSizeScale;\n          scaledY = 0;\n        }\n\n        if (font.remeasure && width > 0) {\n          // Some standard fonts may not have the exact width: rescale per\n          // character if measured width is greater than expected glyph width\n          // and subpixel-aa is enabled, otherwise just center the glyph.\n          const measuredWidth =\n            ((ctx.measureText(character).width * 1000) / fontSize) *\n            fontSizeScale;\n          if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n            const characterScaleX = width / measuredWidth;\n            restoreNeeded = true;\n            ctx.save();\n            ctx.scale(characterScaleX, 1);\n            scaledX /= characterScaleX;\n          } else if (width !== measuredWidth) {\n            scaledX +=\n              (((width - measuredWidth) / 2000) * fontSize) / fontSizeScale;\n          }\n        }\n\n        // Only attempt to draw the glyph if it is actually in the embedded font\n        // file or if there isn't a font file so the fallback font is shown.\n        if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n          if (simpleFillText && !accent) {\n            // common case\n            ctx.fillText(character, scaledX, scaledY);\n          } else {\n            this.paintChar(\n              character,\n              scaledX,\n              scaledY,\n              patternTransform,\n              resetLineWidthToOne\n            );\n            if (accent) {\n              const scaledAccentX =\n                scaledX + (fontSize * accent.offset.x) / fontSizeScale;\n              const scaledAccentY =\n                scaledY - (fontSize * accent.offset.y) / fontSizeScale;\n              this.paintChar(\n                accent.fontChar,\n                scaledAccentX,\n                scaledAccentY,\n                patternTransform,\n                resetLineWidthToOne\n              );\n            }\n          }\n        }\n\n        let charWidth;\n        if (vertical) {\n          charWidth = width * widthAdvanceScale - spacing * fontDirection;\n        } else {\n          charWidth = width * widthAdvanceScale + spacing * fontDirection;\n        }\n        x += charWidth;\n\n        if (restoreNeeded) {\n          ctx.restore();\n        }\n      }\n      if (vertical) {\n        current.y -= x;\n      } else {\n        current.x += x * textHScale;\n      }\n      ctx.restore();\n    },\n\n    showType3Text: function CanvasGraphics_showType3Text(glyphs) {\n      // Type3 fonts - each glyph is a \"mini-PDF\"\n      const ctx = this.ctx;\n      const current = this.current;\n      const font = current.font;\n      const fontSize = current.fontSize;\n      const fontDirection = current.fontDirection;\n      const spacingDir = font.vertical ? 1 : -1;\n      const charSpacing = current.charSpacing;\n      const wordSpacing = current.wordSpacing;\n      const textHScale = current.textHScale * fontDirection;\n      const fontMatrix = current.fontMatrix || FONT_IDENTITY_MATRIX;\n      const glyphsLength = glyphs.length;\n      const isTextInvisible =\n        current.textRenderingMode === TextRenderingMode.INVISIBLE;\n      let i, glyph, width, spacingLength;\n\n      if (isTextInvisible || fontSize === 0) {\n        return;\n      }\n      this._cachedGetSinglePixelWidth = null;\n\n      ctx.save();\n      ctx.transform.apply(ctx, current.textMatrix);\n      ctx.translate(current.x, current.y);\n\n      ctx.scale(textHScale, fontDirection);\n\n      for (i = 0; i < glyphsLength; ++i) {\n        glyph = glyphs[i];\n        if (isNum(glyph)) {\n          spacingLength = (spacingDir * glyph * fontSize) / 1000;\n          this.ctx.translate(spacingLength, 0);\n          current.x += spacingLength * textHScale;\n          continue;\n        }\n\n        const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        const operatorList = font.charProcOperatorList[glyph.operatorListId];\n        if (!operatorList) {\n          warn(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n          continue;\n        }\n        if (this.contentVisible) {\n          this.processingType3 = glyph;\n          this.save();\n          ctx.scale(fontSize, fontSize);\n          ctx.transform.apply(ctx, fontMatrix);\n          this.executeOperatorList(operatorList);\n          this.restore();\n        }\n\n        const transformed = Util.applyTransform([glyph.width, 0], fontMatrix);\n        width = transformed[0] * fontSize + spacing;\n\n        ctx.translate(width, 0);\n        current.x += width * textHScale;\n      }\n      ctx.restore();\n      this.processingType3 = null;\n    },\n\n    // Type3 fonts\n    setCharWidth: function CanvasGraphics_setCharWidth(xWidth, yWidth) {\n      // We can safely ignore this since the width should be the same\n      // as the width in the Widths array.\n    },\n    setCharWidthAndBounds: function CanvasGraphics_setCharWidthAndBounds(\n      xWidth,\n      yWidth,\n      llx,\n      lly,\n      urx,\n      ury\n    ) {\n      // TODO According to the spec we're also suppose to ignore any operators\n      // that set color or include images while processing this type3 font.\n      this.ctx.rect(llx, lly, urx - llx, ury - lly);\n      this.clip();\n      this.endPath();\n    },\n\n    // Color\n    getColorN_Pattern: function CanvasGraphics_getColorN_Pattern(IR) {\n      let pattern;\n      if (IR[0] === \"TilingPattern\") {\n        const color = IR[1];\n        const baseTransform =\n          this.baseTransform || this.ctx.mozCurrentTransform.slice();\n        const canvasGraphicsFactory = {\n          createCanvasGraphics: ctx => {\n            return new CanvasGraphics(\n              ctx,\n              this.commonObjs,\n              this.objs,\n              this.canvasFactory,\n              this.webGLContext\n            );\n          },\n        };\n        pattern = new TilingPattern(\n          IR,\n          color,\n          this.ctx,\n          canvasGraphicsFactory,\n          baseTransform\n        );\n      } else {\n        pattern = getShadingPatternFromIR(IR);\n      }\n      return pattern;\n    },\n    setStrokeColorN: function CanvasGraphics_setStrokeColorN() {\n      this.current.strokeColor = this.getColorN_Pattern(arguments);\n    },\n    setFillColorN: function CanvasGraphics_setFillColorN() {\n      this.current.fillColor = this.getColorN_Pattern(arguments);\n      this.current.patternFill = true;\n    },\n    setStrokeRGBColor: function CanvasGraphics_setStrokeRGBColor(r, g, b) {\n      const color = Util.makeHexColor(r, g, b);\n      this.ctx.strokeStyle = color;\n      this.current.strokeColor = color;\n    },\n    setFillRGBColor: function CanvasGraphics_setFillRGBColor(r, g, b) {\n      const color = Util.makeHexColor(r, g, b);\n      this.ctx.fillStyle = color;\n      this.current.fillColor = color;\n      this.current.patternFill = false;\n    },\n\n    shadingFill: function CanvasGraphics_shadingFill(patternIR) {\n      if (!this.contentVisible) {\n        return;\n      }\n      const ctx = this.ctx;\n\n      this.save();\n      const pattern = getShadingPatternFromIR(patternIR);\n      ctx.fillStyle = pattern.getPattern(ctx, this, true);\n\n      const inv = ctx.mozCurrentTransformInverse;\n      if (inv) {\n        const canvas = ctx.canvas;\n        const width = canvas.width;\n        const height = canvas.height;\n\n        const bl = Util.applyTransform([0, 0], inv);\n        const br = Util.applyTransform([0, height], inv);\n        const ul = Util.applyTransform([width, 0], inv);\n        const ur = Util.applyTransform([width, height], inv);\n\n        const x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n        const y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n        const x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n        const y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n\n        this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n      } else {\n        // HACK to draw the gradient onto an infinite rectangle.\n        // PDF gradients are drawn across the entire image while\n        // Canvas only allows gradients to be drawn in a rectangle\n        // The following bug should allow us to remove this.\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=664884\n\n        this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n      }\n\n      this.restore();\n    },\n\n    // Images\n    beginInlineImage: function CanvasGraphics_beginInlineImage() {\n      unreachable(\"Should not call beginInlineImage\");\n    },\n    beginImageData: function CanvasGraphics_beginImageData() {\n      unreachable(\"Should not call beginImageData\");\n    },\n\n    paintFormXObjectBegin: function CanvasGraphics_paintFormXObjectBegin(\n      matrix,\n      bbox\n    ) {\n      if (!this.contentVisible) {\n        return;\n      }\n      this.save();\n      this.baseTransformStack.push(this.baseTransform);\n\n      if (Array.isArray(matrix) && matrix.length === 6) {\n        this.transform.apply(this, matrix);\n      }\n\n      this.baseTransform = this.ctx.mozCurrentTransform;\n\n      if (bbox) {\n        const width = bbox[2] - bbox[0];\n        const height = bbox[3] - bbox[1];\n        this.ctx.rect(bbox[0], bbox[1], width, height);\n        this.clip();\n        this.endPath();\n      }\n    },\n\n    paintFormXObjectEnd: function CanvasGraphics_paintFormXObjectEnd() {\n      if (!this.contentVisible) {\n        return;\n      }\n      this.restore();\n      this.baseTransform = this.baseTransformStack.pop();\n    },\n\n    beginGroup: function CanvasGraphics_beginGroup(group) {\n      if (!this.contentVisible) {\n        return;\n      }\n\n      this.save();\n      const currentCtx = this.ctx;\n      // TODO non-isolated groups - according to Rik at adobe non-isolated\n      // group results aren't usually that different and they even have tools\n      // that ignore this setting. Notes from Rik on implementing:\n      // - When you encounter an transparency group, create a new canvas with\n      // the dimensions of the bbox\n      // - copy the content from the previous canvas to the new canvas\n      // - draw as usual\n      // - remove the backdrop alpha:\n      // alphaNew = 1 - (1 - alpha)/(1 - alphaBackdrop) with 'alpha' the alpha\n      // value of your transparency group and 'alphaBackdrop' the alpha of the\n      // backdrop\n      // - remove background color:\n      // colorNew = color - alphaNew *colorBackdrop /(1 - alphaNew)\n      if (!group.isolated) {\n        info(\"TODO: Support non-isolated groups.\");\n      }\n\n      // TODO knockout - supposedly possible with the clever use of compositing\n      // modes.\n      if (group.knockout) {\n        warn(\"Knockout groups not supported.\");\n      }\n\n      const currentTransform = currentCtx.mozCurrentTransform;\n      if (group.matrix) {\n        currentCtx.transform.apply(currentCtx, group.matrix);\n      }\n      if (!group.bbox) {\n        throw new Error(\"Bounding box is required.\");\n      }\n\n      // Based on the current transform figure out how big the bounding box\n      // will actually be.\n      let bounds = Util.getAxialAlignedBoundingBox(\n        group.bbox,\n        currentCtx.mozCurrentTransform\n      );\n      // Clip the bounding box to the current canvas.\n      const canvasBounds = [\n        0,\n        0,\n        currentCtx.canvas.width,\n        currentCtx.canvas.height,\n      ];\n      bounds = Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n      // Use ceil in case we're between sizes so we don't create canvas that is\n      // too small and make the canvas at least 1x1 pixels.\n      const offsetX = Math.floor(bounds[0]);\n      const offsetY = Math.floor(bounds[1]);\n      let drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n      let drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n      let scaleX = 1,\n        scaleY = 1;\n      if (drawnWidth > MAX_GROUP_SIZE) {\n        scaleX = drawnWidth / MAX_GROUP_SIZE;\n        drawnWidth = MAX_GROUP_SIZE;\n      }\n      if (drawnHeight > MAX_GROUP_SIZE) {\n        scaleY = drawnHeight / MAX_GROUP_SIZE;\n        drawnHeight = MAX_GROUP_SIZE;\n      }\n\n      let cacheId = \"groupAt\" + this.groupLevel;\n      if (group.smask) {\n        // Using two cache entries is case if masks are used one after another.\n        cacheId += \"_smask_\" + (this.smaskCounter++ % 2);\n      }\n      const scratchCanvas = this.cachedCanvases.getCanvas(\n        cacheId,\n        drawnWidth,\n        drawnHeight,\n        true\n      );\n      const groupCtx = scratchCanvas.context;\n\n      // Since we created a new canvas that is just the size of the bounding box\n      // we have to translate the group ctx.\n      groupCtx.scale(1 / scaleX, 1 / scaleY);\n      groupCtx.translate(-offsetX, -offsetY);\n      groupCtx.transform.apply(groupCtx, currentTransform);\n\n      if (group.smask) {\n        // Saving state and cached mask to be used in setGState.\n        this.smaskStack.push({\n          canvas: scratchCanvas.canvas,\n          context: groupCtx,\n          offsetX,\n          offsetY,\n          scaleX,\n          scaleY,\n          subtype: group.smask.subtype,\n          backdrop: group.smask.backdrop,\n          transferMap: group.smask.transferMap || null,\n          startTransformInverse: null, // used during suspend operation\n        });\n      } else {\n        // Setup the current ctx so when the group is popped we draw it at the\n        // right location.\n        currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n        currentCtx.translate(offsetX, offsetY);\n        currentCtx.scale(scaleX, scaleY);\n      }\n      // The transparency group inherits all off the current graphics state\n      // except the blend mode, soft mask, and alpha constants.\n      copyCtxState(currentCtx, groupCtx);\n      this.ctx = groupCtx;\n      this.setGState([\n        [\"BM\", \"source-over\"],\n        [\"ca\", 1],\n        [\"CA\", 1],\n      ]);\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n\n      // Reseting mask state, masks will be applied on restore of the group.\n      this.current.activeSMask = null;\n    },\n\n    endGroup: function CanvasGraphics_endGroup(group) {\n      if (!this.contentVisible) {\n        return;\n      }\n      this.groupLevel--;\n      const groupCtx = this.ctx;\n      this.ctx = this.groupStack.pop();\n      // Turn off image smoothing to avoid sub pixel interpolation which can\n      // look kind of blurry for some pdfs.\n      if (this.ctx.imageSmoothingEnabled !== undefined) {\n        this.ctx.imageSmoothingEnabled = false;\n      } else {\n        this.ctx.mozImageSmoothingEnabled = false;\n      }\n      if (group.smask) {\n        this.tempSMask = this.smaskStack.pop();\n      } else {\n        this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      }\n      this.restore();\n    },\n\n    beginAnnotations: function CanvasGraphics_beginAnnotations() {\n      this.save();\n      if (this.baseTransform) {\n        this.ctx.setTransform.apply(this.ctx, this.baseTransform);\n      }\n    },\n\n    endAnnotations: function CanvasGraphics_endAnnotations() {\n      this.restore();\n    },\n\n    beginAnnotation: function CanvasGraphics_beginAnnotation(\n      rect,\n      transform,\n      matrix\n    ) {\n      this.save();\n      resetCtxToDefault(this.ctx);\n      this.current = new CanvasExtraState();\n\n      if (Array.isArray(rect) && rect.length === 4) {\n        const width = rect[2] - rect[0];\n        const height = rect[3] - rect[1];\n        this.ctx.rect(rect[0], rect[1], width, height);\n        this.clip();\n        this.endPath();\n      }\n\n      this.transform.apply(this, transform);\n      this.transform.apply(this, matrix);\n    },\n\n    endAnnotation: function CanvasGraphics_endAnnotation() {\n      this.restore();\n    },\n\n    paintImageMaskXObject: function CanvasGraphics_paintImageMaskXObject(img) {\n      if (!this.contentVisible) {\n        return;\n      }\n      const ctx = this.ctx;\n      const width = img.width,\n        height = img.height;\n      const fillColor = this.current.fillColor;\n      const isPatternFill = this.current.patternFill;\n\n      const glyph = this.processingType3;\n\n      if (COMPILE_TYPE3_GLYPHS && glyph && glyph.compiled === undefined) {\n        if (width <= MAX_SIZE_TO_COMPILE && height <= MAX_SIZE_TO_COMPILE) {\n          glyph.compiled = compileType3Glyph({ data: img.data, width, height });\n        } else {\n          glyph.compiled = null;\n        }\n      }\n\n      if (glyph?.compiled) {\n        glyph.compiled(ctx);\n        return;\n      }\n\n      const maskCanvas = this.cachedCanvases.getCanvas(\n        \"maskCanvas\",\n        width,\n        height\n      );\n      const maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      putBinaryImageMask(maskCtx, img);\n\n      maskCtx.globalCompositeOperation = \"source-in\";\n\n      maskCtx.fillStyle = isPatternFill\n        ? fillColor.getPattern(maskCtx, this)\n        : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      this.paintInlineImageXObject(maskCanvas.canvas);\n    },\n\n    paintImageMaskXObjectRepeat(\n      imgData,\n      scaleX,\n      skewX = 0,\n      skewY = 0,\n      scaleY,\n      positions\n    ) {\n      if (!this.contentVisible) {\n        return;\n      }\n      const width = imgData.width;\n      const height = imgData.height;\n      const fillColor = this.current.fillColor;\n      const isPatternFill = this.current.patternFill;\n\n      const maskCanvas = this.cachedCanvases.getCanvas(\n        \"maskCanvas\",\n        width,\n        height\n      );\n      const maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      putBinaryImageMask(maskCtx, imgData);\n\n      maskCtx.globalCompositeOperation = \"source-in\";\n\n      maskCtx.fillStyle = isPatternFill\n        ? fillColor.getPattern(maskCtx, this)\n        : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      const ctx = this.ctx;\n      for (let i = 0, ii = positions.length; i < ii; i += 2) {\n        ctx.save();\n        ctx.transform(\n          scaleX,\n          skewX,\n          skewY,\n          scaleY,\n          positions[i],\n          positions[i + 1]\n        );\n        ctx.scale(1, -1);\n        ctx.drawImage(maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n        ctx.restore();\n      }\n    },\n\n    paintImageMaskXObjectGroup: function CanvasGraphics_paintImageMaskXObjectGroup(\n      images\n    ) {\n      if (!this.contentVisible) {\n        return;\n      }\n      const ctx = this.ctx;\n\n      const fillColor = this.current.fillColor;\n      const isPatternFill = this.current.patternFill;\n      for (let i = 0, ii = images.length; i < ii; i++) {\n        const image = images[i];\n        const width = image.width,\n          height = image.height;\n\n        const maskCanvas = this.cachedCanvases.getCanvas(\n          \"maskCanvas\",\n          width,\n          height\n        );\n        const maskCtx = maskCanvas.context;\n        maskCtx.save();\n\n        putBinaryImageMask(maskCtx, image);\n\n        maskCtx.globalCompositeOperation = \"source-in\";\n\n        maskCtx.fillStyle = isPatternFill\n          ? fillColor.getPattern(maskCtx, this)\n          : fillColor;\n        maskCtx.fillRect(0, 0, width, height);\n\n        maskCtx.restore();\n\n        ctx.save();\n        ctx.transform.apply(ctx, image.transform);\n        ctx.scale(1, -1);\n        ctx.drawImage(maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n        ctx.restore();\n      }\n    },\n\n    paintImageXObject: function CanvasGraphics_paintImageXObject(objId) {\n      if (!this.contentVisible) {\n        return;\n      }\n      const imgData = objId.startsWith(\"g_\")\n        ? this.commonObjs.get(objId)\n        : this.objs.get(objId);\n      if (!imgData) {\n        warn(\"Dependent image isn't ready yet\");\n        return;\n      }\n\n      this.paintInlineImageXObject(imgData);\n    },\n\n    paintImageXObjectRepeat: function CanvasGraphics_paintImageXObjectRepeat(\n      objId,\n      scaleX,\n      scaleY,\n      positions\n    ) {\n      if (!this.contentVisible) {\n        return;\n      }\n      const imgData = objId.startsWith(\"g_\")\n        ? this.commonObjs.get(objId)\n        : this.objs.get(objId);\n      if (!imgData) {\n        warn(\"Dependent image isn't ready yet\");\n        return;\n      }\n\n      const width = imgData.width;\n      const height = imgData.height;\n      const map = [];\n      for (let i = 0, ii = positions.length; i < ii; i += 2) {\n        map.push({\n          transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n          x: 0,\n          y: 0,\n          w: width,\n          h: height,\n        });\n      }\n      this.paintInlineImageXObjectGroup(imgData, map);\n    },\n\n    paintInlineImageXObject: function CanvasGraphics_paintInlineImageXObject(\n      imgData\n    ) {\n      if (!this.contentVisible) {\n        return;\n      }\n      const width = imgData.width;\n      const height = imgData.height;\n      const ctx = this.ctx;\n\n      this.save();\n      // scale the image to the unit square\n      ctx.scale(1 / width, -1 / height);\n\n      const currentTransform = ctx.mozCurrentTransformInverse;\n      const a = currentTransform[0],\n        b = currentTransform[1];\n      let widthScale = Math.max(Math.sqrt(a * a + b * b), 1);\n      const c = currentTransform[2],\n        d = currentTransform[3];\n      let heightScale = Math.max(Math.sqrt(c * c + d * d), 1);\n\n      let imgToPaint, tmpCanvas, tmpCtx;\n      // typeof check is needed due to node.js support, see issue #8489\n      if (\n        (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement) ||\n        !imgData.data\n      ) {\n        imgToPaint = imgData;\n      } else {\n        tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n        tmpCtx = tmpCanvas.context;\n        putBinaryImageData(tmpCtx, imgData, this.current.transferMaps);\n        imgToPaint = tmpCanvas.canvas;\n      }\n\n      let paintWidth = width,\n        paintHeight = height;\n      let tmpCanvasId = \"prescale1\";\n      // Vertical or horizontal scaling shall not be more than 2 to not lose the\n      // pixels during drawImage operation, painting on the temporary canvas(es)\n      // that are twice smaller in size.\n      while (\n        (widthScale > 2 && paintWidth > 1) ||\n        (heightScale > 2 && paintHeight > 1)\n      ) {\n        let newWidth = paintWidth,\n          newHeight = paintHeight;\n        if (widthScale > 2 && paintWidth > 1) {\n          newWidth = Math.ceil(paintWidth / 2);\n          widthScale /= paintWidth / newWidth;\n        }\n        if (heightScale > 2 && paintHeight > 1) {\n          newHeight = Math.ceil(paintHeight / 2);\n          heightScale /= paintHeight / newHeight;\n        }\n        tmpCanvas = this.cachedCanvases.getCanvas(\n          tmpCanvasId,\n          newWidth,\n          newHeight\n        );\n        tmpCtx = tmpCanvas.context;\n        tmpCtx.clearRect(0, 0, newWidth, newHeight);\n        tmpCtx.drawImage(\n          imgToPaint,\n          0,\n          0,\n          paintWidth,\n          paintHeight,\n          0,\n          0,\n          newWidth,\n          newHeight\n        );\n        imgToPaint = tmpCanvas.canvas;\n        paintWidth = newWidth;\n        paintHeight = newHeight;\n        tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n      }\n      ctx.drawImage(\n        imgToPaint,\n        0,\n        0,\n        paintWidth,\n        paintHeight,\n        0,\n        -height,\n        width,\n        height\n      );\n\n      if (this.imageLayer) {\n        const position = this.getCanvasPosition(0, -height);\n        this.imageLayer.appendImage({\n          imgData,\n          left: position[0],\n          top: position[1],\n          width: width / currentTransform[0],\n          height: height / currentTransform[3],\n        });\n      }\n      this.restore();\n    },\n\n    paintInlineImageXObjectGroup: function CanvasGraphics_paintInlineImageXObjectGroup(\n      imgData,\n      map\n    ) {\n      if (!this.contentVisible) {\n        return;\n      }\n      const ctx = this.ctx;\n      const w = imgData.width;\n      const h = imgData.height;\n\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData, this.current.transferMaps);\n\n      for (let i = 0, ii = map.length; i < ii; i++) {\n        const entry = map[i];\n        ctx.save();\n        ctx.transform.apply(ctx, entry.transform);\n        ctx.scale(1, -1);\n        ctx.drawImage(\n          tmpCanvas.canvas,\n          entry.x,\n          entry.y,\n          entry.w,\n          entry.h,\n          0,\n          -1,\n          1,\n          1\n        );\n        if (this.imageLayer) {\n          const position = this.getCanvasPosition(entry.x, entry.y);\n          this.imageLayer.appendImage({\n            imgData,\n            left: position[0],\n            top: position[1],\n            width: w,\n            height: h,\n          });\n        }\n        ctx.restore();\n      }\n    },\n\n    paintSolidColorImageMask: function CanvasGraphics_paintSolidColorImageMask() {\n      if (!this.contentVisible) {\n        return;\n      }\n      this.ctx.fillRect(0, 0, 1, 1);\n    },\n\n    // Marked content\n\n    markPoint: function CanvasGraphics_markPoint(tag) {\n      // TODO Marked content.\n    },\n    markPointProps: function CanvasGraphics_markPointProps(tag, properties) {\n      // TODO Marked content.\n    },\n    beginMarkedContent: function CanvasGraphics_beginMarkedContent(tag) {\n      this.markedContentStack.push({\n        visible: true,\n      });\n    },\n    beginMarkedContentProps: function CanvasGraphics_beginMarkedContentProps(\n      tag,\n      properties\n    ) {\n      if (tag === \"OC\") {\n        this.markedContentStack.push({\n          visible: this.optionalContentConfig.isVisible(properties),\n        });\n      } else {\n        this.markedContentStack.push({\n          visible: true,\n        });\n      }\n      this.contentVisible = this.isContentVisible();\n    },\n    endMarkedContent: function CanvasGraphics_endMarkedContent() {\n      this.markedContentStack.pop();\n      this.contentVisible = this.isContentVisible();\n    },\n\n    // Compatibility\n\n    beginCompat: function CanvasGraphics_beginCompat() {\n      // TODO ignore undefined operators (should we do that anyway?)\n    },\n    endCompat: function CanvasGraphics_endCompat() {\n      // TODO stop ignoring undefined operators\n    },\n\n    // Helper functions\n\n    consumePath: function CanvasGraphics_consumePath() {\n      const ctx = this.ctx;\n      if (this.pendingClip) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip(\"evenodd\");\n        } else {\n          ctx.clip();\n        }\n        this.pendingClip = null;\n      }\n      ctx.beginPath();\n    },\n    getSinglePixelWidth() {\n      if (this._cachedGetSinglePixelWidth === null) {\n        // If transform is [a b] then a pixel (square) is transformed\n        //                 [c d]\n        // into a parallelogram: its area is the abs value of the determinant.\n        // This parallelogram has 2 heights:\n        //  - Area / |col_1|;\n        //  - Area / |col_2|.\n        // so in order to get a height of at least 1, pixel height\n        // must be computed as followed:\n        //  h = max(sqrt(a² + c²) / |det(M)|, sqrt(b² + d²) / |det(M)|).\n        // This is equivalent to:\n        //  h = max(|line_1_inv(M)|, |line_2_inv(M)|)\n        const m = this.ctx.mozCurrentTransform;\n\n        const absDet = Math.abs(m[0] * m[3] - m[2] * m[1]);\n        const sqNorm1 = m[0] ** 2 + m[2] ** 2;\n        const sqNorm2 = m[1] ** 2 + m[3] ** 2;\n        const pixelHeight = Math.sqrt(Math.max(sqNorm1, sqNorm2)) / absDet;\n        if (\n          sqNorm1 !== sqNorm2 &&\n          this._combinedScaleFactor * pixelHeight > 1\n        ) {\n          // The parallelogram isn't a square and at least one height\n          // is lower than 1 so the resulting line width must be 1\n          // but it cannot be achieved with one scale: when scaling a pixel\n          // we'll get a rectangle (see issue #12295).\n          // For example with matrix [0.001 0, 0, 100], a pixel is transformed\n          // in a rectangle 0.001x100. If we just scale by 1000 (to have a 1)\n          // then we'll get a rectangle 1x1e5 which is wrong.\n          // In this case, we must reset the transform, set linewidth to 1\n          // and then stroke.\n          this._cachedGetSinglePixelWidth = -(\n            this._combinedScaleFactor * pixelHeight\n          );\n        } else if (absDet > Number.EPSILON) {\n          // The multiplication by the constant 1.0000001 is here to have\n          // a number slightly greater than what we \"exactly\" want.\n          this._cachedGetSinglePixelWidth = pixelHeight * 1.0000001;\n        } else {\n          // Matrix is non-invertible.\n          this._cachedGetSinglePixelWidth = 1;\n        }\n      }\n\n      return this._cachedGetSinglePixelWidth;\n    },\n    getCanvasPosition: function CanvasGraphics_getCanvasPosition(x, y) {\n      const transform = this.ctx.mozCurrentTransform;\n      return [\n        transform[0] * x + transform[2] * y + transform[4],\n        transform[1] * x + transform[3] * y + transform[5],\n      ];\n    },\n\n    isContentVisible: function CanvasGraphics_isContentVisible() {\n      for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n        if (!this.markedContentStack[i].visible) {\n          return false;\n        }\n      }\n      return true;\n    },\n  };\n\n  for (const op in OPS) {\n    CanvasGraphics.prototype[OPS[op]] = CanvasGraphics.prototype[op];\n  }\n\n  return CanvasGraphics;\n})();\n\nexport { CanvasGraphics };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FormatError, info, Util } from \"../shared/util.js\";\n\nconst ShadingIRs = {};\n\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox || typeof Path2D === \"undefined\") {\n    return;\n  }\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\n\nShadingIRs.RadialAxial = {\n  fromIR: function RadialAxial_fromIR(raw) {\n    const type = raw[1];\n    const bbox = raw[2];\n    const colorStops = raw[3];\n    const p0 = raw[4];\n    const p1 = raw[5];\n    const r0 = raw[6];\n    const r1 = raw[7];\n    return {\n      getPattern: function RadialAxial_getPattern(ctx) {\n        applyBoundingBox(ctx, bbox);\n        let grad;\n        if (type === \"axial\") {\n          grad = ctx.createLinearGradient(p0[0], p0[1], p1[0], p1[1]);\n        } else if (type === \"radial\") {\n          grad = ctx.createRadialGradient(p0[0], p0[1], r0, p1[0], p1[1], r1);\n        }\n\n        for (let i = 0, ii = colorStops.length; i < ii; ++i) {\n          const c = colorStops[i];\n          grad.addColorStop(c[0], c[1]);\n        }\n        return grad;\n      },\n    };\n  },\n};\n\nconst createMeshCanvas = (function createMeshCanvasClosure() {\n  function drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n    // Very basic Gouraud-shaded triangle rasterization algorithm.\n    const coords = context.coords,\n      colors = context.colors;\n    const bytes = data.data,\n      rowSize = data.width * 4;\n    let tmp;\n    if (coords[p1 + 1] > coords[p2 + 1]) {\n      tmp = p1;\n      p1 = p2;\n      p2 = tmp;\n      tmp = c1;\n      c1 = c2;\n      c2 = tmp;\n    }\n    if (coords[p2 + 1] > coords[p3 + 1]) {\n      tmp = p2;\n      p2 = p3;\n      p3 = tmp;\n      tmp = c2;\n      c2 = c3;\n      c3 = tmp;\n    }\n    if (coords[p1 + 1] > coords[p2 + 1]) {\n      tmp = p1;\n      p1 = p2;\n      p2 = tmp;\n      tmp = c1;\n      c1 = c2;\n      c2 = tmp;\n    }\n    const x1 = (coords[p1] + context.offsetX) * context.scaleX;\n    const y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n    const x2 = (coords[p2] + context.offsetX) * context.scaleX;\n    const y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n    const x3 = (coords[p3] + context.offsetX) * context.scaleX;\n    const y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n    if (y1 >= y3) {\n      return;\n    }\n    const c1r = colors[c1],\n      c1g = colors[c1 + 1],\n      c1b = colors[c1 + 2];\n    const c2r = colors[c2],\n      c2g = colors[c2 + 1],\n      c2b = colors[c2 + 2];\n    const c3r = colors[c3],\n      c3g = colors[c3 + 1],\n      c3b = colors[c3 + 2];\n\n    const minY = Math.round(y1),\n      maxY = Math.round(y3);\n    let xa, car, cag, cab;\n    let xb, cbr, cbg, cbb;\n    for (let y = minY; y <= maxY; y++) {\n      if (y < y2) {\n        let k;\n        if (y < y1) {\n          k = 0;\n        } else if (y1 === y2) {\n          k = 1;\n        } else {\n          k = (y1 - y) / (y1 - y2);\n        }\n        xa = x1 - (x1 - x2) * k;\n        car = c1r - (c1r - c2r) * k;\n        cag = c1g - (c1g - c2g) * k;\n        cab = c1b - (c1b - c2b) * k;\n      } else {\n        let k;\n        if (y > y3) {\n          k = 1;\n        } else if (y2 === y3) {\n          k = 0;\n        } else {\n          k = (y2 - y) / (y2 - y3);\n        }\n        xa = x2 - (x2 - x3) * k;\n        car = c2r - (c2r - c3r) * k;\n        cag = c2g - (c2g - c3g) * k;\n        cab = c2b - (c2b - c3b) * k;\n      }\n\n      let k;\n      if (y < y1) {\n        k = 0;\n      } else if (y > y3) {\n        k = 1;\n      } else {\n        k = (y1 - y) / (y1 - y3);\n      }\n      xb = x1 - (x1 - x3) * k;\n      cbr = c1r - (c1r - c3r) * k;\n      cbg = c1g - (c1g - c3g) * k;\n      cbb = c1b - (c1b - c3b) * k;\n      const x1_ = Math.round(Math.min(xa, xb));\n      const x2_ = Math.round(Math.max(xa, xb));\n      let j = rowSize * y + x1_ * 4;\n      for (let x = x1_; x <= x2_; x++) {\n        k = (xa - x) / (xa - xb);\n        if (k < 0) {\n          k = 0;\n        } else if (k > 1) {\n          k = 1;\n        }\n        bytes[j++] = (car - (car - cbr) * k) | 0;\n        bytes[j++] = (cag - (cag - cbg) * k) | 0;\n        bytes[j++] = (cab - (cab - cbb) * k) | 0;\n        bytes[j++] = 255;\n      }\n    }\n  }\n\n  function drawFigure(data, figure, context) {\n    const ps = figure.coords;\n    const cs = figure.colors;\n    let i, ii;\n    switch (figure.type) {\n      case \"lattice\":\n        const verticesPerRow = figure.verticesPerRow;\n        const rows = Math.floor(ps.length / verticesPerRow) - 1;\n        const cols = verticesPerRow - 1;\n        for (i = 0; i < rows; i++) {\n          let q = i * verticesPerRow;\n          for (let j = 0; j < cols; j++, q++) {\n            drawTriangle(\n              data,\n              context,\n              ps[q],\n              ps[q + 1],\n              ps[q + verticesPerRow],\n              cs[q],\n              cs[q + 1],\n              cs[q + verticesPerRow]\n            );\n            drawTriangle(\n              data,\n              context,\n              ps[q + verticesPerRow + 1],\n              ps[q + 1],\n              ps[q + verticesPerRow],\n              cs[q + verticesPerRow + 1],\n              cs[q + 1],\n              cs[q + verticesPerRow]\n            );\n          }\n        }\n        break;\n      case \"triangles\":\n        for (i = 0, ii = ps.length; i < ii; i += 3) {\n          drawTriangle(\n            data,\n            context,\n            ps[i],\n            ps[i + 1],\n            ps[i + 2],\n            cs[i],\n            cs[i + 1],\n            cs[i + 2]\n          );\n        }\n        break;\n      default:\n        throw new Error(\"illegal figure\");\n    }\n  }\n\n  // eslint-disable-next-line no-shadow\n  function createMeshCanvas(\n    bounds,\n    combinesScale,\n    coords,\n    colors,\n    figures,\n    backgroundColor,\n    cachedCanvases,\n    webGLContext\n  ) {\n    // we will increase scale on some weird factor to let antialiasing take\n    // care of \"rough\" edges\n    const EXPECTED_SCALE = 1.1;\n    // MAX_PATTERN_SIZE is used to avoid OOM situation.\n    const MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n    // We need to keep transparent border around our pattern for fill():\n    // createPattern with 'no-repeat' will bleed edges across entire area.\n    const BORDER_SIZE = 2;\n\n    const offsetX = Math.floor(bounds[0]);\n    const offsetY = Math.floor(bounds[1]);\n    const boundsWidth = Math.ceil(bounds[2]) - offsetX;\n    const boundsHeight = Math.ceil(bounds[3]) - offsetY;\n\n    const width = Math.min(\n      Math.ceil(Math.abs(boundsWidth * combinesScale[0] * EXPECTED_SCALE)),\n      MAX_PATTERN_SIZE\n    );\n    const height = Math.min(\n      Math.ceil(Math.abs(boundsHeight * combinesScale[1] * EXPECTED_SCALE)),\n      MAX_PATTERN_SIZE\n    );\n    const scaleX = boundsWidth / width;\n    const scaleY = boundsHeight / height;\n\n    const context = {\n      coords,\n      colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY,\n    };\n\n    const paddedWidth = width + BORDER_SIZE * 2;\n    const paddedHeight = height + BORDER_SIZE * 2;\n\n    let canvas, tmpCanvas, i, ii;\n    if (webGLContext.isEnabled) {\n      canvas = webGLContext.drawFigures({\n        width,\n        height,\n        backgroundColor,\n        figures,\n        context,\n      });\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=972126\n      tmpCanvas = cachedCanvases.getCanvas(\n        \"mesh\",\n        paddedWidth,\n        paddedHeight,\n        false\n      );\n      tmpCanvas.context.drawImage(canvas, BORDER_SIZE, BORDER_SIZE);\n      canvas = tmpCanvas.canvas;\n    } else {\n      tmpCanvas = cachedCanvases.getCanvas(\n        \"mesh\",\n        paddedWidth,\n        paddedHeight,\n        false\n      );\n      const tmpCtx = tmpCanvas.context;\n\n      const data = tmpCtx.createImageData(width, height);\n      if (backgroundColor) {\n        const bytes = data.data;\n        for (i = 0, ii = bytes.length; i < ii; i += 4) {\n          bytes[i] = backgroundColor[0];\n          bytes[i + 1] = backgroundColor[1];\n          bytes[i + 2] = backgroundColor[2];\n          bytes[i + 3] = 255;\n        }\n      }\n      for (i = 0; i < figures.length; i++) {\n        drawFigure(data, figures[i], context);\n      }\n      tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n      canvas = tmpCanvas.canvas;\n    }\n\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY,\n    };\n  }\n  return createMeshCanvas;\n})();\n\nShadingIRs.Mesh = {\n  fromIR: function Mesh_fromIR(raw) {\n    // var type = raw[1];\n    const coords = raw[2];\n    const colors = raw[3];\n    const figures = raw[4];\n    const bounds = raw[5];\n    const matrix = raw[6];\n    const bbox = raw[7];\n    const background = raw[8];\n    return {\n      getPattern: function Mesh_getPattern(ctx, owner, shadingFill) {\n        applyBoundingBox(ctx, bbox);\n        let scale;\n        if (shadingFill) {\n          scale = Util.singularValueDecompose2dScale(ctx.mozCurrentTransform);\n        } else {\n          // Obtain scale from matrix and current transformation matrix.\n          scale = Util.singularValueDecompose2dScale(owner.baseTransform);\n          if (matrix) {\n            const matrixScale = Util.singularValueDecompose2dScale(matrix);\n            scale = [scale[0] * matrixScale[0], scale[1] * matrixScale[1]];\n          }\n        }\n\n        // Rasterizing on the main thread since sending/queue large canvases\n        // might cause OOM.\n        const temporaryPatternCanvas = createMeshCanvas(\n          bounds,\n          scale,\n          coords,\n          colors,\n          figures,\n          shadingFill ? null : background,\n          owner.cachedCanvases,\n          owner.webGLContext\n        );\n\n        if (!shadingFill) {\n          ctx.setTransform.apply(ctx, owner.baseTransform);\n          if (matrix) {\n            ctx.transform.apply(ctx, matrix);\n          }\n        }\n\n        ctx.translate(\n          temporaryPatternCanvas.offsetX,\n          temporaryPatternCanvas.offsetY\n        );\n        ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n\n        return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n      },\n    };\n  },\n};\n\nShadingIRs.Dummy = {\n  fromIR: function Dummy_fromIR() {\n    return {\n      getPattern: function Dummy_fromIR_getPattern() {\n        return \"hotpink\";\n      },\n    };\n  },\n};\n\nfunction getShadingPatternFromIR(raw) {\n  const shadingIR = ShadingIRs[raw[0]];\n  if (!shadingIR) {\n    throw new Error(`Unknown IR type: ${raw[0]}`);\n  }\n  return shadingIR.fromIR(raw);\n}\n\n/**\n * @type {any}\n */\nconst TilingPattern = (function TilingPatternClosure() {\n  const PaintType = {\n    COLORED: 1,\n    UNCOLORED: 2,\n  };\n\n  const MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n\n  // eslint-disable-next-line no-shadow\n  function TilingPattern(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n    this.ctx = ctx;\n  }\n\n  TilingPattern.prototype = {\n    createPatternCanvas: function TilinPattern_createPatternCanvas(owner) {\n      const operatorList = this.operatorList;\n      const bbox = this.bbox;\n      const xstep = this.xstep;\n      const ystep = this.ystep;\n      const paintType = this.paintType;\n      const tilingType = this.tilingType;\n      const color = this.color;\n      const canvasGraphicsFactory = this.canvasGraphicsFactory;\n\n      info(\"TilingType: \" + tilingType);\n\n      // A tiling pattern as defined by PDF spec 8.7.2 is a cell whose size is\n      // described by bbox, and may repeat regularly by shifting the cell by\n      // xstep and ystep.\n      // Because the HTML5 canvas API does not support pattern repetition with\n      // gaps in between, we use the xstep/ystep instead of the bbox's size.\n      //\n      // This has the following consequences (similarly for ystep):\n      //\n      // - If xstep is the same as bbox, then there is no observable difference.\n      //\n      // - If xstep is larger than bbox, then the pattern canvas is partially\n      //   empty: the area bounded by bbox is painted, the outside area is void.\n      //\n      // - If xstep is smaller than bbox, then the pixels between xstep and the\n      //   bbox boundary will be missing. This is INCORRECT behavior.\n      //   \"Figures on adjacent tiles should not overlap\" (PDF spec 8.7.3.1),\n      //   but overlapping cells without common pixels are still valid.\n      //   TODO: Fix the implementation, to allow this scenario to be painted\n      //   correctly.\n\n      const x0 = bbox[0],\n        y0 = bbox[1],\n        x1 = bbox[2],\n        y1 = bbox[3];\n\n      // Obtain scale from matrix and current transformation matrix.\n      const matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n      const curMatrixScale = Util.singularValueDecompose2dScale(\n        this.baseTransform\n      );\n      const combinedScale = [\n        matrixScale[0] * curMatrixScale[0],\n        matrixScale[1] * curMatrixScale[1],\n      ];\n\n      // Use width and height values that are as close as possible to the end\n      // result when the pattern is used. Too low value makes the pattern look\n      // blurry. Too large value makes it look too crispy.\n      const dimx = this.getSizeAndScale(\n        xstep,\n        this.ctx.canvas.width,\n        combinedScale[0]\n      );\n      const dimy = this.getSizeAndScale(\n        ystep,\n        this.ctx.canvas.height,\n        combinedScale[1]\n      );\n\n      const tmpCanvas = owner.cachedCanvases.getCanvas(\n        \"pattern\",\n        dimx.size,\n        dimy.size,\n        true\n      );\n      const tmpCtx = tmpCanvas.context;\n      const graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n      graphics.groupLevel = owner.groupLevel;\n\n      this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n\n      graphics.transform(dimx.scale, 0, 0, dimy.scale, 0, 0);\n\n      // transform coordinates to pattern space\n      graphics.transform(1, 0, 0, 1, -x0, -y0);\n\n      this.clipBbox(graphics, bbox, x0, y0, x1, y1);\n\n      graphics.executeOperatorList(operatorList);\n\n      this.ctx.transform(1, 0, 0, 1, x0, y0);\n\n      // Rescale canvas so that the ctx.createPattern call generates a pattern\n      // with the desired size.\n      this.ctx.scale(1 / dimx.scale, 1 / dimy.scale);\n      return tmpCanvas.canvas;\n    },\n\n    getSizeAndScale: function TilingPattern_getSizeAndScale(\n      step,\n      realOutputSize,\n      scale\n    ) {\n      // xstep / ystep may be negative -- normalize.\n      step = Math.abs(step);\n      // MAX_PATTERN_SIZE is used to avoid OOM situation.\n      // Use the destination canvas's size if it is bigger than the hard-coded\n      // limit of MAX_PATTERN_SIZE to avoid clipping patterns that cover the\n      // whole canvas.\n      const maxSize = Math.max(MAX_PATTERN_SIZE, realOutputSize);\n      let size = Math.ceil(step * scale);\n      if (size >= maxSize) {\n        size = maxSize;\n      } else {\n        scale = size / step;\n      }\n      return { scale, size };\n    },\n\n    clipBbox: function clipBbox(graphics, bbox, x0, y0, x1, y1) {\n      if (Array.isArray(bbox) && bbox.length === 4) {\n        const bboxWidth = x1 - x0;\n        const bboxHeight = y1 - y0;\n        graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n        graphics.clip();\n        graphics.endPath();\n      }\n    },\n\n    setFillAndStrokeStyleToContext: function setFillAndStrokeStyleToContext(\n      graphics,\n      paintType,\n      color\n    ) {\n      const context = graphics.ctx,\n        current = graphics.current;\n      switch (paintType) {\n        case PaintType.COLORED:\n          const ctx = this.ctx;\n          context.fillStyle = ctx.fillStyle;\n          context.strokeStyle = ctx.strokeStyle;\n          current.fillColor = ctx.fillStyle;\n          current.strokeColor = ctx.strokeStyle;\n          break;\n        case PaintType.UNCOLORED:\n          const cssColor = Util.makeHexColor(color[0], color[1], color[2]);\n          context.fillStyle = cssColor;\n          context.strokeStyle = cssColor;\n          // Set color needed by image masks (fixes issues 3226 and 8741).\n          current.fillColor = cssColor;\n          current.strokeColor = cssColor;\n          break;\n        default:\n          throw new FormatError(`Unsupported paint type: ${paintType}`);\n      }\n    },\n\n    getPattern: function TilingPattern_getPattern(ctx, owner) {\n      ctx = this.ctx;\n      // PDF spec 8.7.2 NOTE 1: pattern's matrix is relative to initial matrix.\n      ctx.setTransform.apply(ctx, this.baseTransform);\n      ctx.transform.apply(ctx, this.matrix);\n\n      const temporaryPatternCanvas = this.createPatternCanvas(owner);\n\n      return ctx.createPattern(temporaryPatternCanvas, \"repeat\");\n    },\n  };\n\n  return TilingPattern;\n})();\n\nexport { getShadingPatternFromIR, TilingPattern };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @typedef {Object} GlobalWorkerOptionsType\n * @property {Worker | null} workerPort - Defines global port for worker\n *   process. Overrides the `workerSrc` option.\n * @property {string} workerSrc - A string containing the path and filename\n *   of the worker file.\n *\n *   NOTE: The `workerSrc` option should always be set, in order to prevent any\n *         issues when using the PDF.js library.\n */\n\n/** @type {GlobalWorkerOptionsType} */\nconst GlobalWorkerOptions = Object.create(null);\n\nGlobalWorkerOptions.workerPort =\n  GlobalWorkerOptions.workerPort === undefined\n    ? null\n    : GlobalWorkerOptions.workerPort;\n\nGlobalWorkerOptions.workerSrc =\n  GlobalWorkerOptions.workerSrc === undefined\n    ? \"\"\n    : GlobalWorkerOptions.workerSrc;\n\nexport { GlobalWorkerOptions };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n  MissingPDFException,\n  UnexpectedResponseException,\n  UnknownErrorException,\n} from \"./util.js\";\n\nconst CallbackKind = {\n  UNKNOWN: 0,\n  DATA: 1,\n  ERROR: 2,\n};\n\nconst StreamKind = {\n  UNKNOWN: 0,\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8,\n};\n\nfunction wrapReason(reason) {\n  if (\n    typeof PDFJSDev === \"undefined\" ||\n    PDFJSDev.test(\"!PRODUCTION || TESTING\")\n  ) {\n    assert(\n      reason instanceof Error ||\n        (typeof reason === \"object\" && reason !== null),\n      'wrapReason: Expected \"reason\" to be a (possibly cloned) Error.'\n    );\n  } else {\n    if (typeof reason !== \"object\" || reason === null) {\n      return reason;\n    }\n  }\n  switch (reason.name) {\n    case \"AbortException\":\n      return new AbortException(reason.message);\n    case \"MissingPDFException\":\n      return new MissingPDFException(reason.message);\n    case \"UnexpectedResponseException\":\n      return new UnexpectedResponseException(reason.message, reason.status);\n    case \"UnknownErrorException\":\n      return new UnknownErrorException(reason.message, reason.details);\n    default:\n      return new UnknownErrorException(reason.message, reason.toString());\n  }\n}\n\nclass MessageHandler {\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.postMessageTransfers = true;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n\n    this._onComObjOnMessage = event => {\n      const data = event.data;\n      if (data.targetName !== this.sourceName) {\n        return;\n      }\n      if (data.stream) {\n        this._processStreamMessage(data);\n        return;\n      }\n      if (data.callback) {\n        const callbackId = data.callbackId;\n        const capability = this.callbackCapabilities[callbackId];\n        if (!capability) {\n          throw new Error(`Cannot resolve callback ${callbackId}`);\n        }\n        delete this.callbackCapabilities[callbackId];\n\n        if (data.callback === CallbackKind.DATA) {\n          capability.resolve(data.data);\n        } else if (data.callback === CallbackKind.ERROR) {\n          capability.reject(wrapReason(data.reason));\n        } else {\n          throw new Error(\"Unexpected callback case\");\n        }\n        return;\n      }\n      const action = this.actionHandler[data.action];\n      if (!action) {\n        throw new Error(`Unknown action from worker: ${data.action}`);\n      }\n      if (data.callbackId) {\n        const cbSourceName = this.sourceName;\n        const cbTargetName = data.sourceName;\n        new Promise(function (resolve) {\n          resolve(action(data.data));\n        }).then(\n          function (result) {\n            comObj.postMessage({\n              sourceName: cbSourceName,\n              targetName: cbTargetName,\n              callback: CallbackKind.DATA,\n              callbackId: data.callbackId,\n              data: result,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName: cbSourceName,\n              targetName: cbTargetName,\n              callback: CallbackKind.ERROR,\n              callbackId: data.callbackId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        return;\n      }\n      if (data.streamId) {\n        this._createStreamSink(data);\n        return;\n      }\n      action(data.data);\n    };\n    comObj.addEventListener(\"message\", this._onComObjOnMessage);\n  }\n\n  on(actionName, handler) {\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      assert(\n        typeof handler === \"function\",\n        'MessageHandler.on: Expected \"handler\" to be a function.'\n      );\n    }\n    const ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = handler;\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   */\n  send(actionName, data, transfers) {\n    this._postMessage(\n      {\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        data,\n      },\n      transfers\n    );\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expects that the other side will callback with the response.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   * @returns {Promise} Promise to be resolved with response data.\n   */\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = createPromiseCapability();\n    this.callbackCapabilities[callbackId] = capability;\n    try {\n      this._postMessage(\n        {\n          sourceName: this.sourceName,\n          targetName: this.targetName,\n          action: actionName,\n          callbackId,\n          data,\n        },\n        transfers\n      );\n    } catch (ex) {\n      capability.reject(ex);\n    }\n    return capability.promise;\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expect that the other side will callback to signal 'start_complete'.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Object} queueingStrategy - Strategy to signal backpressure based on\n   *                 internal queue.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   * @returns {ReadableStream} ReadableStream to read data in chunks.\n   */\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++;\n    const sourceName = this.sourceName;\n    const targetName = this.targetName;\n    const comObj = this.comObj;\n\n    return new ReadableStream(\n      {\n        start: controller => {\n          const startCapability = createPromiseCapability();\n          this.streamControllers[streamId] = {\n            controller,\n            startCall: startCapability,\n            pullCall: null,\n            cancelCall: null,\n            isClosed: false,\n          };\n          this._postMessage(\n            {\n              sourceName,\n              targetName,\n              action: actionName,\n              streamId,\n              data,\n              desiredSize: controller.desiredSize,\n            },\n            transfers\n          );\n          // Return Promise for Async process, to signal success/failure.\n          return startCapability.promise;\n        },\n\n        pull: controller => {\n          const pullCapability = createPromiseCapability();\n          this.streamControllers[streamId].pullCall = pullCapability;\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL,\n            streamId,\n            desiredSize: controller.desiredSize,\n          });\n          // Returning Promise will not call \"pull\"\n          // again until current pull is resolved.\n          return pullCapability.promise;\n        },\n\n        cancel: reason => {\n          assert(reason instanceof Error, \"cancel must have a valid reason\");\n          const cancelCapability = createPromiseCapability();\n          this.streamControllers[streamId].cancelCall = cancelCapability;\n          this.streamControllers[streamId].isClosed = true;\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL,\n            streamId,\n            reason: wrapReason(reason),\n          });\n          // Return Promise to signal success or failure.\n          return cancelCapability.promise;\n        },\n      },\n      queueingStrategy\n    );\n  }\n\n  /**\n   * @private\n   */\n  _createStreamSink(data) {\n    const self = this;\n    const action = this.actionHandler[data.action];\n    const streamId = data.streamId;\n    const sourceName = this.sourceName;\n    const targetName = data.sourceName;\n    const comObj = this.comObj;\n\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        // Enqueue decreases the desiredSize property of sink,\n        // so when it changes from positive to negative,\n        // set ready as unresolved promise.\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = createPromiseCapability();\n          this.ready = this.sinkCapability.promise;\n        }\n        self._postMessage(\n          {\n            sourceName,\n            targetName,\n            stream: StreamKind.ENQUEUE,\n            streamId,\n            chunk,\n          },\n          transfers\n        );\n      },\n\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId,\n        });\n        delete self.streamSinks[streamId];\n      },\n\n      error(reason) {\n        assert(reason instanceof Error, \"error must have a valid reason\");\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason),\n        });\n      },\n\n      sinkCapability: createPromiseCapability(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null,\n    };\n\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n    new Promise(function (resolve) {\n      resolve(action(data.data, streamSink));\n    }).then(\n      function () {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.START_COMPLETE,\n          streamId,\n          success: true,\n        });\n      },\n      function (reason) {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.START_COMPLETE,\n          streamId,\n          reason: wrapReason(reason),\n        });\n      }\n    );\n  }\n\n  /**\n   * @private\n   */\n  _processStreamMessage(data) {\n    const streamId = data.streamId;\n    const sourceName = this.sourceName;\n    const targetName = data.sourceName;\n    const comObj = this.comObj;\n\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          this.streamControllers[streamId].startCall.resolve();\n        } else {\n          this.streamControllers[streamId].startCall.reject(\n            wrapReason(data.reason)\n          );\n        }\n        break;\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          this.streamControllers[streamId].pullCall.resolve();\n        } else {\n          this.streamControllers[streamId].pullCall.reject(\n            wrapReason(data.reason)\n          );\n        }\n        break;\n      case StreamKind.PULL:\n        // Ignore any pull after close is called.\n        if (!this.streamSinks[streamId]) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true,\n          });\n          break;\n        }\n        // Pull increases the desiredSize property of sink,\n        // so when it changes from negative to positive,\n        // set ready property as resolved promise.\n        if (\n          this.streamSinks[streamId].desiredSize <= 0 &&\n          data.desiredSize > 0\n        ) {\n          this.streamSinks[streamId].sinkCapability.resolve();\n        }\n        // Reset desiredSize property of sink on every pull.\n        this.streamSinks[streamId].desiredSize = data.desiredSize;\n        const { onPull } = this.streamSinks[data.streamId];\n        new Promise(function (resolve) {\n          resolve(onPull && onPull());\n        }).then(\n          function () {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.PULL_COMPLETE,\n              streamId,\n              success: true,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.PULL_COMPLETE,\n              streamId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        break;\n      case StreamKind.ENQUEUE:\n        assert(\n          this.streamControllers[streamId],\n          \"enqueue should have stream controller\"\n        );\n        if (this.streamControllers[streamId].isClosed) {\n          break;\n        }\n        this.streamControllers[streamId].controller.enqueue(data.chunk);\n        break;\n      case StreamKind.CLOSE:\n        assert(\n          this.streamControllers[streamId],\n          \"close should have stream controller\"\n        );\n        if (this.streamControllers[streamId].isClosed) {\n          break;\n        }\n        this.streamControllers[streamId].isClosed = true;\n        this.streamControllers[streamId].controller.close();\n        this._deleteStreamController(streamId);\n        break;\n      case StreamKind.ERROR:\n        assert(\n          this.streamControllers[streamId],\n          \"error should have stream controller\"\n        );\n        this.streamControllers[streamId].controller.error(\n          wrapReason(data.reason)\n        );\n        this._deleteStreamController(streamId);\n        break;\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          this.streamControllers[streamId].cancelCall.resolve();\n        } else {\n          this.streamControllers[streamId].cancelCall.reject(\n            wrapReason(data.reason)\n          );\n        }\n        this._deleteStreamController(streamId);\n        break;\n      case StreamKind.CANCEL:\n        if (!this.streamSinks[streamId]) {\n          break;\n        }\n        const { onCancel } = this.streamSinks[data.streamId];\n        new Promise(function (resolve) {\n          resolve(onCancel && onCancel(wrapReason(data.reason)));\n        }).then(\n          function () {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.CANCEL_COMPLETE,\n              streamId,\n              success: true,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.CANCEL_COMPLETE,\n              streamId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        this.streamSinks[streamId].sinkCapability.reject(\n          wrapReason(data.reason)\n        );\n        this.streamSinks[streamId].isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n\n  /**\n   * @private\n   */\n  async _deleteStreamController(streamId) {\n    // Delete the `streamController` only when the start, pull, and cancel\n    // capabilities have settled, to prevent `TypeError`s.\n    await Promise.allSettled(\n      [\n        this.streamControllers[streamId].startCall,\n        this.streamControllers[streamId].pullCall,\n        this.streamControllers[streamId].cancelCall,\n      ].map(function (capability) {\n        return capability && capability.promise;\n      })\n    );\n    delete this.streamControllers[streamId];\n  }\n\n  /**\n   * Sends raw message to the comObj.\n   * @param {Object} message - Raw message.\n   * @param transfers List of transfers/ArrayBuffers, or undefined.\n   * @private\n   */\n  _postMessage(message, transfers) {\n    if (transfers && this.postMessageTransfers) {\n      this.comObj.postMessage(message, transfers);\n    } else {\n      this.comObj.postMessage(message);\n    }\n  }\n\n  destroy() {\n    this.comObj.removeEventListener(\"message\", this._onComObjOnMessage);\n  }\n}\n\nexport { MessageHandler };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert, objectFromEntries } from \"../shared/util.js\";\nimport { SimpleXMLParser } from \"../shared/xml_parser.js\";\n\nclass Metadata {\n  constructor(data) {\n    assert(typeof data === \"string\", \"Metadata: input is not a string\");\n\n    // Ghostscript may produce invalid metadata, so try to repair that first.\n    data = this._repair(data);\n\n    // Convert the string to an XML document.\n    const parser = new SimpleXMLParser({ lowerCaseName: true });\n    const xmlDocument = parser.parseFromString(data);\n\n    this._metadataMap = new Map();\n\n    if (xmlDocument) {\n      this._parse(xmlDocument);\n    }\n    this._data = data;\n  }\n\n  _repair(data) {\n    // Start by removing any \"junk\" before the first tag (see issue 10395).\n    return data\n      .replace(/^[^<]+/, \"\")\n      .replace(/>\\\\376\\\\377([^<]+)/g, function (all, codes) {\n        const bytes = codes\n          .replace(/\\\\([0-3])([0-7])([0-7])/g, function (code, d1, d2, d3) {\n            return String.fromCharCode(d1 * 64 + d2 * 8 + d3 * 1);\n          })\n          .replace(/&(amp|apos|gt|lt|quot);/g, function (str, name) {\n            switch (name) {\n              case \"amp\":\n                return \"&\";\n              case \"apos\":\n                return \"'\";\n              case \"gt\":\n                return \">\";\n              case \"lt\":\n                return \"<\";\n              case \"quot\":\n                return '\"';\n            }\n            throw new Error(`_repair: ${name} isn't defined.`);\n          });\n\n        let chars = \"\";\n        for (let i = 0, ii = bytes.length; i < ii; i += 2) {\n          const code = bytes.charCodeAt(i) * 256 + bytes.charCodeAt(i + 1);\n          if (\n            code >= /* Space = */ 32 &&\n            code < /* Delete = */ 127 &&\n            code !== /* '<' = */ 60 &&\n            code !== /* '>' = */ 62 &&\n            code !== /* '&' = */ 38\n          ) {\n            chars += String.fromCharCode(code);\n          } else {\n            chars += \"&#x\" + (0x10000 + code).toString(16).substring(1) + \";\";\n          }\n        }\n\n        return \">\" + chars;\n      });\n  }\n\n  _getSequence(entry) {\n    const name = entry.nodeName;\n    if (name !== \"rdf:bag\" && name !== \"rdf:seq\" && name !== \"rdf:alt\") {\n      return null;\n    }\n\n    return entry.childNodes.filter(node => node.nodeName === \"rdf:li\");\n  }\n\n  _getCreators(entry) {\n    if (entry.nodeName !== \"dc:creator\") {\n      return false;\n    }\n    if (!entry.hasChildNodes()) {\n      return true;\n    }\n\n    // Child must be a Bag (unordered array) or a Seq.\n    const seqNode = entry.childNodes[0];\n    const authors = this._getSequence(seqNode) || [];\n    this._metadataMap.set(\n      entry.nodeName,\n      authors.map(node => node.textContent.trim())\n    );\n\n    return true;\n  }\n\n  _parse(xmlDocument) {\n    let rdf = xmlDocument.documentElement;\n\n    if (rdf.nodeName !== \"rdf:rdf\") {\n      // Wrapped in <xmpmeta>\n      rdf = rdf.firstChild;\n      while (rdf && rdf.nodeName !== \"rdf:rdf\") {\n        rdf = rdf.nextSibling;\n      }\n    }\n\n    if (!rdf || rdf.nodeName !== \"rdf:rdf\" || !rdf.hasChildNodes()) {\n      return;\n    }\n\n    for (const desc of rdf.childNodes) {\n      if (desc.nodeName !== \"rdf:description\") {\n        continue;\n      }\n\n      for (const entry of desc.childNodes) {\n        const name = entry.nodeName;\n        if (name === \"#text\") {\n          continue;\n        }\n        if (this._getCreators(entry)) {\n          continue;\n        }\n        this._metadataMap.set(name, entry.textContent.trim());\n      }\n    }\n  }\n\n  getRaw() {\n    return this._data;\n  }\n\n  get(name) {\n    return this._metadataMap.get(name) ?? null;\n  }\n\n  getAll() {\n    return objectFromEntries(this._metadataMap);\n  }\n\n  has(name) {\n    return this._metadataMap.has(name);\n  }\n}\n\nexport { Metadata };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// The code for XMLParserBase copied from\n// https://github.com/mozilla/shumway/blob/16451d8836fa85f4b16eeda8b4bda2fa9e2b22b0/src/avm2/natives/xml.ts\n\nimport { encodeToXmlString } from \"./util.js\";\n\nconst XMLParserErrorCode = {\n  NoError: 0,\n  EndOfDocument: -1,\n  UnterminatedCdat: -2,\n  UnterminatedXmlDeclaration: -3,\n  UnterminatedDoctypeDeclaration: -4,\n  UnterminatedComment: -5,\n  MalformedElement: -6,\n  OutOfMemory: -7,\n  UnterminatedAttributeValue: -8,\n  UnterminatedElement: -9,\n  ElementNeverBegun: -10,\n};\n\nfunction isWhitespace(s, index) {\n  const ch = s[index];\n  return ch === \" \" || ch === \"\\n\" || ch === \"\\r\" || ch === \"\\t\";\n}\n\nfunction isWhitespaceString(s) {\n  for (let i = 0, ii = s.length; i < ii; i++) {\n    if (!isWhitespace(s, i)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nclass XMLParserBase {\n  _resolveEntities(s) {\n    return s.replace(/&([^;]+);/g, (all, entity) => {\n      if (entity.substring(0, 2) === \"#x\") {\n        return String.fromCodePoint(parseInt(entity.substring(2), 16));\n      } else if (entity.substring(0, 1) === \"#\") {\n        return String.fromCodePoint(parseInt(entity.substring(1), 10));\n      }\n      switch (entity) {\n        case \"lt\":\n          return \"<\";\n        case \"gt\":\n          return \">\";\n        case \"amp\":\n          return \"&\";\n        case \"quot\":\n          return '\"';\n      }\n      return this.onResolveEntity(entity);\n    });\n  }\n\n  _parseContent(s, start) {\n    const attributes = [];\n    let pos = start;\n\n    function skipWs() {\n      while (pos < s.length && isWhitespace(s, pos)) {\n        ++pos;\n      }\n    }\n\n    while (\n      pos < s.length &&\n      !isWhitespace(s, pos) &&\n      s[pos] !== \">\" &&\n      s[pos] !== \"/\"\n    ) {\n      ++pos;\n    }\n    const name = s.substring(start, pos);\n    skipWs();\n    while (\n      pos < s.length &&\n      s[pos] !== \">\" &&\n      s[pos] !== \"/\" &&\n      s[pos] !== \"?\"\n    ) {\n      skipWs();\n      let attrName = \"\",\n        attrValue = \"\";\n      while (pos < s.length && !isWhitespace(s, pos) && s[pos] !== \"=\") {\n        attrName += s[pos];\n        ++pos;\n      }\n      skipWs();\n      if (s[pos] !== \"=\") {\n        return null;\n      }\n      ++pos;\n      skipWs();\n      const attrEndChar = s[pos];\n      if (attrEndChar !== '\"' && attrEndChar !== \"'\") {\n        return null;\n      }\n      const attrEndIndex = s.indexOf(attrEndChar, ++pos);\n      if (attrEndIndex < 0) {\n        return null;\n      }\n      attrValue = s.substring(pos, attrEndIndex);\n      attributes.push({\n        name: attrName,\n        value: this._resolveEntities(attrValue),\n      });\n      pos = attrEndIndex + 1;\n      skipWs();\n    }\n    return {\n      name,\n      attributes,\n      parsed: pos - start,\n    };\n  }\n\n  _parseProcessingInstruction(s, start) {\n    let pos = start;\n\n    function skipWs() {\n      while (pos < s.length && isWhitespace(s, pos)) {\n        ++pos;\n      }\n    }\n\n    while (\n      pos < s.length &&\n      !isWhitespace(s, pos) &&\n      s[pos] !== \">\" &&\n      s[pos] !== \"/\"\n    ) {\n      ++pos;\n    }\n    const name = s.substring(start, pos);\n    skipWs();\n    const attrStart = pos;\n    while (pos < s.length && (s[pos] !== \"?\" || s[pos + 1] !== \">\")) {\n      ++pos;\n    }\n    const value = s.substring(attrStart, pos);\n    return {\n      name,\n      value,\n      parsed: pos - start,\n    };\n  }\n\n  parseXml(s) {\n    let i = 0;\n    while (i < s.length) {\n      const ch = s[i];\n      let j = i;\n      if (ch === \"<\") {\n        ++j;\n        const ch2 = s[j];\n        let q;\n        switch (ch2) {\n          case \"/\":\n            ++j;\n            q = s.indexOf(\">\", j);\n            if (q < 0) {\n              this.onError(XMLParserErrorCode.UnterminatedElement);\n              return;\n            }\n            this.onEndElement(s.substring(j, q));\n            j = q + 1;\n            break;\n          case \"?\":\n            ++j;\n            const pi = this._parseProcessingInstruction(s, j);\n            if (s.substring(j + pi.parsed, j + pi.parsed + 2) !== \"?>\") {\n              this.onError(XMLParserErrorCode.UnterminatedXmlDeclaration);\n              return;\n            }\n            this.onPi(pi.name, pi.value);\n            j += pi.parsed + 2;\n            break;\n          case \"!\":\n            if (s.substring(j + 1, j + 3) === \"--\") {\n              q = s.indexOf(\"-->\", j + 3);\n              if (q < 0) {\n                this.onError(XMLParserErrorCode.UnterminatedComment);\n                return;\n              }\n              this.onComment(s.substring(j + 3, q));\n              j = q + 3;\n            } else if (s.substring(j + 1, j + 8) === \"[CDATA[\") {\n              q = s.indexOf(\"]]>\", j + 8);\n              if (q < 0) {\n                this.onError(XMLParserErrorCode.UnterminatedCdat);\n                return;\n              }\n              this.onCdata(s.substring(j + 8, q));\n              j = q + 3;\n            } else if (s.substring(j + 1, j + 8) === \"DOCTYPE\") {\n              const q2 = s.indexOf(\"[\", j + 8);\n              let complexDoctype = false;\n              q = s.indexOf(\">\", j + 8);\n              if (q < 0) {\n                this.onError(XMLParserErrorCode.UnterminatedDoctypeDeclaration);\n                return;\n              }\n              if (q2 > 0 && q > q2) {\n                q = s.indexOf(\"]>\", j + 8);\n                if (q < 0) {\n                  this.onError(\n                    XMLParserErrorCode.UnterminatedDoctypeDeclaration\n                  );\n                  return;\n                }\n                complexDoctype = true;\n              }\n              const doctypeContent = s.substring(\n                j + 8,\n                q + (complexDoctype ? 1 : 0)\n              );\n              this.onDoctype(doctypeContent);\n              j = q + (complexDoctype ? 2 : 1);\n            } else {\n              this.onError(XMLParserErrorCode.MalformedElement);\n              return;\n            }\n            break;\n          default:\n            const content = this._parseContent(s, j);\n            if (content === null) {\n              this.onError(XMLParserErrorCode.MalformedElement);\n              return;\n            }\n            let isClosed = false;\n            if (\n              s.substring(j + content.parsed, j + content.parsed + 2) === \"/>\"\n            ) {\n              isClosed = true;\n            } else if (\n              s.substring(j + content.parsed, j + content.parsed + 1) !== \">\"\n            ) {\n              this.onError(XMLParserErrorCode.UnterminatedElement);\n              return;\n            }\n            this.onBeginElement(content.name, content.attributes, isClosed);\n            j += content.parsed + (isClosed ? 2 : 1);\n            break;\n        }\n      } else {\n        while (j < s.length && s[j] !== \"<\") {\n          j++;\n        }\n        const text = s.substring(i, j);\n        this.onText(this._resolveEntities(text));\n      }\n      i = j;\n    }\n  }\n\n  onResolveEntity(name) {\n    return `&${name};`;\n  }\n\n  onPi(name, value) {}\n\n  onComment(text) {}\n\n  onCdata(text) {}\n\n  onDoctype(doctypeContent) {}\n\n  onText(text) {}\n\n  onBeginElement(name, attributes, isEmpty) {}\n\n  onEndElement(name) {}\n\n  onError(code) {}\n}\n\nclass SimpleDOMNode {\n  constructor(nodeName, nodeValue) {\n    this.nodeName = nodeName;\n    this.nodeValue = nodeValue;\n\n    Object.defineProperty(this, \"parentNode\", { value: null, writable: true });\n  }\n\n  get firstChild() {\n    return this.childNodes && this.childNodes[0];\n  }\n\n  get nextSibling() {\n    const childNodes = this.parentNode.childNodes;\n    if (!childNodes) {\n      return undefined;\n    }\n    const index = childNodes.indexOf(this);\n    if (index === -1) {\n      return undefined;\n    }\n    return childNodes[index + 1];\n  }\n\n  get textContent() {\n    if (!this.childNodes) {\n      return this.nodeValue || \"\";\n    }\n    return this.childNodes\n      .map(function (child) {\n        return child.textContent;\n      })\n      .join(\"\");\n  }\n\n  hasChildNodes() {\n    return this.childNodes && this.childNodes.length > 0;\n  }\n\n  /**\n   * Search a node in the tree with the given path\n   * foo.bar[nnn], i.e. find the nnn-th node named\n   * bar under a node named foo.\n   *\n   * @param {Array} paths - an array of objects as\n   * returned by {parseXFAPath}.\n   * @param {number} pos - the current position in\n   * the paths array.\n   * @returns {SimpleDOMNode} The node corresponding\n   * to the path or null if not found.\n   */\n  searchNode(paths, pos) {\n    if (pos >= paths.length) {\n      return this;\n    }\n\n    const component = paths[pos];\n    const stack = [];\n    let node = this;\n\n    while (true) {\n      if (component.name === node.nodeName) {\n        if (component.pos === 0) {\n          const res = node.searchNode(paths, pos + 1);\n          if (res !== null) {\n            return res;\n          }\n        } else if (stack.length === 0) {\n          return null;\n        } else {\n          const [parent] = stack.pop();\n          let siblingPos = 0;\n          for (const child of parent.childNodes) {\n            if (component.name === child.nodeName) {\n              if (siblingPos === component.pos) {\n                return child.searchNode(paths, pos + 1);\n              }\n              siblingPos++;\n            }\n          }\n          // We didn't find the correct sibling\n          // so just return the first found node\n          return node.searchNode(paths, pos + 1);\n        }\n      }\n\n      if (node.childNodes && node.childNodes.length !== 0) {\n        stack.push([node, 0]);\n        node = node.childNodes[0];\n      } else if (stack.length === 0) {\n        return null;\n      } else {\n        while (stack.length !== 0) {\n          const [parent, currentPos] = stack.pop();\n          const newPos = currentPos + 1;\n          if (newPos < parent.childNodes.length) {\n            stack.push([parent, newPos]);\n            node = parent.childNodes[newPos];\n            break;\n          }\n        }\n        if (stack.length === 0) {\n          return null;\n        }\n      }\n    }\n  }\n\n  dump(buffer) {\n    if (this.nodeName === \"#text\") {\n      buffer.push(encodeToXmlString(this.nodeValue));\n      return;\n    }\n\n    buffer.push(`<${this.nodeName}`);\n    if (this.attributes) {\n      for (const attribute of this.attributes) {\n        buffer.push(\n          ` ${attribute.name}=\"${encodeToXmlString(attribute.value)}\"`\n        );\n      }\n    }\n    if (this.hasChildNodes()) {\n      buffer.push(\">\");\n      for (const child of this.childNodes) {\n        child.dump(buffer);\n      }\n      buffer.push(`</${this.nodeName}>`);\n    } else if (this.nodeValue) {\n      buffer.push(`>${encodeToXmlString(this.nodeValue)}</${this.nodeName}>`);\n    } else {\n      buffer.push(\"/>\");\n    }\n  }\n}\n\nclass SimpleXMLParser extends XMLParserBase {\n  constructor({ hasAttributes = false, lowerCaseName = false }) {\n    super();\n    this._currentFragment = null;\n    this._stack = null;\n    this._errorCode = XMLParserErrorCode.NoError;\n    this._hasAttributes = hasAttributes;\n    this._lowerCaseName = lowerCaseName;\n  }\n\n  parseFromString(data) {\n    this._currentFragment = [];\n    this._stack = [];\n    this._errorCode = XMLParserErrorCode.NoError;\n\n    this.parseXml(data);\n\n    if (this._errorCode !== XMLParserErrorCode.NoError) {\n      return undefined; // return undefined on error\n    }\n\n    // We should only have one root.\n    const [documentElement] = this._currentFragment;\n    if (!documentElement) {\n      return undefined; // Return undefined if no root was found.\n    }\n    return { documentElement };\n  }\n\n  onResolveEntity(name) {\n    switch (name) {\n      case \"apos\":\n        return \"'\";\n    }\n    return super.onResolveEntity(name);\n  }\n\n  onText(text) {\n    if (isWhitespaceString(text)) {\n      return;\n    }\n    const node = new SimpleDOMNode(\"#text\", text);\n    this._currentFragment.push(node);\n  }\n\n  onCdata(text) {\n    const node = new SimpleDOMNode(\"#text\", text);\n    this._currentFragment.push(node);\n  }\n\n  onBeginElement(name, attributes, isEmpty) {\n    if (this._lowerCaseName) {\n      name = name.toLowerCase();\n    }\n    const node = new SimpleDOMNode(name);\n    node.childNodes = [];\n    if (this._hasAttributes) {\n      node.attributes = attributes;\n    }\n    this._currentFragment.push(node);\n    if (isEmpty) {\n      return;\n    }\n    this._stack.push(this._currentFragment);\n    this._currentFragment = node.childNodes;\n  }\n\n  onEndElement(name) {\n    this._currentFragment = this._stack.pop() || [];\n    const lastElement = this._currentFragment[this._currentFragment.length - 1];\n    if (!lastElement) {\n      return;\n    }\n    for (let i = 0, ii = lastElement.childNodes.length; i < ii; i++) {\n      lastElement.childNodes[i].parentNode = lastElement;\n    }\n  }\n\n  onError(code) {\n    this._errorCode = code;\n  }\n}\n\nexport { SimpleDOMNode, SimpleXMLParser };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { objectFromEntries, warn } from \"../shared/util.js\";\n\nclass OptionalContentGroup {\n  constructor(name, intent) {\n    this.visible = true;\n    this.name = name;\n    this.intent = intent;\n  }\n}\n\nclass OptionalContentConfig {\n  constructor(data) {\n    this.name = null;\n    this.creator = null;\n    this._order = null;\n    this._groups = new Map();\n\n    if (data === null) {\n      return;\n    }\n    this.name = data.name;\n    this.creator = data.creator;\n    this._order = data.order;\n    for (const group of data.groups) {\n      this._groups.set(\n        group.id,\n        new OptionalContentGroup(group.name, group.intent)\n      );\n    }\n\n    if (data.baseState === \"OFF\") {\n      for (const group of this._groups) {\n        group.visible = false;\n      }\n    }\n\n    for (const on of data.on) {\n      this._groups.get(on).visible = true;\n    }\n\n    for (const off of data.off) {\n      this._groups.get(off).visible = false;\n    }\n  }\n\n  isVisible(group) {\n    if (group.type === \"OCG\") {\n      if (!this._groups.has(group.id)) {\n        warn(`Optional content group not found: ${group.id}`);\n        return true;\n      }\n      return this._groups.get(group.id).visible;\n    } else if (group.type === \"OCMD\") {\n      // Per the spec, the expression should be preferred if available. Until\n      // we implement this, just fallback to using the group policy for now.\n      if (group.expression) {\n        warn(\"Visibility expression not supported yet.\");\n      }\n      if (!group.policy || group.policy === \"AnyOn\") {\n        // Default\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this._groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOn\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this._groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      } else if (group.policy === \"AnyOff\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this._groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOff\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this._groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      }\n      warn(`Unknown optional content policy ${group.policy}.`);\n      return true;\n    }\n    warn(`Unknown group type ${group.type}.`);\n    return true;\n  }\n\n  setVisibility(id, visible = true) {\n    if (!this._groups.has(id)) {\n      warn(`Optional content group not found: ${id}`);\n      return;\n    }\n    this._groups.get(id).visible = !!visible;\n  }\n\n  getOrder() {\n    if (!this._groups.size) {\n      return null;\n    }\n    if (this._order) {\n      return this._order.slice();\n    }\n    return Array.from(this._groups.keys());\n  }\n\n  getGroups() {\n    if (!this._groups.size) {\n      return null;\n    }\n    return objectFromEntries(this._groups);\n  }\n\n  getGroup(id) {\n    return this._groups.get(id) || null;\n  }\n}\n\nexport { OptionalContentConfig };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert, createPromiseCapability } from \"../shared/util.js\";\n\n/** @implements {IPDFStream} */\nclass PDFDataTransportStream {\n  constructor(params, pdfDataRangeTransport) {\n    assert(\n      pdfDataRangeTransport,\n      'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.'\n    );\n\n    this._queuedChunks = [];\n    this._progressiveDone = params.progressiveDone || false;\n\n    const initialData = params.initialData;\n    if (initialData?.length > 0) {\n      const buffer = new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !params.disableStream;\n    this._isRangeSupported = !params.disableRange;\n    this._contentLength = params.length;\n\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n\n    this._pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({ begin, chunk });\n    });\n\n    this._pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({ loaded, total });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({ chunk });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n\n    this._pdfDataRangeTransport.transportReady();\n  }\n\n  _onReceiveData(args) {\n    const buffer = new Uint8Array(args.chunk).buffer;\n    if (args.begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function (rangeReader) {\n        if (rangeReader._begin !== args.begin) {\n          return false;\n        }\n        rangeReader._enqueue(buffer);\n        return true;\n      });\n      assert(\n        found,\n        \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\"\n      );\n    }\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      // Reporting to first range reader, if it exists.\n      const firstReader = this._rangeReaders[0];\n      if (firstReader?.onProgress) {\n        firstReader.onProgress({ loaded: evt.loaded });\n      }\n    } else {\n      const fullReader = this._fullRequestReader;\n      if (fullReader?.onProgress) {\n        fullReader.onProgress({ loaded: evt.loaded, total: evt.total });\n      }\n    }\n  }\n\n  _onProgressiveDone() {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.progressiveDone();\n    }\n    this._progressiveDone = true;\n  }\n\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFDataTransportStream.getFullReader can only be called once.\"\n    );\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(\n      this,\n      queuedChunks,\n      this._progressiveDone\n    );\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n    this._rangeReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    const readers = this._rangeReaders.slice(0);\n    readers.forEach(function (rangeReader) {\n      rangeReader.cancel(reason);\n    });\n    this._pdfDataRangeTransport.abort();\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFDataTransportStreamReader {\n  constructor(stream, queuedChunks, progressiveDone = false) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return; // Ignore new data.\n    }\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n    this._loaded += chunk.byteLength;\n  }\n\n  get headersReady() {\n    return this._headersReady;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n  }\n\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n    this._done = true;\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return; // ignore new data\n    }\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n      requestsCapability.resolve({ value: chunk, done: false });\n      this._requests.forEach(function (requestCapability) {\n        requestCapability.resolve({ value: undefined, done: true });\n      });\n      this._requests = [];\n    }\n    this._done = true;\n    this._stream._removeRangeReader(this);\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n    this._stream._removeRangeReader(this);\n  }\n}\n\nexport { PDFDataTransportStream };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable no-multi-str */\n\nimport { shadow } from \"../shared/util.js\";\n\nclass WebGLContext {\n  constructor({ enable = false }) {\n    this._enabled = enable === true;\n  }\n\n  get isEnabled() {\n    let enabled = this._enabled;\n    if (enabled) {\n      enabled = WebGLUtils.tryInitGL();\n    }\n    return shadow(this, \"isEnabled\", enabled);\n  }\n\n  composeSMask({ layer, mask, properties }) {\n    return WebGLUtils.composeSMask(layer, mask, properties);\n  }\n\n  drawFigures({ width, height, backgroundColor, figures, context }) {\n    return WebGLUtils.drawFigures(\n      width,\n      height,\n      backgroundColor,\n      figures,\n      context\n    );\n  }\n\n  clear() {\n    WebGLUtils.cleanup();\n  }\n}\n\nconst WebGLUtils = (function WebGLUtilsClosure() {\n  function loadShader(gl, code, shaderType) {\n    const shader = gl.createShader(shaderType);\n    gl.shaderSource(shader, code);\n    gl.compileShader(shader);\n    const compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    if (!compiled) {\n      const errorMsg = gl.getShaderInfoLog(shader);\n      throw new Error(\"Error during shader compilation: \" + errorMsg);\n    }\n    return shader;\n  }\n  function createVertexShader(gl, code) {\n    return loadShader(gl, code, gl.VERTEX_SHADER);\n  }\n  function createFragmentShader(gl, code) {\n    return loadShader(gl, code, gl.FRAGMENT_SHADER);\n  }\n  function createProgram(gl, shaders) {\n    const program = gl.createProgram();\n    for (let i = 0, ii = shaders.length; i < ii; ++i) {\n      gl.attachShader(program, shaders[i]);\n    }\n    gl.linkProgram(program);\n    const linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (!linked) {\n      const errorMsg = gl.getProgramInfoLog(program);\n      throw new Error(\"Error during program linking: \" + errorMsg);\n    }\n    return program;\n  }\n  function createTexture(gl, image, textureId) {\n    gl.activeTexture(textureId);\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n\n    // Set the parameters so we can render any size image.\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n    // Upload the image into the texture.\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n    return texture;\n  }\n\n  let currentGL, currentCanvas;\n  function generateGL() {\n    if (currentGL) {\n      return;\n    }\n\n    // The temporary canvas is used in the WebGL context.\n    currentCanvas = document.createElement(\"canvas\");\n    currentGL = currentCanvas.getContext(\"webgl\", {\n      premultipliedalpha: false,\n    });\n  }\n\n  const smaskVertexShaderCode =\n    \"\\\n  attribute vec2 a_position;                                    \\\n  attribute vec2 a_texCoord;                                    \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;   \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_texCoord = a_texCoord;                                    \\\n  }                                                             \";\n\n  const smaskFragmentShaderCode =\n    \"\\\n  precision mediump float;                                      \\\n                                                                \\\n  uniform vec4 u_backdrop;                                      \\\n  uniform int u_subtype;                                        \\\n  uniform sampler2D u_image;                                    \\\n  uniform sampler2D u_mask;                                     \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec4 imageColor = texture2D(u_image, v_texCoord);           \\\n    vec4 maskColor = texture2D(u_mask, v_texCoord);             \\\n    if (u_backdrop.a > 0.0) {                                   \\\n      maskColor.rgb = maskColor.rgb * maskColor.a +             \\\n                      u_backdrop.rgb * (1.0 - maskColor.a);     \\\n    }                                                           \\\n    float lum;                                                  \\\n    if (u_subtype == 0) {                                       \\\n      lum = maskColor.a;                                        \\\n    } else {                                                    \\\n      lum = maskColor.r * 0.3 + maskColor.g * 0.59 +            \\\n            maskColor.b * 0.11;                                 \\\n    }                                                           \\\n    imageColor.a *= lum;                                        \\\n    imageColor.rgb *= imageColor.a;                             \\\n    gl_FragColor = imageColor;                                  \\\n  }                                                             \";\n\n  let smaskCache = null;\n\n  function initSmaskGL() {\n    generateGL();\n    const canvas = currentCanvas;\n    currentCanvas = null;\n    const gl = currentGL;\n    currentGL = null;\n\n    // setup a GLSL program\n    const vertexShader = createVertexShader(gl, smaskVertexShaderCode);\n    const fragmentShader = createFragmentShader(gl, smaskFragmentShaderCode);\n    const program = createProgram(gl, [vertexShader, fragmentShader]);\n    gl.useProgram(program);\n\n    const cache = {};\n    cache.gl = gl;\n    cache.canvas = canvas;\n    cache.resolutionLocation = gl.getUniformLocation(program, \"u_resolution\");\n    cache.positionLocation = gl.getAttribLocation(program, \"a_position\");\n    cache.backdropLocation = gl.getUniformLocation(program, \"u_backdrop\");\n    cache.subtypeLocation = gl.getUniformLocation(program, \"u_subtype\");\n\n    const texCoordLocation = gl.getAttribLocation(program, \"a_texCoord\");\n    const texLayerLocation = gl.getUniformLocation(program, \"u_image\");\n    const texMaskLocation = gl.getUniformLocation(program, \"u_mask\");\n\n    // provide texture coordinates for the rectangle.\n    const texCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    // prettier-ignore\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      0.0, 0.0,\n      1.0, 0.0,\n      0.0, 1.0,\n      0.0, 1.0,\n      1.0, 0.0,\n      1.0, 1.0]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(texCoordLocation);\n    gl.vertexAttribPointer(texCoordLocation, 2, gl.FLOAT, false, 0, 0);\n\n    gl.uniform1i(texLayerLocation, 0);\n    gl.uniform1i(texMaskLocation, 1);\n\n    smaskCache = cache;\n  }\n\n  function composeSMask(layer, mask, properties) {\n    const width = layer.width,\n      height = layer.height;\n\n    if (!smaskCache) {\n      initSmaskGL();\n    }\n    const cache = smaskCache,\n      canvas = cache.canvas,\n      gl = cache.gl;\n    canvas.width = width;\n    canvas.height = height;\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.uniform2f(cache.resolutionLocation, width, height);\n\n    if (properties.backdrop) {\n      gl.uniform4f(\n        cache.resolutionLocation,\n        properties.backdrop[0],\n        properties.backdrop[1],\n        properties.backdrop[2],\n        1\n      );\n    } else {\n      gl.uniform4f(cache.resolutionLocation, 0, 0, 0, 0);\n    }\n    gl.uniform1i(\n      cache.subtypeLocation,\n      properties.subtype === \"Luminosity\" ? 1 : 0\n    );\n\n    // Create a textures\n    const texture = createTexture(gl, layer, gl.TEXTURE0);\n    const maskTexture = createTexture(gl, mask, gl.TEXTURE1);\n\n    // Create a buffer and put a single clipspace rectangle in\n    // it (2 triangles)\n    const buffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    // prettier-ignore\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      0, 0,\n      width, 0,\n      0, height,\n      0, height,\n      width, 0,\n      width, height]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.positionLocation);\n    gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n    // draw\n    gl.clearColor(0, 0, 0, 0);\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n    gl.flush();\n\n    gl.deleteTexture(texture);\n    gl.deleteTexture(maskTexture);\n    gl.deleteBuffer(buffer);\n\n    return canvas;\n  }\n\n  const figuresVertexShaderCode =\n    \"\\\n  attribute vec2 a_position;                                    \\\n  attribute vec3 a_color;                                       \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n  uniform vec2 u_scale;                                         \\\n  uniform vec2 u_offset;                                        \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 position = (a_position + u_offset) * u_scale;          \\\n    vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;     \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_color = vec4(a_color / 255.0, 1.0);                       \\\n  }                                                             \";\n\n  const figuresFragmentShaderCode =\n    \"\\\n  precision mediump float;                                      \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    gl_FragColor = v_color;                                     \\\n  }                                                             \";\n\n  let figuresCache = null;\n\n  function initFiguresGL() {\n    generateGL();\n    const canvas = currentCanvas;\n    currentCanvas = null;\n    const gl = currentGL;\n    currentGL = null;\n\n    // setup a GLSL program\n    const vertexShader = createVertexShader(gl, figuresVertexShaderCode);\n    const fragmentShader = createFragmentShader(gl, figuresFragmentShaderCode);\n    const program = createProgram(gl, [vertexShader, fragmentShader]);\n    gl.useProgram(program);\n\n    const cache = {};\n    cache.gl = gl;\n    cache.canvas = canvas;\n    cache.resolutionLocation = gl.getUniformLocation(program, \"u_resolution\");\n    cache.scaleLocation = gl.getUniformLocation(program, \"u_scale\");\n    cache.offsetLocation = gl.getUniformLocation(program, \"u_offset\");\n    cache.positionLocation = gl.getAttribLocation(program, \"a_position\");\n    cache.colorLocation = gl.getAttribLocation(program, \"a_color\");\n\n    figuresCache = cache;\n  }\n\n  function drawFigures(width, height, backgroundColor, figures, context) {\n    if (!figuresCache) {\n      initFiguresGL();\n    }\n    const cache = figuresCache,\n      canvas = cache.canvas,\n      gl = cache.gl;\n\n    canvas.width = width;\n    canvas.height = height;\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.uniform2f(cache.resolutionLocation, width, height);\n\n    // count triangle points\n    let count = 0;\n    for (let i = 0, ii = figures.length; i < ii; i++) {\n      switch (figures[i].type) {\n        case \"lattice\":\n          const rows =\n            (figures[i].coords.length / figures[i].verticesPerRow) | 0;\n          count += (rows - 1) * (figures[i].verticesPerRow - 1) * 6;\n          break;\n        case \"triangles\":\n          count += figures[i].coords.length;\n          break;\n      }\n    }\n    // transfer data\n    const coords = new Float32Array(count * 2);\n    const colors = new Uint8Array(count * 3);\n    const coordsMap = context.coords,\n      colorsMap = context.colors;\n    let pIndex = 0,\n      cIndex = 0;\n    for (let i = 0, ii = figures.length; i < ii; i++) {\n      const figure = figures[i],\n        ps = figure.coords,\n        cs = figure.colors;\n      switch (figure.type) {\n        case \"lattice\":\n          const cols = figure.verticesPerRow;\n          const rows = (ps.length / cols) | 0;\n          for (let row = 1; row < rows; row++) {\n            let offset = row * cols + 1;\n            for (let col = 1; col < cols; col++, offset++) {\n              coords[pIndex] = coordsMap[ps[offset - cols - 1]];\n              coords[pIndex + 1] = coordsMap[ps[offset - cols - 1] + 1];\n              coords[pIndex + 2] = coordsMap[ps[offset - cols]];\n              coords[pIndex + 3] = coordsMap[ps[offset - cols] + 1];\n              coords[pIndex + 4] = coordsMap[ps[offset - 1]];\n              coords[pIndex + 5] = coordsMap[ps[offset - 1] + 1];\n              colors[cIndex] = colorsMap[cs[offset - cols - 1]];\n              colors[cIndex + 1] = colorsMap[cs[offset - cols - 1] + 1];\n              colors[cIndex + 2] = colorsMap[cs[offset - cols - 1] + 2];\n              colors[cIndex + 3] = colorsMap[cs[offset - cols]];\n              colors[cIndex + 4] = colorsMap[cs[offset - cols] + 1];\n              colors[cIndex + 5] = colorsMap[cs[offset - cols] + 2];\n              colors[cIndex + 6] = colorsMap[cs[offset - 1]];\n              colors[cIndex + 7] = colorsMap[cs[offset - 1] + 1];\n              colors[cIndex + 8] = colorsMap[cs[offset - 1] + 2];\n\n              coords[pIndex + 6] = coords[pIndex + 2];\n              coords[pIndex + 7] = coords[pIndex + 3];\n              coords[pIndex + 8] = coords[pIndex + 4];\n              coords[pIndex + 9] = coords[pIndex + 5];\n              coords[pIndex + 10] = coordsMap[ps[offset]];\n              coords[pIndex + 11] = coordsMap[ps[offset] + 1];\n              colors[cIndex + 9] = colors[cIndex + 3];\n              colors[cIndex + 10] = colors[cIndex + 4];\n              colors[cIndex + 11] = colors[cIndex + 5];\n              colors[cIndex + 12] = colors[cIndex + 6];\n              colors[cIndex + 13] = colors[cIndex + 7];\n              colors[cIndex + 14] = colors[cIndex + 8];\n              colors[cIndex + 15] = colorsMap[cs[offset]];\n              colors[cIndex + 16] = colorsMap[cs[offset] + 1];\n              colors[cIndex + 17] = colorsMap[cs[offset] + 2];\n              pIndex += 12;\n              cIndex += 18;\n            }\n          }\n          break;\n        case \"triangles\":\n          for (let j = 0, jj = ps.length; j < jj; j++) {\n            coords[pIndex] = coordsMap[ps[j]];\n            coords[pIndex + 1] = coordsMap[ps[j] + 1];\n            colors[cIndex] = colorsMap[cs[j]];\n            colors[cIndex + 1] = colorsMap[cs[j] + 1];\n            colors[cIndex + 2] = colorsMap[cs[j] + 2];\n            pIndex += 2;\n            cIndex += 3;\n          }\n          break;\n      }\n    }\n\n    // draw\n    if (backgroundColor) {\n      gl.clearColor(\n        backgroundColor[0] / 255,\n        backgroundColor[1] / 255,\n        backgroundColor[2] / 255,\n        1.0\n      );\n    } else {\n      gl.clearColor(0, 0, 0, 0);\n    }\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    const coordsBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, coordsBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, coords, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.positionLocation);\n    gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n    const colorsBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, colorsBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.colorLocation);\n    gl.vertexAttribPointer(\n      cache.colorLocation,\n      3,\n      gl.UNSIGNED_BYTE,\n      false,\n      0,\n      0\n    );\n\n    gl.uniform2f(cache.scaleLocation, context.scaleX, context.scaleY);\n    gl.uniform2f(cache.offsetLocation, context.offsetX, context.offsetY);\n\n    gl.drawArrays(gl.TRIANGLES, 0, count);\n\n    gl.flush();\n\n    gl.deleteBuffer(coordsBuffer);\n    gl.deleteBuffer(colorsBuffer);\n\n    return canvas;\n  }\n\n  return {\n    tryInitGL() {\n      try {\n        generateGL();\n        return !!currentGL;\n      } catch (ex) {}\n      return false;\n    },\n\n    composeSMask,\n\n    drawFigures,\n\n    cleanup() {\n      if (smaskCache?.canvas) {\n        smaskCache.canvas.width = 0;\n        smaskCache.canvas.height = 0;\n      }\n      if (figuresCache?.canvas) {\n        figuresCache.canvas.width = 0;\n        figuresCache.canvas.height = 0;\n      }\n      smaskCache = null;\n      figuresCache = null;\n    },\n  };\n})();\n\nexport { WebGLContext };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  addLinkAttributes,\n  DOMSVGFactory,\n  getFilenameFromUrl,\n  LinkTarget,\n  PDFDateString,\n} from \"./display_utils.js\";\nimport {\n  AnnotationBorderStyleType,\n  AnnotationType,\n  assert,\n  stringToPDFString,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { AnnotationStorage } from \"./annotation_storage.js\";\nimport { ColorConverters } from \"../shared/scripting_utils.js\";\n\n/**\n * @typedef {Object} AnnotationElementParameters\n * @property {Object} data\n * @property {HTMLDivElement} layer\n * @property {PDFPage} page\n * @property {PageViewport} viewport\n * @property {IPDFLinkService} linkService\n * @property {DownloadManager} downloadManager\n * @property {AnnotationStorage} [annotationStorage]\n * @property {string} [imageResourcesPath] - Path for image resources, mainly\n *   for annotation icons. Include trailing slash.\n * @property {boolean} renderInteractiveForms\n * @property {Object} svgFactory\n * @property {boolean} [enableScripting]\n * @property {boolean} [hasJSActions]\n * @property {Object} [mouseState]\n */\n\nclass AnnotationElementFactory {\n  /**\n   * @param {AnnotationElementParameters} parameters\n   * @returns {AnnotationElement}\n   */\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n\n    switch (subtype) {\n      case AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n\n      case AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n\n      case AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            return new PushButtonWidgetAnnotationElement(parameters);\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n\n      case AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n\n      case AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n\n      case AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n\n      case AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n\n      case AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n\n      case AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n\n      case AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n\n      case AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n\n      case AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n\n      case AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n\n      case AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n\n      case AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n\n      case AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n\n      case AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n\n      case AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n}\n\nclass AnnotationElement {\n  constructor(\n    parameters,\n    {\n      isRenderable = false,\n      ignoreBorder = false,\n      createQuadrilaterals = false,\n    } = {}\n  ) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.page = parameters.page;\n    this.viewport = parameters.viewport;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderInteractiveForms = parameters.renderInteractiveForms;\n    this.svgFactory = parameters.svgFactory;\n    this.annotationStorage = parameters.annotationStorage;\n    this.enableScripting = parameters.enableScripting;\n    this.hasJSActions = parameters.hasJSActions;\n    this._mouseState = parameters.mouseState;\n\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n    if (createQuadrilaterals) {\n      this.quadrilaterals = this._createQuadrilaterals(ignoreBorder);\n    }\n  }\n\n  /**\n   * Create an empty container for the annotation's HTML element.\n   *\n   * @private\n   * @param {boolean} ignoreBorder\n   * @memberof AnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  _createContainer(ignoreBorder = false) {\n    const data = this.data,\n      page = this.page,\n      viewport = this.viewport;\n    const container = document.createElement(\"section\");\n    let width = data.rect[2] - data.rect[0];\n    let height = data.rect[3] - data.rect[1];\n\n    container.setAttribute(\"data-annotation-id\", data.id);\n\n    // Do *not* modify `data.rect`, since that will corrupt the annotation\n    // position on subsequent calls to `_createContainer` (see issue 6804).\n    const rect = Util.normalizeRect([\n      data.rect[0],\n      page.view[3] - data.rect[1] + page.view[1],\n      data.rect[2],\n      page.view[3] - data.rect[3] + page.view[1],\n    ]);\n\n    container.style.transform = `matrix(${viewport.transform.join(\",\")})`;\n    container.style.transformOrigin = `${-rect[0]}px ${-rect[1]}px`;\n\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      container.style.borderWidth = `${data.borderStyle.width}px`;\n      if (data.borderStyle.style !== AnnotationBorderStyleType.UNDERLINE) {\n        // Underline styles only have a bottom border, so we do not need\n        // to adjust for all borders. This yields a similar result as\n        // Adobe Acrobat/Reader.\n        width = width - 2 * data.borderStyle.width;\n        height = height - 2 * data.borderStyle.width;\n      }\n\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `${horizontalRadius}px / ${verticalRadius}px`;\n        container.style.borderRadius = radius;\n      }\n\n      switch (data.borderStyle.style) {\n        case AnnotationBorderStyleType.SOLID:\n          container.style.borderStyle = \"solid\";\n          break;\n\n        case AnnotationBorderStyleType.DASHED:\n          container.style.borderStyle = \"dashed\";\n          break;\n\n        case AnnotationBorderStyleType.BEVELED:\n          warn(\"Unimplemented border style: beveled\");\n          break;\n\n        case AnnotationBorderStyleType.INSET:\n          warn(\"Unimplemented border style: inset\");\n          break;\n\n        case AnnotationBorderStyleType.UNDERLINE:\n          container.style.borderBottomStyle = \"solid\";\n          break;\n\n        default:\n          break;\n      }\n\n      if (data.color) {\n        container.style.borderColor = Util.makeHexColor(\n          data.color[0] | 0,\n          data.color[1] | 0,\n          data.color[2] | 0\n        );\n      } else {\n        // Transparent (invisible) border, so do not draw it at all.\n        container.style.borderWidth = 0;\n      }\n    }\n\n    container.style.left = `${rect[0]}px`;\n    container.style.top = `${rect[1]}px`;\n    container.style.width = `${width}px`;\n    container.style.height = `${height}px`;\n    return container;\n  }\n\n  /**\n   * Create quadrilaterals from the annotation's quadpoints.\n   *\n   * @private\n   * @param {boolean} ignoreBorder\n   * @memberof AnnotationElement\n   * @returns {Array<HTMLSectionElement>}\n   */\n  _createQuadrilaterals(ignoreBorder = false) {\n    if (!this.data.quadPoints) {\n      return null;\n    }\n\n    const quadrilaterals = [];\n    const savedRect = this.data.rect;\n    for (const quadPoint of this.data.quadPoints) {\n      this.data.rect = [\n        quadPoint[2].x,\n        quadPoint[2].y,\n        quadPoint[1].x,\n        quadPoint[1].y,\n      ];\n      quadrilaterals.push(this._createContainer(ignoreBorder));\n    }\n    this.data.rect = savedRect;\n    return quadrilaterals;\n  }\n\n  /**\n   * Create a popup for the annotation's HTML element. This is used for\n   * annotations that do not have a Popup entry in the dictionary, but\n   * are of a type that works with popups (such as Highlight annotations).\n   *\n   * @private\n   * @param {HTMLDivElement|HTMLImageElement|null} trigger\n   * @param {Object} data\n   * @memberof AnnotationElement\n   */\n  _createPopup(trigger, data) {\n    let container = this.container;\n    if (this.quadrilaterals) {\n      trigger = trigger || this.quadrilaterals;\n      container = this.quadrilaterals[0];\n    }\n\n    // If no trigger element is specified, create it.\n    if (!trigger) {\n      trigger = document.createElement(\"div\");\n      trigger.style.height = container.style.height;\n      trigger.style.width = container.style.width;\n      container.appendChild(trigger);\n    }\n\n    const popupElement = new PopupElement({\n      container,\n      trigger,\n      color: data.color,\n      title: data.title,\n      modificationDate: data.modificationDate,\n      contents: data.contents,\n      hideWrapper: true,\n    });\n    const popup = popupElement.render();\n\n    // Position the popup next to the annotation's container.\n    popup.style.left = container.style.width;\n\n    container.appendChild(popup);\n  }\n\n  /**\n   * Render the quadrilaterals of the annotation.\n   *\n   * @private\n   * @param {string} className\n   * @memberof AnnotationElement\n   * @returns {Array<HTMLSectionElement>}\n   */\n  _renderQuadrilaterals(className) {\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      assert(this.quadrilaterals, \"Missing quadrilaterals during rendering\");\n    }\n\n    this.quadrilaterals.forEach(quadrilateral => {\n      quadrilateral.className = className;\n    });\n    return this.quadrilaterals;\n  }\n\n  /**\n   * Render the annotation's HTML element(s).\n   *\n   * @public\n   * @memberof AnnotationElement\n   * @returns {HTMLSectionElement|Array<HTMLSectionElement>}\n   */\n  render() {\n    unreachable(\"Abstract method `AnnotationElement.render` called\");\n  }\n}\n\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.url ||\n      parameters.data.dest ||\n      parameters.data.action ||\n      parameters.data.isTooltipOnly ||\n      (parameters.data.actions &&\n        (parameters.data.actions.Action ||\n          parameters.data.actions[\"Mouse Up\"] ||\n          parameters.data.actions[\"Mouse Down\"]))\n    );\n    super(parameters, { isRenderable, createQuadrilaterals: true });\n  }\n\n  render() {\n    const { data, linkService } = this;\n    const link = document.createElement(\"a\");\n\n    if (data.url) {\n      addLinkAttributes(link, {\n        url: data.url,\n        target: data.newWindow\n          ? LinkTarget.BLANK\n          : linkService.externalLinkTarget,\n        rel: linkService.externalLinkRel,\n        enabled: linkService.externalLinkEnabled,\n      });\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action);\n    } else if (data.dest) {\n      this._bindLink(link, data.dest);\n    } else if (\n      data.actions &&\n      (data.actions.Action ||\n        data.actions[\"Mouse Up\"] ||\n        data.actions[\"Mouse Down\"]) &&\n      this.enableScripting &&\n      this.hasJSActions\n    ) {\n      this._bindJSAction(link, data);\n    } else {\n      this._bindLink(link, \"\");\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"linkAnnotation\").map(\n        (quadrilateral, index) => {\n          const linkElement = index === 0 ? link : link.cloneNode();\n          quadrilateral.appendChild(linkElement);\n          return quadrilateral;\n        }\n      );\n    }\n\n    this.container.className = \"linkAnnotation\";\n    this.container.appendChild(link);\n    return this.container;\n  }\n\n  /**\n   * Bind internal links to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} destination\n   * @memberof LinkAnnotationElement\n   */\n  _bindLink(link, destination) {\n    link.href = this.linkService.getDestinationHash(destination);\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.goToDestination(destination);\n      }\n      return false;\n    };\n    if (destination || destination === /* isTooltipOnly = */ \"\") {\n      link.className = \"internalLink\";\n    }\n  }\n\n  /**\n   * Bind named actions to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} action\n   * @memberof LinkAnnotationElement\n   */\n  _bindNamedAction(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n    link.className = \"internalLink\";\n  }\n\n  /**\n   * Bind JS actions to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} data\n   * @memberof LinkAnnotationElement\n   */\n  _bindJSAction(link, data) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    const map = new Map([\n      [\"Action\", \"onclick\"],\n      [\"Mouse Up\", \"onmouseup\"],\n      [\"Mouse Down\", \"onmousedown\"],\n    ]);\n    for (const name of Object.keys(data.actions)) {\n      const jsName = map.get(name);\n      if (!jsName) {\n        continue;\n      }\n      link[jsName] = () => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: data.id,\n            name,\n          },\n        });\n        return false;\n      };\n    }\n    link.className = \"internalLink\";\n  }\n}\n\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, { isRenderable });\n  }\n\n  render() {\n    this.container.className = \"textAnnotation\";\n\n    const image = document.createElement(\"img\");\n    image.style.height = this.container.style.height;\n    image.style.width = this.container.style.width;\n    image.src =\n      this.imageResourcesPath +\n      \"annotation-\" +\n      this.data.name.toLowerCase() +\n      \".svg\";\n    image.alt = \"[{{type}} Annotation]\";\n    image.dataset.l10nId = \"text_annotation_type\";\n    image.dataset.l10nArgs = JSON.stringify({ type: this.data.name });\n\n    if (!this.data.hasPopup) {\n      this._createPopup(image, this.data);\n    }\n\n    this.container.appendChild(image);\n    return this.container;\n  }\n}\n\nclass WidgetAnnotationElement extends AnnotationElement {\n  render() {\n    // Show only the container for unsupported field types.\n    if (this.data.alternativeText) {\n      this.container.title = this.data.alternativeText;\n    }\n\n    return this.container;\n  }\n\n  _getKeyModifier(event) {\n    return (\n      (navigator.platform.includes(\"Win\") && event.ctrlKey) ||\n      (navigator.platform.includes(\"Mac\") && event.metaKey)\n    );\n  }\n\n  _setEventListener(element, baseName, eventName, valueGetter) {\n    if (baseName.includes(\"mouse\")) {\n      // Mouse events\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n            shift: event.shiftKey,\n            modifier: this._getKeyModifier(event),\n          },\n        });\n      });\n    } else {\n      // Non mouse event\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: event.target.checked,\n          },\n        });\n      });\n    }\n  }\n\n  _setEventListeners(element, names, getter) {\n    for (const [baseName, eventName] of names) {\n      if (eventName === \"Action\" || this.data.actions?.[eventName]) {\n        this._setEventListener(element, baseName, eventName, getter);\n      }\n    }\n  }\n}\n\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable =\n      parameters.renderInteractiveForms ||\n      (!parameters.data.hasAppearance && !!parameters.data.fieldValue);\n    super(parameters, { isRenderable });\n  }\n\n  render() {\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n\n    this.container.className = \"textWidgetAnnotation\";\n\n    let element = null;\n    if (this.renderInteractiveForms) {\n      // NOTE: We cannot set the values using `element.value` below, since it\n      //       prevents the AnnotationLayer rasterizer in `test/driver.js`\n      //       from parsing the elements correctly for the reference tests.\n      const textContent = storage.getOrCreateValue(id, {\n        value: this.data.fieldValue,\n      }).value;\n      const elementData = {\n        userValue: null,\n        formattedValue: null,\n        beforeInputSelectionRange: null,\n        beforeInputValue: null,\n      };\n\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = textContent;\n      } else {\n        element = document.createElement(\"input\");\n        element.type = \"text\";\n        element.setAttribute(\"value\", textContent);\n      }\n\n      elementData.userValue = textContent;\n      element.setAttribute(\"id\", id);\n\n      element.addEventListener(\"input\", function (event) {\n        storage.setValue(id, { value: event.target.value });\n      });\n\n      let blurListener = event => {\n        if (elementData.formattedValue) {\n          event.target.value = elementData.formattedValue;\n        }\n        event.target.setSelectionRange(0, 0);\n        elementData.beforeInputSelectionRange = null;\n      };\n\n      if (this.enableScripting && this.hasJSActions) {\n        element.addEventListener(\"focus\", event => {\n          if (elementData.userValue) {\n            event.target.value = elementData.userValue;\n          }\n        });\n\n        element.addEventListener(\"updatefromsandbox\", function (event) {\n          const { detail } = event;\n          const actions = {\n            value() {\n              elementData.userValue = detail.value || \"\";\n              storage.setValue(id, { value: elementData.userValue.toString() });\n              if (!elementData.formattedValue) {\n                event.target.value = elementData.userValue;\n              }\n            },\n            valueAsString() {\n              elementData.formattedValue = detail.valueAsString || \"\";\n              if (event.target !== document.activeElement) {\n                // Input hasn't the focus so display formatted string\n                event.target.value = elementData.formattedValue;\n              }\n              storage.setValue(id, {\n                formattedValue: elementData.formattedValue,\n              });\n            },\n            focus() {\n              setTimeout(() => event.target.focus({ preventScroll: false }), 0);\n            },\n            userName() {\n              // tooltip\n              event.target.title = detail.userName;\n            },\n            hidden() {\n              event.target.style.visibility = detail.hidden\n                ? \"hidden\"\n                : \"visible\";\n              storage.setValue(id, { hidden: detail.hidden });\n            },\n            editable() {\n              event.target.disabled = !detail.editable;\n            },\n            selRange() {\n              const [selStart, selEnd] = detail.selRange;\n              if (selStart >= 0 && selEnd < event.target.value.length) {\n                event.target.setSelectionRange(selStart, selEnd);\n              }\n            },\n            strokeColor() {\n              const color = detail.strokeColor;\n              event.target.style.color = ColorConverters[`${color[0]}_HTML`](\n                color.slice(1)\n              );\n            },\n          };\n          Object.keys(detail)\n            .filter(name => name in actions)\n            .forEach(name => actions[name]());\n        });\n\n        if (this.data.actions) {\n          // Even if the field hasn't any actions\n          // leaving it can still trigger some actions with Calculate\n          element.addEventListener(\"keydown\", event => {\n            elementData.beforeInputValue = event.target.value;\n            // if the key is one of Escape, Enter or Tab\n            // then the data are committed\n            let commitKey = -1;\n            if (event.key === \"Escape\") {\n              commitKey = 0;\n            } else if (event.key === \"Enter\") {\n              commitKey = 2;\n            } else if (event.key === \"Tab\") {\n              commitKey = 3;\n            }\n            if (commitKey === -1) {\n              return;\n            }\n            // Save the entered value\n            elementData.userValue = event.target.value;\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value: event.target.value,\n                willCommit: true,\n                commitKey,\n                selStart: event.target.selectionStart,\n                selEnd: event.target.selectionEnd,\n              },\n            });\n          });\n          const _blurListener = blurListener;\n          blurListener = null;\n          element.addEventListener(\"blur\", event => {\n            if (this._mouseState.isDown) {\n              // Focus out using the mouse: data are committed\n              elementData.userValue = event.target.value;\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id,\n                  name: \"Keystroke\",\n                  value: event.target.value,\n                  willCommit: true,\n                  commitKey: 1,\n                  selStart: event.target.selectionStart,\n                  selEnd: event.target.selectionEnd,\n                },\n              });\n            }\n            _blurListener(event);\n          });\n          element.addEventListener(\"mousedown\", event => {\n            elementData.beforeInputValue = event.target.value;\n            elementData.beforeInputSelectionRange = null;\n          });\n          element.addEventListener(\"keyup\", event => {\n            // keyup is triggered after input\n            if (event.target.selectionStart === event.target.selectionEnd) {\n              elementData.beforeInputSelectionRange = null;\n            }\n          });\n          element.addEventListener(\"select\", event => {\n            elementData.beforeInputSelectionRange = [\n              event.target.selectionStart,\n              event.target.selectionEnd,\n            ];\n          });\n\n          if (\"Keystroke\" in this.data.actions) {\n            // We should use beforeinput but this\n            // event isn't available in Firefox\n            element.addEventListener(\"input\", event => {\n              let selStart = -1;\n              let selEnd = -1;\n              if (elementData.beforeInputSelectionRange) {\n                [selStart, selEnd] = elementData.beforeInputSelectionRange;\n              }\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id,\n                  name: \"Keystroke\",\n                  value: elementData.beforeInputValue,\n                  change: event.data,\n                  willCommit: false,\n                  selStart,\n                  selEnd,\n                },\n              });\n            });\n          }\n\n          this._setEventListeners(\n            element,\n            [\n              [\"focus\", \"Focus\"],\n              [\"blur\", \"Blur\"],\n              [\"mousedown\", \"Mouse Down\"],\n              [\"mouseenter\", \"Mouse Enter\"],\n              [\"mouseleave\", \"Mouse Exit\"],\n              [\"mouseup\", \"Mouse Up\"],\n            ],\n            event => event.target.value\n          );\n        }\n      }\n\n      if (blurListener) {\n        element.addEventListener(\"blur\", blurListener);\n      }\n\n      element.disabled = this.data.readOnly;\n      element.name = this.data.fieldName;\n\n      if (this.data.maxLen !== null) {\n        element.maxLength = this.data.maxLen;\n      }\n\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / this.data.maxLen;\n\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n    }\n\n    this._setTextStyle(element);\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n\n  /**\n   * Apply text styles to the text in the element.\n   *\n   * @private\n   * @param {HTMLDivElement} element\n   * @memberof TextWidgetAnnotationElement\n   */\n  _setTextStyle(element) {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n    const { fontSize, fontColor } = this.data.defaultAppearanceData;\n    const style = element.style;\n\n    // TODO: If the font-size is zero, calculate it based on the height and\n    //       width of the element.\n    // Not setting `style.fontSize` will use the default font-size for now.\n    if (fontSize) {\n      style.fontSize = `${fontSize}px`;\n    }\n\n    style.color = Util.makeHexColor(fontColor[0], fontColor[1], fontColor[2]);\n\n    if (this.data.textAlignment !== null) {\n      style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n  }\n}\n\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: parameters.renderInteractiveForms });\n  }\n\n  render() {\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    const value = storage.getOrCreateValue(id, {\n      value: data.fieldValue && data.fieldValue !== \"Off\",\n    }).value;\n\n    this.container.className = \"buttonWidgetAnnotation checkBox\";\n\n    const element = document.createElement(\"input\");\n    element.disabled = data.readOnly;\n    element.type = \"checkbox\";\n    element.name = this.data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.setAttribute(\"id\", id);\n\n    element.addEventListener(\"change\", function (event) {\n      const name = event.target.name;\n      for (const checkbox of document.getElementsByName(name)) {\n        if (checkbox !== event.target) {\n          checkbox.checked = false;\n          storage.setValue(\n            checkbox.parentNode.getAttribute(\"data-annotation-id\"),\n            { value: false }\n          );\n        }\n      }\n      storage.setValue(id, { value: event.target.checked });\n    });\n\n    if (this.enableScripting && this.hasJSActions) {\n      element.addEventListener(\"updatefromsandbox\", event => {\n        const { detail } = event;\n        const actions = {\n          value() {\n            event.target.checked = detail.value !== \"Off\";\n            storage.setValue(id, { value: event.target.checked });\n          },\n          focus() {\n            setTimeout(() => event.target.focus({ preventScroll: false }), 0);\n          },\n          hidden() {\n            event.target.style.visibility = detail.hidden\n              ? \"hidden\"\n              : \"visible\";\n            storage.setValue(id, { hidden: detail.hidden });\n          },\n          editable() {\n            event.target.disabled = !detail.editable;\n          },\n        };\n        Object.keys(detail)\n          .filter(name => name in actions)\n          .forEach(name => actions[name]());\n      });\n\n      this._setEventListeners(\n        element,\n        [\n          [\"change\", \"Validate\"],\n          [\"change\", \"Action\"],\n          [\"focus\", \"Focus\"],\n          [\"blur\", \"Blur\"],\n          [\"mousedown\", \"Mouse Down\"],\n          [\"mouseenter\", \"Mouse Enter\"],\n          [\"mouseleave\", \"Mouse Exit\"],\n          [\"mouseup\", \"Mouse Up\"],\n        ],\n        event => event.target.checked\n      );\n    }\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n}\n\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: parameters.renderInteractiveForms });\n  }\n\n  render() {\n    this.container.className = \"buttonWidgetAnnotation radioButton\";\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    const value = storage.getOrCreateValue(id, {\n      value: data.fieldValue === data.buttonValue,\n    }).value;\n\n    const element = document.createElement(\"input\");\n    element.disabled = data.readOnly;\n    element.type = \"radio\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.setAttribute(\"pdfButtonValue\", data.buttonValue);\n    element.setAttribute(\"id\", id);\n\n    element.addEventListener(\"change\", function (event) {\n      const { target } = event;\n      for (const radio of document.getElementsByName(target.name)) {\n        if (radio !== target) {\n          storage.setValue(radio.getAttribute(\"id\"), { value: false });\n        }\n      }\n      storage.setValue(id, { value: target.checked });\n    });\n\n    if (this.enableScripting && this.hasJSActions) {\n      element.addEventListener(\"updatefromsandbox\", event => {\n        const { detail } = event;\n        const actions = {\n          value() {\n            const fieldValue = detail.value;\n            for (const radio of document.getElementsByName(event.target.name)) {\n              const radioId = radio.getAttribute(\"id\");\n              if (fieldValue === radio.getAttribute(\"pdfButtonValue\")) {\n                radio.setAttribute(\"checked\", true);\n                storage.setValue(radioId, { value: true });\n              } else {\n                storage.setValue(radioId, { value: false });\n              }\n            }\n          },\n          focus() {\n            setTimeout(() => event.target.focus({ preventScroll: false }), 0);\n          },\n          hidden() {\n            event.target.style.visibility = detail.hidden\n              ? \"hidden\"\n              : \"visible\";\n            storage.setValue(id, { hidden: detail.hidden });\n          },\n          editable() {\n            event.target.disabled = !detail.editable;\n          },\n        };\n        Object.keys(detail)\n          .filter(name => name in actions)\n          .forEach(name => actions[name]());\n      });\n\n      this._setEventListeners(\n        element,\n        [\n          [\"change\", \"Validate\"],\n          [\"change\", \"Action\"],\n          [\"focus\", \"Focus\"],\n          [\"blur\", \"Blur\"],\n          [\"mousedown\", \"Mouse Down\"],\n          [\"mouseenter\", \"Mouse Enter\"],\n          [\"mouseleave\", \"Mouse Exit\"],\n          [\"mouseup\", \"Mouse Up\"],\n        ],\n        event => event.target.checked\n      );\n    }\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n}\n\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  render() {\n    // The rendering and functionality of a push button widget annotation is\n    // equal to that of a link annotation, but may have more functionality, such\n    // as performing actions on form fields (resetting, submitting, et cetera).\n    const container = super.render();\n    container.className = \"buttonWidgetAnnotation pushButton\";\n\n    if (this.data.alternativeText) {\n      container.title = this.data.alternativeText;\n    }\n\n    return container;\n  }\n}\n\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: parameters.renderInteractiveForms });\n  }\n\n  render() {\n    this.container.className = \"choiceWidgetAnnotation\";\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n\n    // For printing/saving we currently only support choice widgets with one\n    // option selection. Therefore, listboxes (#12189) and comboboxes (#12224)\n    // are not properly printed/saved yet, so we only store the first item in\n    // the field value array instead of the entire array. Once support for those\n    // two field types is implemented, we should use the same pattern as the\n    // other interactive widgets where the return value of `getOrCreateValue` is\n    // used and the full array of field values is stored.\n    storage.getOrCreateValue(id, {\n      value:\n        this.data.fieldValue.length > 0 ? this.data.fieldValue[0] : undefined,\n    });\n\n    const selectElement = document.createElement(\"select\");\n    selectElement.disabled = this.data.readOnly;\n    selectElement.name = this.data.fieldName;\n    selectElement.setAttribute(\"id\", id);\n\n    if (!this.data.combo) {\n      // List boxes have a size and (optionally) multiple selection.\n      selectElement.size = this.data.options.length;\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n\n    // Insert the options into the choice field.\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n      if (this.data.fieldValue.includes(option.exportValue)) {\n        optionElement.setAttribute(\"selected\", true);\n      }\n      selectElement.appendChild(optionElement);\n    }\n\n    function getValue(event) {\n      const options = event.target.options;\n      return options[options.selectedIndex].value;\n    }\n\n    if (this.enableScripting && this.hasJSActions) {\n      selectElement.addEventListener(\"updatefromsandbox\", event => {\n        const { detail } = event;\n        const actions = {\n          value() {\n            const options = event.target.options;\n            const value = detail.value;\n            const i = options.indexOf(value);\n            if (i !== -1) {\n              options.selectedIndex = i;\n              storage.setValue(id, { value });\n            }\n          },\n          focus() {\n            setTimeout(() => event.target.focus({ preventScroll: false }), 0);\n          },\n          hidden() {\n            event.target.style.visibility = detail.hidden\n              ? \"hidden\"\n              : \"visible\";\n            storage.setValue(id, { hidden: detail.hidden });\n          },\n          editable() {\n            event.target.disabled = !detail.editable;\n          },\n        };\n        Object.keys(detail)\n          .filter(name => name in actions)\n          .forEach(name => actions[name]());\n      });\n\n      selectElement.addEventListener(\"input\", event => {\n        const value = getValue(event);\n        storage.setValue(id, { value });\n\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id,\n            name: \"Keystroke\",\n            changeEx: value,\n            willCommit: true,\n            commitKey: 1,\n            keyDown: false,\n          },\n        });\n      });\n\n      this._setEventListeners(\n        selectElement,\n        [\n          [\"focus\", \"Focus\"],\n          [\"blur\", \"Blur\"],\n          [\"mousedown\", \"Mouse Down\"],\n          [\"mouseenter\", \"Mouse Enter\"],\n          [\"mouseleave\", \"Mouse Exit\"],\n          [\"mouseup\", \"Mouse Up\"],\n        ],\n        event => event.target.checked\n      );\n    } else {\n      selectElement.addEventListener(\"input\", function (event) {\n        storage.setValue(id, { value: getValue(event) });\n      });\n    }\n\n    this.container.appendChild(selectElement);\n    return this.container;\n  }\n}\n\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.title || parameters.data.contents);\n    super(parameters, { isRenderable });\n  }\n\n  render() {\n    // Do not render popup annotations for parent elements with these types as\n    // they create the popups themselves (because of custom trigger divs).\n    const IGNORE_TYPES = [\n      \"Line\",\n      \"Square\",\n      \"Circle\",\n      \"PolyLine\",\n      \"Polygon\",\n      \"Ink\",\n    ];\n\n    this.container.className = \"popupAnnotation\";\n\n    if (IGNORE_TYPES.includes(this.data.parentType)) {\n      return this.container;\n    }\n\n    const selector = `[data-annotation-id=\"${this.data.parentId}\"]`;\n    const parentElements = this.layer.querySelectorAll(selector);\n    if (parentElements.length === 0) {\n      return this.container;\n    }\n\n    const popup = new PopupElement({\n      container: this.container,\n      trigger: Array.from(parentElements),\n      color: this.data.color,\n      title: this.data.title,\n      modificationDate: this.data.modificationDate,\n      contents: this.data.contents,\n    });\n\n    // Position the popup next to the parent annotation's container.\n    // PDF viewers ignore a popup annotation's rectangle.\n    const page = this.page;\n    const rect = Util.normalizeRect([\n      this.data.parentRect[0],\n      page.view[3] - this.data.parentRect[1] + page.view[1],\n      this.data.parentRect[2],\n      page.view[3] - this.data.parentRect[3] + page.view[1],\n    ]);\n    const popupLeft =\n      rect[0] + this.data.parentRect[2] - this.data.parentRect[0];\n    const popupTop = rect[1];\n\n    this.container.style.transformOrigin = `${-popupLeft}px ${-popupTop}px`;\n    this.container.style.left = `${popupLeft}px`;\n    this.container.style.top = `${popupTop}px`;\n\n    this.container.appendChild(popup.render());\n    return this.container;\n  }\n}\n\nclass PopupElement {\n  constructor(parameters) {\n    this.container = parameters.container;\n    this.trigger = parameters.trigger;\n    this.color = parameters.color;\n    this.title = parameters.title;\n    this.modificationDate = parameters.modificationDate;\n    this.contents = parameters.contents;\n    this.hideWrapper = parameters.hideWrapper || false;\n\n    this.pinned = false;\n  }\n\n  render() {\n    const BACKGROUND_ENLIGHT = 0.7;\n\n    const wrapper = document.createElement(\"div\");\n    wrapper.className = \"popupWrapper\";\n\n    // For Popup annotations we hide the entire section because it contains\n    // only the popup. However, for Text annotations without a separate Popup\n    // annotation, we cannot hide the entire container as the image would\n    // disappear too. In that special case, hiding the wrapper suffices.\n    this.hideElement = this.hideWrapper ? wrapper : this.container;\n    this.hideElement.setAttribute(\"hidden\", true);\n\n    const popup = document.createElement(\"div\");\n    popup.className = \"popup\";\n\n    const color = this.color;\n    if (color) {\n      // Enlighten the color.\n      const r = BACKGROUND_ENLIGHT * (255 - color[0]) + color[0];\n      const g = BACKGROUND_ENLIGHT * (255 - color[1]) + color[1];\n      const b = BACKGROUND_ENLIGHT * (255 - color[2]) + color[2];\n      popup.style.backgroundColor = Util.makeHexColor(r | 0, g | 0, b | 0);\n    }\n\n    const title = document.createElement(\"h1\");\n    title.textContent = this.title;\n    popup.appendChild(title);\n\n    // The modification date is shown in the popup instead of the creation\n    // date if it is available and can be parsed correctly, which is\n    // consistent with other viewers such as Adobe Acrobat.\n    const dateObject = PDFDateString.toDateObject(this.modificationDate);\n    if (dateObject) {\n      const modificationDate = document.createElement(\"span\");\n      modificationDate.textContent = \"{{date}}, {{time}}\";\n      modificationDate.dataset.l10nId = \"annotation_date_string\";\n      modificationDate.dataset.l10nArgs = JSON.stringify({\n        date: dateObject.toLocaleDateString(),\n        time: dateObject.toLocaleTimeString(),\n      });\n      popup.appendChild(modificationDate);\n    }\n\n    const contents = this._formatContents(this.contents);\n    popup.appendChild(contents);\n\n    if (!Array.isArray(this.trigger)) {\n      this.trigger = [this.trigger];\n    }\n\n    // Attach the event listeners to the trigger element.\n    this.trigger.forEach(element => {\n      element.addEventListener(\"click\", this._toggle.bind(this));\n      element.addEventListener(\"mouseover\", this._show.bind(this, false));\n      element.addEventListener(\"mouseout\", this._hide.bind(this, false));\n    });\n    popup.addEventListener(\"click\", this._hide.bind(this, true));\n\n    wrapper.appendChild(popup);\n    return wrapper;\n  }\n\n  /**\n   * Format the contents of the popup by adding newlines where necessary.\n   *\n   * @private\n   * @param {string} contents\n   * @memberof PopupElement\n   * @returns {HTMLParagraphElement}\n   */\n  _formatContents(contents) {\n    const p = document.createElement(\"p\");\n    const lines = contents.split(/(?:\\r\\n?|\\n)/);\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.appendChild(document.createTextNode(line));\n      if (i < ii - 1) {\n        p.appendChild(document.createElement(\"br\"));\n      }\n    }\n    return p;\n  }\n\n  /**\n   * Toggle the visibility of the popup.\n   *\n   * @private\n   * @memberof PopupElement\n   */\n  _toggle() {\n    if (this.pinned) {\n      this._hide(true);\n    } else {\n      this._show(true);\n    }\n  }\n\n  /**\n   * Show the popup.\n   *\n   * @private\n   * @param {boolean} pin\n   * @memberof PopupElement\n   */\n  _show(pin = false) {\n    if (pin) {\n      this.pinned = true;\n    }\n    if (this.hideElement.hasAttribute(\"hidden\")) {\n      this.hideElement.removeAttribute(\"hidden\");\n      this.container.style.zIndex += 1;\n    }\n  }\n\n  /**\n   * Hide the popup.\n   *\n   * @private\n   * @param {boolean} unpin\n   * @memberof PopupElement\n   */\n  _hide(unpin = true) {\n    if (unpin) {\n      this.pinned = false;\n    }\n    if (!this.hideElement.hasAttribute(\"hidden\") && !this.pinned) {\n      this.hideElement.setAttribute(\"hidden\", true);\n      this.container.style.zIndex -= 1;\n    }\n  }\n}\n\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.className = \"freeTextAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass LineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.className = \"lineAnnotation\";\n\n    // Create an invisible line with the same starting and ending coordinates\n    // that acts as the trigger for the popup. Only the line itself should\n    // trigger the popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // PDF coordinates are calculated from a bottom left origin, so transform\n    // the line coordinates to a top left origin for the SVG element.\n    const line = this.svgFactory.createElement(\"svg:line\");\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n\n    svg.appendChild(line);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the line instead\n    // of to the entire container (which is the default).\n    this._createPopup(line, data);\n\n    return this.container;\n  }\n}\n\nclass SquareAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.className = \"squareAnnotation\";\n\n    // Create an invisible square with the same rectangle that acts as the\n    // trigger for the popup. Only the square itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // The browser draws half of the borders inside the square and half of\n    // the borders outside the square by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    const borderWidth = data.borderStyle.width;\n    const square = this.svgFactory.createElement(\"svg:rect\");\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"none\");\n\n    svg.appendChild(square);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the square instead\n    // of to the entire container (which is the default).\n    this._createPopup(square, data);\n\n    return this.container;\n  }\n}\n\nclass CircleAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.className = \"circleAnnotation\";\n\n    // Create an invisible circle with the same ellipse that acts as the\n    // trigger for the popup. Only the circle itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // The browser draws half of the borders inside the circle and half of\n    // the borders outside the circle by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    const borderWidth = data.borderStyle.width;\n    const circle = this.svgFactory.createElement(\"svg:ellipse\");\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"none\");\n\n    svg.appendChild(circle);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the circle instead\n    // of to the entire container (which is the default).\n    this._createPopup(circle, data);\n\n    return this.container;\n  }\n}\n\nclass PolylineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n\n  render() {\n    this.container.className = this.containerClassName;\n\n    // Create an invisible polyline with the same points that acts as the\n    // trigger for the popup. Only the polyline itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // Convert the vertices array to a single points string that the SVG\n    // polyline element expects (\"x1,y1 x2,y2 ...\"). PDF coordinates are\n    // calculated from a bottom left origin, so transform the polyline\n    // coordinates to a top left origin for the SVG element.\n    let points = [];\n    for (const coordinate of data.vertices) {\n      const x = coordinate.x - data.rect[0];\n      const y = data.rect[3] - coordinate.y;\n      points.push(x + \",\" + y);\n    }\n    points = points.join(\" \");\n\n    const polyline = this.svgFactory.createElement(this.svgElementName);\n    polyline.setAttribute(\"points\", points);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"none\");\n\n    svg.appendChild(polyline);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the polyline\n    // instead of to the entire container (which is the default).\n    this._createPopup(polyline, data);\n\n    return this.container;\n  }\n}\n\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    // Polygons are specific forms of polylines, so reuse their logic.\n    super(parameters);\n\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n}\n\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.className = \"caretAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass InkAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n\n    this.containerClassName = \"inkAnnotation\";\n\n    // Use the polyline SVG element since it allows us to use coordinates\n    // directly and to draw both straight lines and curves.\n    this.svgElementName = \"svg:polyline\";\n  }\n\n  render() {\n    this.container.className = this.containerClassName;\n\n    // Create an invisible polyline with the same points that acts as the\n    // trigger for the popup.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    for (const inkList of data.inkLists) {\n      // Convert the ink list to a single points string that the SVG\n      // polyline element expects (\"x1,y1 x2,y2 ...\"). PDF coordinates are\n      // calculated from a bottom left origin, so transform the polyline\n      // coordinates to a top left origin for the SVG element.\n      let points = [];\n      for (const coordinate of inkList) {\n        const x = coordinate.x - data.rect[0];\n        const y = data.rect[3] - coordinate.y;\n        points.push(`${x},${y}`);\n      }\n      points = points.join(\" \");\n\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      polyline.setAttribute(\"points\", points);\n      // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n      // won't be possible to open/close the popup (note e.g. issue 11122).\n      polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n      polyline.setAttribute(\"stroke\", \"transparent\");\n      polyline.setAttribute(\"fill\", \"none\");\n\n      // Create the popup ourselves so that we can bind it to the polyline\n      // instead of to the entire container (which is the default).\n      this._createPopup(polyline, data);\n\n      svg.appendChild(polyline);\n    }\n\n    this.container.append(svg);\n    return this.container;\n  }\n}\n\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"highlightAnnotation\");\n    }\n\n    this.container.className = \"highlightAnnotation\";\n    return this.container;\n  }\n}\n\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"underlineAnnotation\");\n    }\n\n    this.container.className = \"underlineAnnotation\";\n    return this.container;\n  }\n}\n\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"squigglyAnnotation\");\n    }\n\n    this.container.className = \"squigglyAnnotation\";\n    return this.container;\n  }\n}\n\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"strikeoutAnnotation\");\n    }\n\n    this.container.className = \"strikeoutAnnotation\";\n    return this.container;\n  }\n}\n\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.title ||\n      parameters.data.contents\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.className = \"stampAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: true });\n\n    const { filename, content } = this.data.file;\n    this.filename = getFilenameFromUrl(filename);\n    this.content = content;\n\n    this.linkService.eventBus?.dispatch(\"fileattachmentannotation\", {\n      source: this,\n      id: stringToPDFString(filename),\n      filename,\n      content,\n    });\n  }\n\n  render() {\n    this.container.className = \"fileAttachmentAnnotation\";\n\n    const trigger = document.createElement(\"div\");\n    trigger.style.height = this.container.style.height;\n    trigger.style.width = this.container.style.width;\n    trigger.addEventListener(\"dblclick\", this._download.bind(this));\n\n    if (!this.data.hasPopup && (this.data.title || this.data.contents)) {\n      this._createPopup(trigger, this.data);\n    }\n\n    this.container.appendChild(trigger);\n    return this.container;\n  }\n\n  /**\n   * Download the file attachment associated with this annotation.\n   *\n   * @private\n   * @memberof FileAttachmentAnnotationElement\n   */\n  _download() {\n    if (!this.downloadManager) {\n      warn(\"Download cannot be started due to unavailable download manager\");\n      return;\n    }\n    this.downloadManager.downloadData(this.content, this.filename, \"\");\n  }\n}\n\n/**\n * @typedef {Object} AnnotationLayerParameters\n * @property {PageViewport} viewport\n * @property {HTMLDivElement} div\n * @property {Array} annotations\n * @property {PDFPage} page\n * @property {IPDFLinkService} linkService\n * @property {DownloadManager} downloadManager\n * @property {string} [imageResourcesPath] - Path for image resources, mainly\n *   for annotation icons. Include trailing slash.\n * @property {boolean} renderInteractiveForms\n * @property {boolean} [enableScripting] - Enable embedded script execution.\n * @property {boolean} [hasJSActions] - Some fields have JS actions.\n *   The default value is `false`.\n */\n\nclass AnnotationLayer {\n  /**\n   * Render a new annotation layer with all annotation elements.\n   *\n   * @public\n   * @param {AnnotationLayerParameters} parameters\n   * @memberof AnnotationLayer\n   */\n  static render(parameters) {\n    const sortedAnnotations = [],\n      popupAnnotations = [];\n    // Ensure that Popup annotations are handled last, since they're dependant\n    // upon the parent annotation having already been rendered (please refer to\n    // the `PopupAnnotationElement.render` method); fixes issue 11362.\n    for (const data of parameters.annotations) {\n      if (!data) {\n        continue;\n      }\n      if (data.annotationType === AnnotationType.POPUP) {\n        popupAnnotations.push(data);\n        continue;\n      }\n      sortedAnnotations.push(data);\n    }\n    if (popupAnnotations.length) {\n      sortedAnnotations.push(...popupAnnotations);\n    }\n\n    for (const data of sortedAnnotations) {\n      const element = AnnotationElementFactory.create({\n        data,\n        layer: parameters.div,\n        page: parameters.page,\n        viewport: parameters.viewport,\n        linkService: parameters.linkService,\n        downloadManager: parameters.downloadManager,\n        imageResourcesPath: parameters.imageResourcesPath || \"\",\n        renderInteractiveForms:\n          typeof parameters.renderInteractiveForms === \"boolean\"\n            ? parameters.renderInteractiveForms\n            : true,\n        svgFactory: new DOMSVGFactory(),\n        annotationStorage:\n          parameters.annotationStorage || new AnnotationStorage(),\n        enableScripting: parameters.enableScripting,\n        hasJSActions: parameters.hasJSActions,\n        mouseState: parameters.mouseState || { isDown: false },\n      });\n      if (element.isRenderable) {\n        const rendered = element.render();\n        if (data.hidden) {\n          rendered.style.visibility = \"hidden\";\n        }\n        if (Array.isArray(rendered)) {\n          for (const renderedElement of rendered) {\n            parameters.div.appendChild(renderedElement);\n          }\n        } else {\n          if (element instanceof PopupAnnotationElement) {\n            // Popup annotation elements should not be on top of other\n            // annotation elements to prevent interfering with mouse events.\n            parameters.div.prepend(rendered);\n          } else {\n            parameters.div.appendChild(rendered);\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Update the annotation elements on existing annotation layer.\n   *\n   * @public\n   * @param {AnnotationLayerParameters} parameters\n   * @memberof AnnotationLayer\n   */\n  static update(parameters) {\n    const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n    for (const data of parameters.annotations) {\n      const elements = parameters.div.querySelectorAll(\n        `[data-annotation-id=\"${data.id}\"]`\n      );\n      if (elements) {\n        elements.forEach(element => {\n          element.style.transform = transform;\n        });\n      }\n    }\n    parameters.div.removeAttribute(\"hidden\");\n  }\n}\n\nexport { AnnotationLayer };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * PLEASE NOTE: This file is currently imported in both the `../display/` and\n *              `../scripting_api/` folders, hence be EXTREMELY careful about\n *              introducing any dependencies here since that can lead to an\n *              unexpected/unnecessary size increase of the *built* files.\n */\n\nfunction makeColorComp(n) {\n  return Math.floor(Math.max(0, Math.min(1, n)) * 255)\n    .toString(16)\n    .padStart(2, \"0\");\n}\n\n// PDF specifications section 10.3\nclass ColorConverters {\n  static CMYK_G([c, y, m, k]) {\n    return [\"G\", 1 - Math.min(1, 0.3 * c + 0.59 * m + 0.11 * y + k)];\n  }\n\n  static G_CMYK([g]) {\n    return [\"CMYK\", 0, 0, 0, 1 - g];\n  }\n\n  static G_RGB([g]) {\n    return [\"RGB\", g, g, g];\n  }\n\n  static G_HTML([g]) {\n    const G = makeColorComp(g);\n    return `#${G}${G}${G}`;\n  }\n\n  static RGB_G([r, g, b]) {\n    return [\"G\", 0.3 * r + 0.59 * g + 0.11 * b];\n  }\n\n  static RGB_HTML([r, g, b]) {\n    const R = makeColorComp(r);\n    const G = makeColorComp(g);\n    const B = makeColorComp(b);\n    return `#${R}${G}${B}`;\n  }\n\n  static T_HTML() {\n    return \"#00000000\";\n  }\n\n  static CMYK_RGB([c, y, m, k]) {\n    return [\n      \"RGB\",\n      1 - Math.min(1, c + k),\n      1 - Math.min(1, m + k),\n      1 - Math.min(1, y + k),\n    ];\n  }\n\n  static CMYK_HTML(components) {\n    return this.RGB_HTML(this.CMYK_RGB(components));\n  }\n\n  static RGB_CMYK([r, g, b]) {\n    const c = 1 - r;\n    const m = 1 - g;\n    const y = 1 - b;\n    const k = Math.min(c, m, y);\n    return [\"CMYK\", c, m, y, k];\n  }\n}\n\nexport { ColorConverters };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AbortException,\n  createPromiseCapability,\n  Util,\n} from \"../shared/util.js\";\n\n/**\n * Text layer render parameters.\n *\n * @typedef {Object} TextLayerRenderParameters\n * @property {import(\"./api\").TextContent} [textContent] - Text content to\n *   render (the object is returned by the page's `getTextContent` method).\n * @property {ReadableStream} [textContentStream] - Text content stream to\n *   render (the stream is returned by the page's `streamTextContent` method).\n * @property {HTMLElement} container - HTML element that will contain text runs.\n * @property {import(\"./display_utils\").PageViewport} viewport - The target\n *   viewport to properly layout the text runs.\n * @property {Array<HTMLElement>} [textDivs] - HTML elements that are correspond\n *   to the text items of the textContent input. This is output and shall be\n *   initially be set to empty array.\n * @property {Array<string>} [textContentItemsStr] - Strings that correspond to\n *    the `str` property of the text items of textContent input. This is output\n *   and shall be initially be set to empty array.\n * @property {number} [timeout] - Delay in milliseconds before rendering of the\n *   text runs occurs.\n * @property {boolean} [enhanceTextSelection] - Whether to turn on the text\n *   selection enhancement.\n */\n\n/**\n * @typedef {Object} TextLayerRenderTask\n * @property {Promise<void>} promise\n * @property {() => void} cancel\n * @property {(expandDivs: boolean) => void} expandTextDivs\n */\n\n/**\n * @type {(renderParameters: TextLayerRenderParameters) => TextLayerRenderTask}\n */\nconst renderTextLayer = (function renderTextLayerClosure() {\n  const MAX_TEXT_DIVS_TO_RENDER = 100000;\n\n  const NonWhitespaceRegexp = /\\S/;\n\n  function isAllWhitespace(str) {\n    return !NonWhitespaceRegexp.test(str);\n  }\n\n  function appendText(task, geom, styles) {\n    // Initialize all used properties to keep the caches monomorphic.\n    const textDiv = document.createElement(\"span\");\n    const textDivProperties = {\n      angle: 0,\n      canvasWidth: 0,\n      isWhitespace: false,\n      originalTransform: null,\n      paddingBottom: 0,\n      paddingLeft: 0,\n      paddingRight: 0,\n      paddingTop: 0,\n      scale: 1,\n    };\n\n    task._textDivs.push(textDiv);\n    if (isAllWhitespace(geom.str)) {\n      textDivProperties.isWhitespace = true;\n      task._textDivProperties.set(textDiv, textDivProperties);\n      return;\n    }\n\n    const tx = Util.transform(task._viewport.transform, geom.transform);\n    let angle = Math.atan2(tx[1], tx[0]);\n    const style = styles[geom.fontName];\n    if (style.vertical) {\n      angle += Math.PI / 2;\n    }\n    const fontHeight = Math.sqrt(tx[2] * tx[2] + tx[3] * tx[3]);\n    let fontAscent = fontHeight;\n    if (style.ascent) {\n      fontAscent = style.ascent * fontAscent;\n    } else if (style.descent) {\n      fontAscent = (1 + style.descent) * fontAscent;\n    }\n\n    let left, top;\n    if (angle === 0) {\n      left = tx[4];\n      top = tx[5] - fontAscent;\n    } else {\n      left = tx[4] + fontAscent * Math.sin(angle);\n      top = tx[5] - fontAscent * Math.cos(angle);\n    }\n    // Setting the style properties individually, rather than all at once,\n    // should be OK since the `textDiv` isn't appended to the document yet.\n    textDiv.style.left = `${left}px`;\n    textDiv.style.top = `${top}px`;\n    textDiv.style.fontSize = `${fontHeight}px`;\n    textDiv.style.fontFamily = style.fontFamily;\n\n    textDiv.textContent = geom.str;\n    // `fontName` is only used by the FontInspector, and we only use `dataset`\n    // here to make the font name available in the debugger.\n    if (task._fontInspectorEnabled) {\n      textDiv.dataset.fontName = geom.fontName;\n    }\n    if (angle !== 0) {\n      textDivProperties.angle = angle * (180 / Math.PI);\n    }\n    // We don't bother scaling single-char text divs, because it has very\n    // little effect on text highlighting. This makes scrolling on docs with\n    // lots of such divs a lot faster.\n    let shouldScaleText = false;\n    if (geom.str.length > 1) {\n      shouldScaleText = true;\n    } else if (geom.transform[0] !== geom.transform[3]) {\n      const absScaleX = Math.abs(geom.transform[0]),\n        absScaleY = Math.abs(geom.transform[3]);\n      // When the horizontal/vertical scaling differs significantly, also scale\n      // even single-char text to improve highlighting (fixes issue11713.pdf).\n      if (\n        absScaleX !== absScaleY &&\n        Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5\n      ) {\n        shouldScaleText = true;\n      }\n    }\n    if (shouldScaleText) {\n      if (style.vertical) {\n        textDivProperties.canvasWidth = geom.height * task._viewport.scale;\n      } else {\n        textDivProperties.canvasWidth = geom.width * task._viewport.scale;\n      }\n    }\n    task._textDivProperties.set(textDiv, textDivProperties);\n    if (task._textContentStream) {\n      task._layoutText(textDiv);\n    }\n\n    if (task._enhanceTextSelection) {\n      let angleCos = 1,\n        angleSin = 0;\n      if (angle !== 0) {\n        angleCos = Math.cos(angle);\n        angleSin = Math.sin(angle);\n      }\n      const divWidth =\n        (style.vertical ? geom.height : geom.width) * task._viewport.scale;\n      const divHeight = fontHeight;\n\n      let m, b;\n      if (angle !== 0) {\n        m = [angleCos, angleSin, -angleSin, angleCos, left, top];\n        b = Util.getAxialAlignedBoundingBox([0, 0, divWidth, divHeight], m);\n      } else {\n        b = [left, top, left + divWidth, top + divHeight];\n      }\n\n      task._bounds.push({\n        left: b[0],\n        top: b[1],\n        right: b[2],\n        bottom: b[3],\n        div: textDiv,\n        size: [divWidth, divHeight],\n        m,\n      });\n    }\n  }\n\n  function render(task) {\n    if (task._canceled) {\n      return;\n    }\n    const textDivs = task._textDivs;\n    const capability = task._capability;\n    const textDivsLength = textDivs.length;\n\n    // No point in rendering many divs as it would make the browser\n    // unusable even after the divs are rendered.\n    if (textDivsLength > MAX_TEXT_DIVS_TO_RENDER) {\n      task._renderingDone = true;\n      capability.resolve();\n      return;\n    }\n\n    if (!task._textContentStream) {\n      for (let i = 0; i < textDivsLength; i++) {\n        task._layoutText(textDivs[i]);\n      }\n    }\n\n    task._renderingDone = true;\n    capability.resolve();\n  }\n\n  function findPositiveMin(ts, offset, count) {\n    let result = 0;\n    for (let i = 0; i < count; i++) {\n      const t = ts[offset++];\n      if (t > 0) {\n        result = result ? Math.min(t, result) : t;\n      }\n    }\n    return result;\n  }\n\n  function expand(task) {\n    const bounds = task._bounds;\n    const viewport = task._viewport;\n\n    const expanded = expandBounds(viewport.width, viewport.height, bounds);\n    for (let i = 0; i < expanded.length; i++) {\n      const div = bounds[i].div;\n      const divProperties = task._textDivProperties.get(div);\n      if (divProperties.angle === 0) {\n        divProperties.paddingLeft = bounds[i].left - expanded[i].left;\n        divProperties.paddingTop = bounds[i].top - expanded[i].top;\n        divProperties.paddingRight = expanded[i].right - bounds[i].right;\n        divProperties.paddingBottom = expanded[i].bottom - bounds[i].bottom;\n        task._textDivProperties.set(div, divProperties);\n        continue;\n      }\n      // Box is rotated -- trying to find padding so rotated div will not\n      // exceed its expanded bounds.\n      const e = expanded[i],\n        b = bounds[i];\n      const m = b.m,\n        c = m[0],\n        s = m[1];\n      // Finding intersections with expanded box.\n      const points = [[0, 0], [0, b.size[1]], [b.size[0], 0], b.size];\n      const ts = new Float64Array(64);\n      points.forEach(function (p, j) {\n        const t = Util.applyTransform(p, m);\n        ts[j + 0] = c && (e.left - t[0]) / c;\n        ts[j + 4] = s && (e.top - t[1]) / s;\n        ts[j + 8] = c && (e.right - t[0]) / c;\n        ts[j + 12] = s && (e.bottom - t[1]) / s;\n\n        ts[j + 16] = s && (e.left - t[0]) / -s;\n        ts[j + 20] = c && (e.top - t[1]) / c;\n        ts[j + 24] = s && (e.right - t[0]) / -s;\n        ts[j + 28] = c && (e.bottom - t[1]) / c;\n\n        ts[j + 32] = c && (e.left - t[0]) / -c;\n        ts[j + 36] = s && (e.top - t[1]) / -s;\n        ts[j + 40] = c && (e.right - t[0]) / -c;\n        ts[j + 44] = s && (e.bottom - t[1]) / -s;\n\n        ts[j + 48] = s && (e.left - t[0]) / s;\n        ts[j + 52] = c && (e.top - t[1]) / -c;\n        ts[j + 56] = s && (e.right - t[0]) / s;\n        ts[j + 60] = c && (e.bottom - t[1]) / -c;\n      });\n      // Not based on math, but to simplify calculations, using cos and sin\n      // absolute values to not exceed the box (it can but insignificantly).\n      const boxScale = 1 + Math.min(Math.abs(c), Math.abs(s));\n      divProperties.paddingLeft = findPositiveMin(ts, 32, 16) / boxScale;\n      divProperties.paddingTop = findPositiveMin(ts, 48, 16) / boxScale;\n      divProperties.paddingRight = findPositiveMin(ts, 0, 16) / boxScale;\n      divProperties.paddingBottom = findPositiveMin(ts, 16, 16) / boxScale;\n      task._textDivProperties.set(div, divProperties);\n    }\n  }\n\n  function expandBounds(width, height, boxes) {\n    const bounds = boxes.map(function (box, i) {\n      return {\n        x1: box.left,\n        y1: box.top,\n        x2: box.right,\n        y2: box.bottom,\n        index: i,\n        x1New: undefined,\n        x2New: undefined,\n      };\n    });\n    expandBoundsLTR(width, bounds);\n    const expanded = new Array(boxes.length);\n    bounds.forEach(function (b) {\n      const i = b.index;\n      expanded[i] = {\n        left: b.x1New,\n        top: 0,\n        right: b.x2New,\n        bottom: 0,\n      };\n    });\n\n    // Rotating on 90 degrees and extending extended boxes. Reusing the bounds\n    // array and objects.\n    boxes.map(function (box, i) {\n      const e = expanded[i],\n        b = bounds[i];\n      b.x1 = box.top;\n      b.y1 = width - e.right;\n      b.x2 = box.bottom;\n      b.y2 = width - e.left;\n      b.index = i;\n      b.x1New = undefined;\n      b.x2New = undefined;\n    });\n    expandBoundsLTR(height, bounds);\n\n    bounds.forEach(function (b) {\n      const i = b.index;\n      expanded[i].top = b.x1New;\n      expanded[i].bottom = b.x2New;\n    });\n    return expanded;\n  }\n\n  function expandBoundsLTR(width, bounds) {\n    // Sorting by x1 coordinate and walk by the bounds in the same order.\n    bounds.sort(function (a, b) {\n      return a.x1 - b.x1 || a.index - b.index;\n    });\n\n    // First we see on the horizon is a fake boundary.\n    const fakeBoundary = {\n      x1: -Infinity,\n      y1: -Infinity,\n      x2: 0,\n      y2: Infinity,\n      index: -1,\n      x1New: 0,\n      x2New: 0,\n    };\n    const horizon = [\n      {\n        start: -Infinity,\n        end: Infinity,\n        boundary: fakeBoundary,\n      },\n    ];\n\n    bounds.forEach(function (boundary) {\n      // Searching for the affected part of horizon.\n      // TODO red-black tree or simple binary search\n      let i = 0;\n      while (i < horizon.length && horizon[i].end <= boundary.y1) {\n        i++;\n      }\n      let j = horizon.length - 1;\n      while (j >= 0 && horizon[j].start >= boundary.y2) {\n        j--;\n      }\n\n      let horizonPart, affectedBoundary;\n      let q,\n        k,\n        maxXNew = -Infinity;\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        let xNew;\n        if (affectedBoundary.x2 > boundary.x1) {\n          // In the middle of the previous element, new x shall be at the\n          // boundary start. Extending if further if the affected boundary\n          // placed on top of the current one.\n          xNew =\n            affectedBoundary.index > boundary.index\n              ? affectedBoundary.x1New\n              : boundary.x1;\n        } else if (affectedBoundary.x2New === undefined) {\n          // We have some space in between, new x in middle will be a fair\n          // choice.\n          xNew = (affectedBoundary.x2 + boundary.x1) / 2;\n        } else {\n          // Affected boundary has x2new set, using it as new x.\n          xNew = affectedBoundary.x2New;\n        }\n        if (xNew > maxXNew) {\n          maxXNew = xNew;\n        }\n      }\n\n      // Set new x1 for current boundary.\n      boundary.x1New = maxXNew;\n\n      // Adjusts new x2 for the affected boundaries.\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        if (affectedBoundary.x2New === undefined) {\n          // Was not set yet, choosing new x if possible.\n          if (affectedBoundary.x2 > boundary.x1) {\n            // Current and affected boundaries intersect. If affected boundary\n            // is placed on top of the current, shrinking the affected.\n            if (affectedBoundary.index > boundary.index) {\n              affectedBoundary.x2New = affectedBoundary.x2;\n            }\n          } else {\n            affectedBoundary.x2New = maxXNew;\n          }\n        } else if (affectedBoundary.x2New > maxXNew) {\n          // Affected boundary is touching new x, pushing it back.\n          affectedBoundary.x2New = Math.max(maxXNew, affectedBoundary.x2);\n        }\n      }\n\n      // Fixing the horizon.\n      const changedHorizon = [];\n      let lastBoundary = null;\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        // Checking which boundary will be visible.\n        const useBoundary =\n          affectedBoundary.x2 > boundary.x2 ? affectedBoundary : boundary;\n        if (lastBoundary === useBoundary) {\n          // Merging with previous.\n          changedHorizon[changedHorizon.length - 1].end = horizonPart.end;\n        } else {\n          changedHorizon.push({\n            start: horizonPart.start,\n            end: horizonPart.end,\n            boundary: useBoundary,\n          });\n          lastBoundary = useBoundary;\n        }\n      }\n      if (horizon[i].start < boundary.y1) {\n        changedHorizon[0].start = boundary.y1;\n        changedHorizon.unshift({\n          start: horizon[i].start,\n          end: boundary.y1,\n          boundary: horizon[i].boundary,\n        });\n      }\n      if (boundary.y2 < horizon[j].end) {\n        changedHorizon[changedHorizon.length - 1].end = boundary.y2;\n        changedHorizon.push({\n          start: boundary.y2,\n          end: horizon[j].end,\n          boundary: horizon[j].boundary,\n        });\n      }\n\n      // Set x2 new of boundary that is no longer visible (see overlapping case\n      // above).\n      // TODO more efficient, e.g. via reference counting.\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        if (affectedBoundary.x2New !== undefined) {\n          continue;\n        }\n        let used = false;\n        for (\n          k = i - 1;\n          !used && k >= 0 && horizon[k].start >= affectedBoundary.y1;\n          k--\n        ) {\n          used = horizon[k].boundary === affectedBoundary;\n        }\n        for (\n          k = j + 1;\n          !used && k < horizon.length && horizon[k].end <= affectedBoundary.y2;\n          k++\n        ) {\n          used = horizon[k].boundary === affectedBoundary;\n        }\n        for (k = 0; !used && k < changedHorizon.length; k++) {\n          used = changedHorizon[k].boundary === affectedBoundary;\n        }\n        if (!used) {\n          affectedBoundary.x2New = maxXNew;\n        }\n      }\n\n      Array.prototype.splice.apply(\n        horizon,\n        [i, j - i + 1].concat(changedHorizon)\n      );\n    });\n\n    // Set new x2 for all unset boundaries.\n    horizon.forEach(function (horizonPart) {\n      const affectedBoundary = horizonPart.boundary;\n      if (affectedBoundary.x2New === undefined) {\n        affectedBoundary.x2New = Math.max(width, affectedBoundary.x2);\n      }\n    });\n  }\n\n  /**\n   * Text layer rendering task.\n   *\n   * @param {TextContent} textContent\n   * @param {HTMLElement} container\n   * @param {PageViewport} viewport\n   * @param {Array} textDivs\n   * @param {boolean} enhanceTextSelection\n   * @private\n   */\n  function TextLayerRenderTask({\n    textContent,\n    textContentStream,\n    container,\n    viewport,\n    textDivs,\n    textContentItemsStr,\n    enhanceTextSelection,\n  }) {\n    this._textContent = textContent;\n    this._textContentStream = textContentStream;\n    this._container = container;\n    this._document = container.ownerDocument;\n    this._viewport = viewport;\n    this._textDivs = textDivs || [];\n    this._textContentItemsStr = textContentItemsStr || [];\n    this._enhanceTextSelection = !!enhanceTextSelection;\n    this._fontInspectorEnabled = !!globalThis.FontInspector?.enabled;\n\n    this._reader = null;\n    this._layoutTextLastFontSize = null;\n    this._layoutTextLastFontFamily = null;\n    this._layoutTextCtx = null;\n    this._textDivProperties = new WeakMap();\n    this._renderingDone = false;\n    this._canceled = false;\n    this._capability = createPromiseCapability();\n    this._renderTimer = null;\n    this._bounds = [];\n\n    // Always clean-up the temporary canvas once rendering is no longer pending.\n    this._capability.promise\n      .finally(() => {\n        if (this._layoutTextCtx) {\n          // Zeroing the width and height cause Firefox to release graphics\n          // resources immediately, which can greatly reduce memory consumption.\n          this._layoutTextCtx.canvas.width = 0;\n          this._layoutTextCtx.canvas.height = 0;\n          this._layoutTextCtx = null;\n        }\n      })\n      .catch(() => {\n        /* Avoid \"Uncaught promise\" messages in the console. */\n      });\n  }\n  TextLayerRenderTask.prototype = {\n    get promise() {\n      return this._capability.promise;\n    },\n\n    cancel: function TextLayer_cancel() {\n      this._canceled = true;\n      if (this._reader) {\n        this._reader.cancel(new AbortException(\"TextLayer task cancelled.\"));\n        this._reader = null;\n      }\n      if (this._renderTimer !== null) {\n        clearTimeout(this._renderTimer);\n        this._renderTimer = null;\n      }\n      this._capability.reject(new Error(\"TextLayer task cancelled.\"));\n    },\n\n    _processItems(items, styleCache) {\n      for (let i = 0, len = items.length; i < len; i++) {\n        this._textContentItemsStr.push(items[i].str);\n        appendText(this, items[i], styleCache);\n      }\n    },\n\n    _layoutText(textDiv) {\n      const textDivProperties = this._textDivProperties.get(textDiv);\n      if (textDivProperties.isWhitespace) {\n        return;\n      }\n\n      let transform = \"\";\n      if (textDivProperties.canvasWidth !== 0) {\n        const { fontSize, fontFamily } = textDiv.style;\n\n        // Only build font string and set to context if different from last.\n        if (\n          fontSize !== this._layoutTextLastFontSize ||\n          fontFamily !== this._layoutTextLastFontFamily\n        ) {\n          this._layoutTextCtx.font = `${fontSize} ${fontFamily}`;\n          this._layoutTextLastFontSize = fontSize;\n          this._layoutTextLastFontFamily = fontFamily;\n        }\n        // Only measure the width for multi-char text divs, see `appendText`.\n        const { width } = this._layoutTextCtx.measureText(textDiv.textContent);\n\n        if (width > 0) {\n          textDivProperties.scale = textDivProperties.canvasWidth / width;\n          transform = `scaleX(${textDivProperties.scale})`;\n        }\n      }\n      if (textDivProperties.angle !== 0) {\n        transform = `rotate(${textDivProperties.angle}deg) ${transform}`;\n      }\n      if (transform.length > 0) {\n        if (this._enhanceTextSelection) {\n          textDivProperties.originalTransform = transform;\n        }\n        textDiv.style.transform = transform;\n      }\n      this._textDivProperties.set(textDiv, textDivProperties);\n      this._container.appendChild(textDiv);\n    },\n\n    _render: function TextLayer_render(timeout) {\n      const capability = createPromiseCapability();\n      let styleCache = Object.create(null);\n\n      // The temporary canvas is used to measure text length in the DOM.\n      const canvas = this._document.createElement(\"canvas\");\n      if (\n        typeof PDFJSDev === \"undefined\" ||\n        PDFJSDev.test(\"MOZCENTRAL || GENERIC\")\n      ) {\n        canvas.mozOpaque = true;\n      }\n      this._layoutTextCtx = canvas.getContext(\"2d\", { alpha: false });\n\n      if (this._textContent) {\n        const textItems = this._textContent.items;\n        const textStyles = this._textContent.styles;\n        this._processItems(textItems, textStyles);\n        capability.resolve();\n      } else if (this._textContentStream) {\n        const pump = () => {\n          this._reader.read().then(({ value, done }) => {\n            if (done) {\n              capability.resolve();\n              return;\n            }\n\n            Object.assign(styleCache, value.styles);\n            this._processItems(value.items, styleCache);\n            pump();\n          }, capability.reject);\n        };\n\n        this._reader = this._textContentStream.getReader();\n        pump();\n      } else {\n        throw new Error(\n          'Neither \"textContent\" nor \"textContentStream\"' +\n            \" parameters specified.\"\n        );\n      }\n\n      capability.promise.then(() => {\n        styleCache = null;\n        if (!timeout) {\n          // Render right away\n          render(this);\n        } else {\n          // Schedule\n          this._renderTimer = setTimeout(() => {\n            render(this);\n            this._renderTimer = null;\n          }, timeout);\n        }\n      }, this._capability.reject);\n    },\n\n    expandTextDivs: function TextLayer_expandTextDivs(expandDivs) {\n      if (!this._enhanceTextSelection || !this._renderingDone) {\n        return;\n      }\n      if (this._bounds !== null) {\n        expand(this);\n        this._bounds = null;\n      }\n      const transformBuf = [],\n        paddingBuf = [];\n\n      for (let i = 0, ii = this._textDivs.length; i < ii; i++) {\n        const div = this._textDivs[i];\n        const divProps = this._textDivProperties.get(div);\n\n        if (divProps.isWhitespace) {\n          continue;\n        }\n        if (expandDivs) {\n          transformBuf.length = 0;\n          paddingBuf.length = 0;\n\n          if (divProps.originalTransform) {\n            transformBuf.push(divProps.originalTransform);\n          }\n          if (divProps.paddingTop > 0) {\n            paddingBuf.push(`${divProps.paddingTop}px`);\n            transformBuf.push(`translateY(${-divProps.paddingTop}px)`);\n          } else {\n            paddingBuf.push(0);\n          }\n          if (divProps.paddingRight > 0) {\n            paddingBuf.push(`${divProps.paddingRight / divProps.scale}px`);\n          } else {\n            paddingBuf.push(0);\n          }\n          if (divProps.paddingBottom > 0) {\n            paddingBuf.push(`${divProps.paddingBottom}px`);\n          } else {\n            paddingBuf.push(0);\n          }\n          if (divProps.paddingLeft > 0) {\n            paddingBuf.push(`${divProps.paddingLeft / divProps.scale}px`);\n            transformBuf.push(\n              `translateX(${-divProps.paddingLeft / divProps.scale}px)`\n            );\n          } else {\n            paddingBuf.push(0);\n          }\n\n          div.style.padding = paddingBuf.join(\" \");\n          if (transformBuf.length) {\n            div.style.transform = transformBuf.join(\" \");\n          }\n        } else {\n          div.style.padding = null;\n          div.style.transform = divProps.originalTransform;\n        }\n      }\n    },\n  };\n\n  // eslint-disable-next-line no-shadow\n  function renderTextLayer(renderParameters) {\n    const task = new TextLayerRenderTask({\n      textContent: renderParameters.textContent,\n      textContentStream: renderParameters.textContentStream,\n      container: renderParameters.container,\n      viewport: renderParameters.viewport,\n      textDivs: renderParameters.textDivs,\n      textContentItemsStr: renderParameters.textContentItemsStr,\n      enhanceTextSelection: renderParameters.enhanceTextSelection,\n    });\n    task._render(renderParameters.timeout);\n    return task;\n  }\n\n  return renderTextLayer;\n})();\n\nexport { renderTextLayer };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n\nimport {\n  createObjectURL,\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  ImageKind,\n  isNum,\n  OPS,\n  TextRenderingMode,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { DOMSVGFactory } from \"./display_utils.js\";\nimport { isNodeJS } from \"../shared/is_node.js\";\n\n/** @type {any} */\nlet SVGGraphics = function () {\n  throw new Error(\"Not implemented: SVGGraphics\");\n};\n\nif (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n  const SVG_DEFAULTS = {\n    fontStyle: \"normal\",\n    fontWeight: \"normal\",\n    fillColor: \"#000000\",\n  };\n  const XML_NS = \"http://www.w3.org/XML/1998/namespace\";\n  const XLINK_NS = \"http://www.w3.org/1999/xlink\";\n  const LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\n  const LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\n\n  const convertImgDataToPng = (function () {\n    const PNG_HEADER = new Uint8Array([\n      0x89,\n      0x50,\n      0x4e,\n      0x47,\n      0x0d,\n      0x0a,\n      0x1a,\n      0x0a,\n    ]);\n    const CHUNK_WRAPPER_SIZE = 12;\n\n    const crcTable = new Int32Array(256);\n    for (let i = 0; i < 256; i++) {\n      let c = i;\n      for (let h = 0; h < 8; h++) {\n        if (c & 1) {\n          c = 0xedb88320 ^ ((c >> 1) & 0x7fffffff);\n        } else {\n          c = (c >> 1) & 0x7fffffff;\n        }\n      }\n      crcTable[i] = c;\n    }\n\n    function crc32(data, start, end) {\n      let crc = -1;\n      for (let i = start; i < end; i++) {\n        const a = (crc ^ data[i]) & 0xff;\n        const b = crcTable[a];\n        crc = (crc >>> 8) ^ b;\n      }\n      return crc ^ -1;\n    }\n\n    function writePngChunk(type, body, data, offset) {\n      let p = offset;\n      const len = body.length;\n\n      data[p] = (len >> 24) & 0xff;\n      data[p + 1] = (len >> 16) & 0xff;\n      data[p + 2] = (len >> 8) & 0xff;\n      data[p + 3] = len & 0xff;\n      p += 4;\n\n      data[p] = type.charCodeAt(0) & 0xff;\n      data[p + 1] = type.charCodeAt(1) & 0xff;\n      data[p + 2] = type.charCodeAt(2) & 0xff;\n      data[p + 3] = type.charCodeAt(3) & 0xff;\n      p += 4;\n\n      data.set(body, p);\n      p += body.length;\n\n      const crc = crc32(data, offset + 4, p);\n      data[p] = (crc >> 24) & 0xff;\n      data[p + 1] = (crc >> 16) & 0xff;\n      data[p + 2] = (crc >> 8) & 0xff;\n      data[p + 3] = crc & 0xff;\n    }\n\n    function adler32(data, start, end) {\n      let a = 1;\n      let b = 0;\n      for (let i = start; i < end; ++i) {\n        a = (a + (data[i] & 0xff)) % 65521;\n        b = (b + a) % 65521;\n      }\n      return (b << 16) | a;\n    }\n\n    /**\n     * @param {Uint8Array} literals The input data.\n     * @returns {Uint8Array} The DEFLATE-compressed data stream in zlib format.\n     *   This is the required format for compressed streams in the PNG format:\n     *   http://www.libpng.org/pub/png/spec/1.2/PNG-Compression.html\n     */\n    function deflateSync(literals) {\n      if (!isNodeJS) {\n        // zlib is certainly not available outside of Node.js. We can either use\n        // the pako library for client-side DEFLATE compression, or use the\n        // canvas API of the browser to obtain a more optimal PNG file.\n        return deflateSyncUncompressed(literals);\n      }\n      try {\n        // NOTE: This implementation is far from perfect, but already way better\n        // than not applying any compression.\n        //\n        // A better algorithm will try to choose a good predictor/filter and\n        // then choose a suitable zlib compression strategy (e.g. 3,Z_RLE).\n        //\n        // Node v0.11.12 zlib.deflateSync is introduced (and returns a Buffer).\n        // Node v3.0.0   Buffer inherits from Uint8Array.\n        // Node v8.0.0   zlib.deflateSync accepts Uint8Array as input.\n        let input;\n        // eslint-disable-next-line no-undef\n        if (parseInt(process.versions.node) >= 8) {\n          input = literals;\n        } else {\n          // eslint-disable-next-line no-undef\n          input = Buffer.from(literals);\n        }\n        const output = __non_webpack_require__(\"zlib\").deflateSync(input, {\n          level: 9,\n        });\n        return output instanceof Uint8Array ? output : new Uint8Array(output);\n      } catch (e) {\n        warn(\n          \"Not compressing PNG because zlib.deflateSync is unavailable: \" + e\n        );\n      }\n\n      return deflateSyncUncompressed(literals);\n    }\n\n    // An implementation of DEFLATE with compression level 0 (Z_NO_COMPRESSION).\n    function deflateSyncUncompressed(literals) {\n      let len = literals.length;\n      const maxBlockLength = 0xffff;\n\n      const deflateBlocks = Math.ceil(len / maxBlockLength);\n      const idat = new Uint8Array(2 + len + deflateBlocks * 5 + 4);\n      let pi = 0;\n      idat[pi++] = 0x78; // compression method and flags\n      idat[pi++] = 0x9c; // flags\n\n      let pos = 0;\n      while (len > maxBlockLength) {\n        // writing non-final DEFLATE blocks type 0 and length of 65535\n        idat[pi++] = 0x00;\n        idat[pi++] = 0xff;\n        idat[pi++] = 0xff;\n        idat[pi++] = 0x00;\n        idat[pi++] = 0x00;\n        idat.set(literals.subarray(pos, pos + maxBlockLength), pi);\n        pi += maxBlockLength;\n        pos += maxBlockLength;\n        len -= maxBlockLength;\n      }\n\n      // writing non-final DEFLATE blocks type 0\n      idat[pi++] = 0x01;\n      idat[pi++] = len & 0xff;\n      idat[pi++] = (len >> 8) & 0xff;\n      idat[pi++] = ~len & 0xffff & 0xff;\n      idat[pi++] = ((~len & 0xffff) >> 8) & 0xff;\n      idat.set(literals.subarray(pos), pi);\n      pi += literals.length - pos;\n\n      const adler = adler32(literals, 0, literals.length); // checksum\n      idat[pi++] = (adler >> 24) & 0xff;\n      idat[pi++] = (adler >> 16) & 0xff;\n      idat[pi++] = (adler >> 8) & 0xff;\n      idat[pi++] = adler & 0xff;\n      return idat;\n    }\n\n    function encode(imgData, kind, forceDataSchema, isMask) {\n      const width = imgData.width;\n      const height = imgData.height;\n      let bitDepth, colorType, lineSize;\n      const bytes = imgData.data;\n\n      switch (kind) {\n        case ImageKind.GRAYSCALE_1BPP:\n          colorType = 0;\n          bitDepth = 1;\n          lineSize = (width + 7) >> 3;\n          break;\n        case ImageKind.RGB_24BPP:\n          colorType = 2;\n          bitDepth = 8;\n          lineSize = width * 3;\n          break;\n        case ImageKind.RGBA_32BPP:\n          colorType = 6;\n          bitDepth = 8;\n          lineSize = width * 4;\n          break;\n        default:\n          throw new Error(\"invalid format\");\n      }\n\n      // prefix every row with predictor 0\n      const literals = new Uint8Array((1 + lineSize) * height);\n      let offsetLiterals = 0,\n        offsetBytes = 0;\n      for (let y = 0; y < height; ++y) {\n        literals[offsetLiterals++] = 0; // no prediction\n        literals.set(\n          bytes.subarray(offsetBytes, offsetBytes + lineSize),\n          offsetLiterals\n        );\n        offsetBytes += lineSize;\n        offsetLiterals += lineSize;\n      }\n\n      if (kind === ImageKind.GRAYSCALE_1BPP && isMask) {\n        // inverting for image masks\n        offsetLiterals = 0;\n        for (let y = 0; y < height; y++) {\n          offsetLiterals++; // skipping predictor\n          for (let i = 0; i < lineSize; i++) {\n            literals[offsetLiterals++] ^= 0xff;\n          }\n        }\n      }\n\n      const ihdr = new Uint8Array([\n        (width >> 24) & 0xff,\n        (width >> 16) & 0xff,\n        (width >> 8) & 0xff,\n        width & 0xff,\n        (height >> 24) & 0xff,\n        (height >> 16) & 0xff,\n        (height >> 8) & 0xff,\n        height & 0xff,\n        bitDepth, // bit depth\n        colorType, // color type\n        0x00, // compression method\n        0x00, // filter method\n        0x00, // interlace method\n      ]);\n      const idat = deflateSync(literals);\n\n      // PNG consists of: header, IHDR+data, IDAT+data, and IEND.\n      const pngLength =\n        PNG_HEADER.length + CHUNK_WRAPPER_SIZE * 3 + ihdr.length + idat.length;\n      const data = new Uint8Array(pngLength);\n      let offset = 0;\n      data.set(PNG_HEADER, offset);\n      offset += PNG_HEADER.length;\n      writePngChunk(\"IHDR\", ihdr, data, offset);\n      offset += CHUNK_WRAPPER_SIZE + ihdr.length;\n      writePngChunk(\"IDATA\", idat, data, offset);\n      offset += CHUNK_WRAPPER_SIZE + idat.length;\n      writePngChunk(\"IEND\", new Uint8Array(0), data, offset);\n\n      return createObjectURL(data, \"image/png\", forceDataSchema);\n    }\n\n    // eslint-disable-next-line no-shadow\n    return function convertImgDataToPng(imgData, forceDataSchema, isMask) {\n      const kind =\n        imgData.kind === undefined ? ImageKind.GRAYSCALE_1BPP : imgData.kind;\n      return encode(imgData, kind, forceDataSchema, isMask);\n    };\n  })();\n\n  class SVGExtraState {\n    constructor() {\n      this.fontSizeScale = 1;\n      this.fontWeight = SVG_DEFAULTS.fontWeight;\n      this.fontSize = 0;\n\n      this.textMatrix = IDENTITY_MATRIX;\n      this.fontMatrix = FONT_IDENTITY_MATRIX;\n      this.leading = 0;\n      this.textRenderingMode = TextRenderingMode.FILL;\n      this.textMatrixScale = 1;\n\n      // Current point (in user coordinates)\n      this.x = 0;\n      this.y = 0;\n\n      // Start of text line (in text coordinates)\n      this.lineX = 0;\n      this.lineY = 0;\n\n      // Character and word spacing\n      this.charSpacing = 0;\n      this.wordSpacing = 0;\n      this.textHScale = 1;\n      this.textRise = 0;\n\n      // Default foreground and background colors\n      this.fillColor = SVG_DEFAULTS.fillColor;\n      this.strokeColor = \"#000000\";\n\n      this.fillAlpha = 1;\n      this.strokeAlpha = 1;\n      this.lineWidth = 1;\n      this.lineJoin = \"\";\n      this.lineCap = \"\";\n      this.miterLimit = 0;\n\n      this.dashArray = [];\n      this.dashPhase = 0;\n\n      this.dependencies = [];\n\n      // Clipping\n      this.activeClipUrl = null;\n      this.clipGroup = null;\n\n      this.maskId = \"\";\n    }\n\n    clone() {\n      return Object.create(this);\n    }\n\n    setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    }\n  }\n\n  // eslint-disable-next-line no-inner-declarations\n  function opListToTree(opList) {\n    let opTree = [];\n    const tmp = [];\n\n    for (const opListElement of opList) {\n      if (opListElement.fn === \"save\") {\n        opTree.push({ fnId: 92, fn: \"group\", items: [] });\n        tmp.push(opTree);\n        opTree = opTree[opTree.length - 1].items;\n        continue;\n      }\n\n      if (opListElement.fn === \"restore\") {\n        opTree = tmp.pop();\n      } else {\n        opTree.push(opListElement);\n      }\n    }\n    return opTree;\n  }\n\n  /**\n   * Format a float number as a string.\n   *\n   * @param value {number} - The float number to format.\n   * @returns {string}\n   */\n  // eslint-disable-next-line no-inner-declarations\n  function pf(value) {\n    if (Number.isInteger(value)) {\n      return value.toString();\n    }\n    const s = value.toFixed(10);\n    let i = s.length - 1;\n    if (s[i] !== \"0\") {\n      return s;\n    }\n\n    // Remove trailing zeros.\n    do {\n      i--;\n    } while (s[i] === \"0\");\n    return s.substring(0, s[i] === \".\" ? i : i + 1);\n  }\n\n  /**\n   * Format a transform matrix as a string. The standard rotation, scale and\n   * translation matrices are replaced by their shorter forms, and for\n   * identity matrices an empty string is returned to save memory.\n   *\n   * @param m {Array} - The transform matrix to format.\n   * @returns {string}\n   */\n  // eslint-disable-next-line no-inner-declarations\n  function pm(m) {\n    if (m[4] === 0 && m[5] === 0) {\n      if (m[1] === 0 && m[2] === 0) {\n        if (m[0] === 1 && m[3] === 1) {\n          return \"\";\n        }\n        return `scale(${pf(m[0])} ${pf(m[3])})`;\n      }\n      if (m[0] === m[3] && m[1] === -m[2]) {\n        const a = (Math.acos(m[0]) * 180) / Math.PI;\n        return `rotate(${pf(a)})`;\n      }\n    } else {\n      if (m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1) {\n        return `translate(${pf(m[4])} ${pf(m[5])})`;\n      }\n    }\n    return (\n      `matrix(${pf(m[0])} ${pf(m[1])} ${pf(m[2])} ${pf(m[3])} ${pf(m[4])} ` +\n      `${pf(m[5])})`\n    );\n  }\n\n  // The counts below are relevant for all pages, so they have to be global\n  // instead of being members of `SVGGraphics` (which is recreated for\n  // each page).\n  let clipCount = 0;\n  let maskCount = 0;\n  let shadingCount = 0;\n\n  // eslint-disable-next-line no-shadow\n  SVGGraphics = class SVGGraphics {\n    constructor(commonObjs, objs, forceDataSchema = false) {\n      this.svgFactory = new DOMSVGFactory();\n\n      this.current = new SVGExtraState();\n      this.transformMatrix = IDENTITY_MATRIX; // Graphics state matrix\n      this.transformStack = [];\n      this.extraStack = [];\n      this.commonObjs = commonObjs;\n      this.objs = objs;\n      this.pendingClip = null;\n      this.pendingEOFill = false;\n\n      this.embedFonts = false;\n      this.embeddedFonts = Object.create(null);\n      this.cssStyle = null;\n      this.forceDataSchema = !!forceDataSchema;\n\n      // In `src/shared/util.js` the operator names are mapped to IDs.\n      // The list below represents the reverse of that, i.e., it maps IDs\n      // to operator names.\n      this._operatorIdMapping = [];\n      for (const op in OPS) {\n        this._operatorIdMapping[OPS[op]] = op;\n      }\n    }\n\n    save() {\n      this.transformStack.push(this.transformMatrix);\n      const old = this.current;\n      this.extraStack.push(old);\n      this.current = old.clone();\n    }\n\n    restore() {\n      this.transformMatrix = this.transformStack.pop();\n      this.current = this.extraStack.pop();\n      this.pendingClip = null;\n      this.tgrp = null;\n    }\n\n    group(items) {\n      this.save();\n      this.executeOpTree(items);\n      this.restore();\n    }\n\n    loadDependencies(operatorList) {\n      const fnArray = operatorList.fnArray;\n      const argsArray = operatorList.argsArray;\n\n      for (let i = 0, ii = fnArray.length; i < ii; i++) {\n        if (fnArray[i] !== OPS.dependency) {\n          continue;\n        }\n\n        for (const obj of argsArray[i]) {\n          const objsPool = obj.startsWith(\"g_\") ? this.commonObjs : this.objs;\n          const promise = new Promise(resolve => {\n            objsPool.get(obj, resolve);\n          });\n          this.current.dependencies.push(promise);\n        }\n      }\n      return Promise.all(this.current.dependencies);\n    }\n\n    transform(a, b, c, d, e, f) {\n      const transformMatrix = [a, b, c, d, e, f];\n      this.transformMatrix = Util.transform(\n        this.transformMatrix,\n        transformMatrix\n      );\n      this.tgrp = null;\n    }\n\n    getSVG(operatorList, viewport) {\n      this.viewport = viewport;\n\n      const svgElement = this._initialize(viewport);\n      return this.loadDependencies(operatorList).then(() => {\n        this.transformMatrix = IDENTITY_MATRIX;\n        this.executeOpTree(this.convertOpList(operatorList));\n        return svgElement;\n      });\n    }\n\n    convertOpList(operatorList) {\n      const operatorIdMapping = this._operatorIdMapping;\n      const argsArray = operatorList.argsArray;\n      const fnArray = operatorList.fnArray;\n      const opList = [];\n      for (let i = 0, ii = fnArray.length; i < ii; i++) {\n        const fnId = fnArray[i];\n        opList.push({\n          fnId,\n          fn: operatorIdMapping[fnId],\n          args: argsArray[i],\n        });\n      }\n      return opListToTree(opList);\n    }\n\n    executeOpTree(opTree) {\n      for (const opTreeElement of opTree) {\n        const fn = opTreeElement.fn;\n        const fnId = opTreeElement.fnId;\n        const args = opTreeElement.args;\n\n        switch (fnId | 0) {\n          case OPS.beginText:\n            this.beginText();\n            break;\n          case OPS.dependency:\n            // Handled in `loadDependencies`, so no warning should be shown.\n            break;\n          case OPS.setLeading:\n            this.setLeading(args);\n            break;\n          case OPS.setLeadingMoveText:\n            this.setLeadingMoveText(args[0], args[1]);\n            break;\n          case OPS.setFont:\n            this.setFont(args);\n            break;\n          case OPS.showText:\n            this.showText(args[0]);\n            break;\n          case OPS.showSpacedText:\n            this.showText(args[0]);\n            break;\n          case OPS.endText:\n            this.endText();\n            break;\n          case OPS.moveText:\n            this.moveText(args[0], args[1]);\n            break;\n          case OPS.setCharSpacing:\n            this.setCharSpacing(args[0]);\n            break;\n          case OPS.setWordSpacing:\n            this.setWordSpacing(args[0]);\n            break;\n          case OPS.setHScale:\n            this.setHScale(args[0]);\n            break;\n          case OPS.setTextMatrix:\n            this.setTextMatrix(\n              args[0],\n              args[1],\n              args[2],\n              args[3],\n              args[4],\n              args[5]\n            );\n            break;\n          case OPS.setTextRise:\n            this.setTextRise(args[0]);\n            break;\n          case OPS.setTextRenderingMode:\n            this.setTextRenderingMode(args[0]);\n            break;\n          case OPS.setLineWidth:\n            this.setLineWidth(args[0]);\n            break;\n          case OPS.setLineJoin:\n            this.setLineJoin(args[0]);\n            break;\n          case OPS.setLineCap:\n            this.setLineCap(args[0]);\n            break;\n          case OPS.setMiterLimit:\n            this.setMiterLimit(args[0]);\n            break;\n          case OPS.setFillRGBColor:\n            this.setFillRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setStrokeRGBColor:\n            this.setStrokeRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setStrokeColorN:\n            this.setStrokeColorN(args);\n            break;\n          case OPS.setFillColorN:\n            this.setFillColorN(args);\n            break;\n          case OPS.shadingFill:\n            this.shadingFill(args[0]);\n            break;\n          case OPS.setDash:\n            this.setDash(args[0], args[1]);\n            break;\n          case OPS.setRenderingIntent:\n            this.setRenderingIntent(args[0]);\n            break;\n          case OPS.setFlatness:\n            this.setFlatness(args[0]);\n            break;\n          case OPS.setGState:\n            this.setGState(args[0]);\n            break;\n          case OPS.fill:\n            this.fill();\n            break;\n          case OPS.eoFill:\n            this.eoFill();\n            break;\n          case OPS.stroke:\n            this.stroke();\n            break;\n          case OPS.fillStroke:\n            this.fillStroke();\n            break;\n          case OPS.eoFillStroke:\n            this.eoFillStroke();\n            break;\n          case OPS.clip:\n            this.clip(\"nonzero\");\n            break;\n          case OPS.eoClip:\n            this.clip(\"evenodd\");\n            break;\n          case OPS.paintSolidColorImageMask:\n            this.paintSolidColorImageMask();\n            break;\n          case OPS.paintImageXObject:\n            this.paintImageXObject(args[0]);\n            break;\n          case OPS.paintInlineImageXObject:\n            this.paintInlineImageXObject(args[0]);\n            break;\n          case OPS.paintImageMaskXObject:\n            this.paintImageMaskXObject(args[0]);\n            break;\n          case OPS.paintFormXObjectBegin:\n            this.paintFormXObjectBegin(args[0], args[1]);\n            break;\n          case OPS.paintFormXObjectEnd:\n            this.paintFormXObjectEnd();\n            break;\n          case OPS.closePath:\n            this.closePath();\n            break;\n          case OPS.closeStroke:\n            this.closeStroke();\n            break;\n          case OPS.closeFillStroke:\n            this.closeFillStroke();\n            break;\n          case OPS.closeEOFillStroke:\n            this.closeEOFillStroke();\n            break;\n          case OPS.nextLine:\n            this.nextLine();\n            break;\n          case OPS.transform:\n            this.transform(\n              args[0],\n              args[1],\n              args[2],\n              args[3],\n              args[4],\n              args[5]\n            );\n            break;\n          case OPS.constructPath:\n            this.constructPath(args[0], args[1]);\n            break;\n          case OPS.endPath:\n            this.endPath();\n            break;\n          case 92:\n            this.group(opTreeElement.items);\n            break;\n          default:\n            warn(`Unimplemented operator ${fn}`);\n            break;\n        }\n      }\n    }\n\n    setWordSpacing(wordSpacing) {\n      this.current.wordSpacing = wordSpacing;\n    }\n\n    setCharSpacing(charSpacing) {\n      this.current.charSpacing = charSpacing;\n    }\n\n    nextLine() {\n      this.moveText(0, this.current.leading);\n    }\n\n    setTextMatrix(a, b, c, d, e, f) {\n      const current = this.current;\n      current.textMatrix = current.lineMatrix = [a, b, c, d, e, f];\n      current.textMatrixScale = Math.sqrt(a * a + b * b);\n\n      current.x = current.lineX = 0;\n      current.y = current.lineY = 0;\n\n      current.xcoords = [];\n      current.ycoords = [];\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(\n        null,\n        \"font-size\",\n        `${pf(current.fontSize)}px`\n      );\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n\n      current.txtElement = this.svgFactory.createElement(\"svg:text\");\n      current.txtElement.appendChild(current.tspan);\n    }\n\n    beginText() {\n      const current = this.current;\n      current.x = current.lineX = 0;\n      current.y = current.lineY = 0;\n      current.textMatrix = IDENTITY_MATRIX;\n      current.lineMatrix = IDENTITY_MATRIX;\n      current.textMatrixScale = 1;\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.txtElement = this.svgFactory.createElement(\"svg:text\");\n      current.txtgrp = this.svgFactory.createElement(\"svg:g\");\n      current.xcoords = [];\n      current.ycoords = [];\n    }\n\n    moveText(x, y) {\n      const current = this.current;\n      current.x = current.lineX += x;\n      current.y = current.lineY += y;\n\n      current.xcoords = [];\n      current.ycoords = [];\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(\n        null,\n        \"font-size\",\n        `${pf(current.fontSize)}px`\n      );\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n    }\n\n    showText(glyphs) {\n      const current = this.current;\n      const font = current.font;\n      const fontSize = current.fontSize;\n      if (fontSize === 0) {\n        return;\n      }\n\n      const fontSizeScale = current.fontSizeScale;\n      const charSpacing = current.charSpacing;\n      const wordSpacing = current.wordSpacing;\n      const fontDirection = current.fontDirection;\n      const textHScale = current.textHScale * fontDirection;\n      const vertical = font.vertical;\n      const spacingDir = vertical ? 1 : -1;\n      const defaultVMetrics = font.defaultVMetrics;\n      const widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n      let x = 0;\n      for (const glyph of glyphs) {\n        if (glyph === null) {\n          // Word break\n          x += fontDirection * wordSpacing;\n          continue;\n        } else if (isNum(glyph)) {\n          x += (spacingDir * glyph * fontSize) / 1000;\n          continue;\n        }\n\n        const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        const character = glyph.fontChar;\n        let scaledX, scaledY;\n        let width = glyph.width;\n        if (vertical) {\n          let vx;\n          const vmetric = glyph.vmetric || defaultVMetrics;\n          vx = glyph.vmetric ? vmetric[1] : width * 0.5;\n          vx = -vx * widthAdvanceScale;\n          const vy = vmetric[2] * widthAdvanceScale;\n\n          width = vmetric ? -vmetric[0] : width;\n          scaledX = vx / fontSizeScale;\n          scaledY = (x + vy) / fontSizeScale;\n        } else {\n          scaledX = x / fontSizeScale;\n          scaledY = 0;\n        }\n\n        if (glyph.isInFont || font.missingFile) {\n          current.xcoords.push(current.x + scaledX);\n          if (vertical) {\n            current.ycoords.push(-current.y + scaledY);\n          }\n          current.tspan.textContent += character;\n        } else {\n          // TODO: To assist with text selection, we should replace the missing\n          // character with a space character if charWidth is not zero.\n          // But we cannot just do \"character = ' '\", because the ' ' character\n          // might actually map to a different glyph.\n        }\n\n        let charWidth;\n        if (vertical) {\n          charWidth = width * widthAdvanceScale - spacing * fontDirection;\n        } else {\n          charWidth = width * widthAdvanceScale + spacing * fontDirection;\n        }\n\n        x += charWidth;\n      }\n      current.tspan.setAttributeNS(\n        null,\n        \"x\",\n        current.xcoords.map(pf).join(\" \")\n      );\n      if (vertical) {\n        current.tspan.setAttributeNS(\n          null,\n          \"y\",\n          current.ycoords.map(pf).join(\" \")\n        );\n      } else {\n        current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n      }\n\n      if (vertical) {\n        current.y -= x;\n      } else {\n        current.x += x * textHScale;\n      }\n\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(\n        null,\n        \"font-size\",\n        `${pf(current.fontSize)}px`\n      );\n      if (current.fontStyle !== SVG_DEFAULTS.fontStyle) {\n        current.tspan.setAttributeNS(null, \"font-style\", current.fontStyle);\n      }\n      if (current.fontWeight !== SVG_DEFAULTS.fontWeight) {\n        current.tspan.setAttributeNS(null, \"font-weight\", current.fontWeight);\n      }\n\n      const fillStrokeMode =\n        current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n      if (\n        fillStrokeMode === TextRenderingMode.FILL ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        if (current.fillColor !== SVG_DEFAULTS.fillColor) {\n          current.tspan.setAttributeNS(null, \"fill\", current.fillColor);\n        }\n        if (current.fillAlpha < 1) {\n          current.tspan.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n        }\n      } else if (current.textRenderingMode === TextRenderingMode.ADD_TO_PATH) {\n        // Workaround for Firefox: We must set fill=\"transparent\" because\n        // fill=\"none\" would generate an empty clipping path.\n        current.tspan.setAttributeNS(null, \"fill\", \"transparent\");\n      } else {\n        current.tspan.setAttributeNS(null, \"fill\", \"none\");\n      }\n\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        const lineWidthScale = 1 / (current.textMatrixScale || 1);\n        this._setStrokeAttributes(current.tspan, lineWidthScale);\n      }\n\n      // Include the text rise in the text matrix since the `pm` function\n      // creates the SVG element's `translate` entry (work on a copy to avoid\n      // altering the original text matrix).\n      let textMatrix = current.textMatrix;\n      if (current.textRise !== 0) {\n        textMatrix = textMatrix.slice();\n        textMatrix[5] += current.textRise;\n      }\n\n      current.txtElement.setAttributeNS(\n        null,\n        \"transform\",\n        `${pm(textMatrix)} scale(${pf(textHScale)}, -1)`\n      );\n      current.txtElement.setAttributeNS(XML_NS, \"xml:space\", \"preserve\");\n      current.txtElement.appendChild(current.tspan);\n      current.txtgrp.appendChild(current.txtElement);\n\n      this._ensureTransformGroup().appendChild(current.txtElement);\n    }\n\n    setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    }\n\n    addFontStyle(fontObj) {\n      if (!fontObj.data) {\n        throw new Error(\n          \"addFontStyle: No font data available, \" +\n            'ensure that the \"fontExtraProperties\" API parameter is set.'\n        );\n      }\n      if (!this.cssStyle) {\n        this.cssStyle = this.svgFactory.createElement(\"svg:style\");\n        this.cssStyle.setAttributeNS(null, \"type\", \"text/css\");\n        this.defs.appendChild(this.cssStyle);\n      }\n\n      const url = createObjectURL(\n        fontObj.data,\n        fontObj.mimetype,\n        this.forceDataSchema\n      );\n      this.cssStyle.textContent +=\n        `@font-face { font-family: \"${fontObj.loadedName}\";` +\n        ` src: url(${url}); }\\n`;\n    }\n\n    setFont(details) {\n      const current = this.current;\n      const fontObj = this.commonObjs.get(details[0]);\n      let size = details[1];\n      current.font = fontObj;\n\n      if (\n        this.embedFonts &&\n        !fontObj.missingFile &&\n        !this.embeddedFonts[fontObj.loadedName]\n      ) {\n        this.addFontStyle(fontObj);\n        this.embeddedFonts[fontObj.loadedName] = fontObj;\n      }\n      current.fontMatrix = fontObj.fontMatrix || FONT_IDENTITY_MATRIX;\n\n      let bold = \"normal\";\n      if (fontObj.black) {\n        bold = \"900\";\n      } else if (fontObj.bold) {\n        bold = \"bold\";\n      }\n      const italic = fontObj.italic ? \"italic\" : \"normal\";\n\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n      current.fontSize = size;\n      current.fontFamily = fontObj.loadedName;\n      current.fontWeight = bold;\n      current.fontStyle = italic;\n\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n      current.xcoords = [];\n      current.ycoords = [];\n    }\n\n    endText() {\n      const current = this.current;\n      if (\n        current.textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG &&\n        current.txtElement?.hasChildNodes()\n      ) {\n        // If no glyphs are shown (i.e. no child nodes), no clipping occurs.\n        current.element = current.txtElement;\n        this.clip(\"nonzero\");\n        this.endPath();\n      }\n    }\n\n    // Path properties\n    setLineWidth(width) {\n      if (width > 0) {\n        this.current.lineWidth = width;\n      }\n    }\n\n    setLineCap(style) {\n      this.current.lineCap = LINE_CAP_STYLES[style];\n    }\n\n    setLineJoin(style) {\n      this.current.lineJoin = LINE_JOIN_STYLES[style];\n    }\n\n    setMiterLimit(limit) {\n      this.current.miterLimit = limit;\n    }\n\n    setStrokeAlpha(strokeAlpha) {\n      this.current.strokeAlpha = strokeAlpha;\n    }\n\n    setStrokeRGBColor(r, g, b) {\n      this.current.strokeColor = Util.makeHexColor(r, g, b);\n    }\n\n    setFillAlpha(fillAlpha) {\n      this.current.fillAlpha = fillAlpha;\n    }\n\n    setFillRGBColor(r, g, b) {\n      this.current.fillColor = Util.makeHexColor(r, g, b);\n      this.current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      this.current.xcoords = [];\n      this.current.ycoords = [];\n    }\n\n    setStrokeColorN(args) {\n      this.current.strokeColor = this._makeColorN_Pattern(args);\n    }\n\n    setFillColorN(args) {\n      this.current.fillColor = this._makeColorN_Pattern(args);\n    }\n\n    shadingFill(args) {\n      const width = this.viewport.width;\n      const height = this.viewport.height;\n      const inv = Util.inverseTransform(this.transformMatrix);\n      const bl = Util.applyTransform([0, 0], inv);\n      const br = Util.applyTransform([0, height], inv);\n      const ul = Util.applyTransform([width, 0], inv);\n      const ur = Util.applyTransform([width, height], inv);\n      const x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n      const y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n      const x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n      const y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", x0);\n      rect.setAttributeNS(null, \"y\", y0);\n      rect.setAttributeNS(null, \"width\", x1 - x0);\n      rect.setAttributeNS(null, \"height\", y1 - y0);\n      rect.setAttributeNS(null, \"fill\", this._makeShadingPattern(args));\n      if (this.current.fillAlpha < 1) {\n        rect.setAttributeNS(null, \"fill-opacity\", this.current.fillAlpha);\n      }\n      this._ensureTransformGroup().appendChild(rect);\n    }\n\n    /**\n     * @private\n     */\n    _makeColorN_Pattern(args) {\n      if (args[0] === \"TilingPattern\") {\n        return this._makeTilingPattern(args);\n      }\n      return this._makeShadingPattern(args);\n    }\n\n    /**\n     * @private\n     */\n    _makeTilingPattern(args) {\n      const color = args[1];\n      const operatorList = args[2];\n      const matrix = args[3] || IDENTITY_MATRIX;\n      const [x0, y0, x1, y1] = args[4];\n      const xstep = args[5];\n      const ystep = args[6];\n      const paintType = args[7];\n\n      const tilingId = `shading${shadingCount++}`;\n      const [tx0, ty0] = Util.applyTransform([x0, y0], matrix);\n      const [tx1, ty1] = Util.applyTransform([x1, y1], matrix);\n      const [xscale, yscale] = Util.singularValueDecompose2dScale(matrix);\n      const txstep = xstep * xscale;\n      const tystep = ystep * yscale;\n\n      const tiling = this.svgFactory.createElement(\"svg:pattern\");\n      tiling.setAttributeNS(null, \"id\", tilingId);\n      tiling.setAttributeNS(null, \"patternUnits\", \"userSpaceOnUse\");\n      tiling.setAttributeNS(null, \"width\", txstep);\n      tiling.setAttributeNS(null, \"height\", tystep);\n      tiling.setAttributeNS(null, \"x\", `${tx0}`);\n      tiling.setAttributeNS(null, \"y\", `${ty0}`);\n\n      // Save current state.\n      const svg = this.svg;\n      const transformMatrix = this.transformMatrix;\n      const fillColor = this.current.fillColor;\n      const strokeColor = this.current.strokeColor;\n\n      const bbox = this.svgFactory.create(tx1 - tx0, ty1 - ty0);\n      this.svg = bbox;\n      this.transformMatrix = matrix;\n      if (paintType === 2) {\n        const cssColor = Util.makeHexColor(...color);\n        this.current.fillColor = cssColor;\n        this.current.strokeColor = cssColor;\n      }\n      this.executeOpTree(this.convertOpList(operatorList));\n\n      // Restore saved state.\n      this.svg = svg;\n      this.transformMatrix = transformMatrix;\n      this.current.fillColor = fillColor;\n      this.current.strokeColor = strokeColor;\n\n      tiling.appendChild(bbox.childNodes[0]);\n      this.defs.appendChild(tiling);\n      return `url(#${tilingId})`;\n    }\n\n    /**\n     * @private\n     */\n    _makeShadingPattern(args) {\n      switch (args[0]) {\n        case \"RadialAxial\":\n          const shadingId = `shading${shadingCount++}`;\n          const colorStops = args[3];\n          let gradient;\n\n          switch (args[1]) {\n            case \"axial\":\n              const point0 = args[4];\n              const point1 = args[5];\n              gradient = this.svgFactory.createElement(\"svg:linearGradient\");\n              gradient.setAttributeNS(null, \"id\", shadingId);\n              gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n              gradient.setAttributeNS(null, \"x1\", point0[0]);\n              gradient.setAttributeNS(null, \"y1\", point0[1]);\n              gradient.setAttributeNS(null, \"x2\", point1[0]);\n              gradient.setAttributeNS(null, \"y2\", point1[1]);\n              break;\n            case \"radial\":\n              const focalPoint = args[4];\n              const circlePoint = args[5];\n              const focalRadius = args[6];\n              const circleRadius = args[7];\n              gradient = this.svgFactory.createElement(\"svg:radialGradient\");\n              gradient.setAttributeNS(null, \"id\", shadingId);\n              gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n              gradient.setAttributeNS(null, \"cx\", circlePoint[0]);\n              gradient.setAttributeNS(null, \"cy\", circlePoint[1]);\n              gradient.setAttributeNS(null, \"r\", circleRadius);\n              gradient.setAttributeNS(null, \"fx\", focalPoint[0]);\n              gradient.setAttributeNS(null, \"fy\", focalPoint[1]);\n              gradient.setAttributeNS(null, \"fr\", focalRadius);\n              break;\n            default:\n              throw new Error(`Unknown RadialAxial type: ${args[1]}`);\n          }\n          for (const colorStop of colorStops) {\n            const stop = this.svgFactory.createElement(\"svg:stop\");\n            stop.setAttributeNS(null, \"offset\", colorStop[0]);\n            stop.setAttributeNS(null, \"stop-color\", colorStop[1]);\n            gradient.appendChild(stop);\n          }\n          this.defs.appendChild(gradient);\n          return `url(#${shadingId})`;\n        case \"Mesh\":\n          warn(\"Unimplemented pattern Mesh\");\n          return null;\n        case \"Dummy\":\n          return \"hotpink\";\n        default:\n          throw new Error(`Unknown IR type: ${args[0]}`);\n      }\n    }\n\n    setDash(dashArray, dashPhase) {\n      this.current.dashArray = dashArray;\n      this.current.dashPhase = dashPhase;\n    }\n\n    constructPath(ops, args) {\n      const current = this.current;\n      let x = current.x,\n        y = current.y;\n      let d = [];\n      let j = 0;\n\n      for (const op of ops) {\n        switch (op | 0) {\n          case OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            const width = args[j++];\n            const height = args[j++];\n            const xw = x + width;\n            const yh = y + height;\n            d.push(\n              \"M\",\n              pf(x),\n              pf(y),\n              \"L\",\n              pf(xw),\n              pf(y),\n              \"L\",\n              pf(xw),\n              pf(yh),\n              \"L\",\n              pf(x),\n              pf(yh),\n              \"Z\"\n            );\n            break;\n          case OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            d.push(\"M\", pf(x), pf(y));\n            break;\n          case OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            d.push(\"L\", pf(x), pf(y));\n            break;\n          case OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            d.push(\n              \"C\",\n              pf(args[j]),\n              pf(args[j + 1]),\n              pf(args[j + 2]),\n              pf(args[j + 3]),\n              pf(x),\n              pf(y)\n            );\n            j += 6;\n            break;\n          case OPS.curveTo2:\n            d.push(\n              \"C\",\n              pf(x),\n              pf(y),\n              pf(args[j]),\n              pf(args[j + 1]),\n              pf(args[j + 2]),\n              pf(args[j + 3])\n            );\n            x = args[j + 2];\n            y = args[j + 3];\n            j += 4;\n            break;\n          case OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            d.push(\n              \"C\",\n              pf(args[j]),\n              pf(args[j + 1]),\n              pf(x),\n              pf(y),\n              pf(x),\n              pf(y)\n            );\n            j += 4;\n            break;\n          case OPS.closePath:\n            d.push(\"Z\");\n            break;\n        }\n      }\n\n      d = d.join(\" \");\n\n      if (\n        current.path &&\n        ops.length > 0 &&\n        ops[0] !== OPS.rectangle &&\n        ops[0] !== OPS.moveTo\n      ) {\n        // If a path does not start with an OPS.rectangle or OPS.moveTo, it has\n        // probably been divided into two OPS.constructPath operators by\n        // OperatorList. Append the commands to the previous path element.\n        d = current.path.getAttributeNS(null, \"d\") + d;\n      } else {\n        current.path = this.svgFactory.createElement(\"svg:path\");\n        this._ensureTransformGroup().appendChild(current.path);\n      }\n\n      current.path.setAttributeNS(null, \"d\", d);\n      current.path.setAttributeNS(null, \"fill\", \"none\");\n\n      // Saving a reference in current.element so that it can be addressed\n      // in 'fill' and 'stroke'\n      current.element = current.path;\n      current.setCurrentPoint(x, y);\n    }\n\n    endPath() {\n      const current = this.current;\n\n      // Painting operators end a path.\n      current.path = null;\n\n      if (!this.pendingClip) {\n        return;\n      }\n      if (!current.element) {\n        this.pendingClip = null;\n        return;\n      }\n\n      // Add the current path to a clipping path.\n      const clipId = `clippath${clipCount++}`;\n      const clipPath = this.svgFactory.createElement(\"svg:clipPath\");\n      clipPath.setAttributeNS(null, \"id\", clipId);\n      clipPath.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n\n      // A deep clone is needed when text is used as a clipping path.\n      const clipElement = current.element.cloneNode(true);\n      if (this.pendingClip === \"evenodd\") {\n        clipElement.setAttributeNS(null, \"clip-rule\", \"evenodd\");\n      } else {\n        clipElement.setAttributeNS(null, \"clip-rule\", \"nonzero\");\n      }\n      this.pendingClip = null;\n      clipPath.appendChild(clipElement);\n      this.defs.appendChild(clipPath);\n\n      if (current.activeClipUrl) {\n        // The previous clipping group content can go out of order -- resetting\n        // cached clipGroups.\n        current.clipGroup = null;\n        this.extraStack.forEach(function (prev) {\n          prev.clipGroup = null;\n        });\n        // Intersect with the previous clipping path.\n        clipPath.setAttributeNS(null, \"clip-path\", current.activeClipUrl);\n      }\n      current.activeClipUrl = `url(#${clipId})`;\n\n      this.tgrp = null;\n    }\n\n    clip(type) {\n      this.pendingClip = type;\n    }\n\n    closePath() {\n      const current = this.current;\n      if (current.path) {\n        const d = `${current.path.getAttributeNS(null, \"d\")}Z`;\n        current.path.setAttributeNS(null, \"d\", d);\n      }\n    }\n\n    setLeading(leading) {\n      this.current.leading = -leading;\n    }\n\n    setTextRise(textRise) {\n      this.current.textRise = textRise;\n    }\n\n    setTextRenderingMode(textRenderingMode) {\n      this.current.textRenderingMode = textRenderingMode;\n    }\n\n    setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    }\n\n    setRenderingIntent(intent) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    }\n\n    setFlatness(flatness) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    }\n\n    setGState(states) {\n      for (const [key, value] of states) {\n        switch (key) {\n          case \"LW\":\n            this.setLineWidth(value);\n            break;\n          case \"LC\":\n            this.setLineCap(value);\n            break;\n          case \"LJ\":\n            this.setLineJoin(value);\n            break;\n          case \"ML\":\n            this.setMiterLimit(value);\n            break;\n          case \"D\":\n            this.setDash(value[0], value[1]);\n            break;\n          case \"RI\":\n            this.setRenderingIntent(value);\n            break;\n          case \"FL\":\n            this.setFlatness(value);\n            break;\n          case \"Font\":\n            this.setFont(value);\n            break;\n          case \"CA\":\n            this.setStrokeAlpha(value);\n            break;\n          case \"ca\":\n            this.setFillAlpha(value);\n            break;\n          default:\n            warn(`Unimplemented graphic state operator ${key}`);\n            break;\n        }\n      }\n    }\n\n    fill() {\n      const current = this.current;\n      if (current.element) {\n        current.element.setAttributeNS(null, \"fill\", current.fillColor);\n        current.element.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n        this.endPath();\n      }\n    }\n\n    stroke() {\n      const current = this.current;\n      if (current.element) {\n        this._setStrokeAttributes(current.element);\n        current.element.setAttributeNS(null, \"fill\", \"none\");\n        this.endPath();\n      }\n    }\n\n    /**\n     * @private\n     */\n    _setStrokeAttributes(element, lineWidthScale = 1) {\n      const current = this.current;\n      let dashArray = current.dashArray;\n      if (lineWidthScale !== 1 && dashArray.length > 0) {\n        dashArray = dashArray.map(function (value) {\n          return lineWidthScale * value;\n        });\n      }\n      element.setAttributeNS(null, \"stroke\", current.strokeColor);\n      element.setAttributeNS(null, \"stroke-opacity\", current.strokeAlpha);\n      element.setAttributeNS(null, \"stroke-miterlimit\", pf(current.miterLimit));\n      element.setAttributeNS(null, \"stroke-linecap\", current.lineCap);\n      element.setAttributeNS(null, \"stroke-linejoin\", current.lineJoin);\n      element.setAttributeNS(\n        null,\n        \"stroke-width\",\n        pf(lineWidthScale * current.lineWidth) + \"px\"\n      );\n      element.setAttributeNS(\n        null,\n        \"stroke-dasharray\",\n        dashArray.map(pf).join(\" \")\n      );\n      element.setAttributeNS(\n        null,\n        \"stroke-dashoffset\",\n        pf(lineWidthScale * current.dashPhase) + \"px\"\n      );\n    }\n\n    eoFill() {\n      if (this.current.element) {\n        this.current.element.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n      }\n      this.fill();\n    }\n\n    fillStroke() {\n      // Order is important since stroke wants fill to be none.\n      // First stroke, then if fill needed, it will be overwritten.\n      this.stroke();\n      this.fill();\n    }\n\n    eoFillStroke() {\n      if (this.current.element) {\n        this.current.element.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n      }\n      this.fillStroke();\n    }\n\n    closeStroke() {\n      this.closePath();\n      this.stroke();\n    }\n\n    closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    }\n\n    closeEOFillStroke() {\n      this.closePath();\n      this.eoFillStroke();\n    }\n\n    paintSolidColorImageMask() {\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", \"0\");\n      rect.setAttributeNS(null, \"y\", \"0\");\n      rect.setAttributeNS(null, \"width\", \"1px\");\n      rect.setAttributeNS(null, \"height\", \"1px\");\n      rect.setAttributeNS(null, \"fill\", this.current.fillColor);\n\n      this._ensureTransformGroup().appendChild(rect);\n    }\n\n    paintImageXObject(objId) {\n      const imgData = objId.startsWith(\"g_\")\n        ? this.commonObjs.get(objId)\n        : this.objs.get(objId);\n      if (!imgData) {\n        warn(`Dependent image with object ID ${objId} is not ready yet`);\n        return;\n      }\n      this.paintInlineImageXObject(imgData);\n    }\n\n    paintInlineImageXObject(imgData, mask) {\n      const width = imgData.width;\n      const height = imgData.height;\n\n      const imgSrc = convertImgDataToPng(imgData, this.forceDataSchema, !!mask);\n      const cliprect = this.svgFactory.createElement(\"svg:rect\");\n      cliprect.setAttributeNS(null, \"x\", \"0\");\n      cliprect.setAttributeNS(null, \"y\", \"0\");\n      cliprect.setAttributeNS(null, \"width\", pf(width));\n      cliprect.setAttributeNS(null, \"height\", pf(height));\n      this.current.element = cliprect;\n      this.clip(\"nonzero\");\n\n      const imgEl = this.svgFactory.createElement(\"svg:image\");\n      imgEl.setAttributeNS(XLINK_NS, \"xlink:href\", imgSrc);\n      imgEl.setAttributeNS(null, \"x\", \"0\");\n      imgEl.setAttributeNS(null, \"y\", pf(-height));\n      imgEl.setAttributeNS(null, \"width\", pf(width) + \"px\");\n      imgEl.setAttributeNS(null, \"height\", pf(height) + \"px\");\n      imgEl.setAttributeNS(\n        null,\n        \"transform\",\n        `scale(${pf(1 / width)} ${pf(-1 / height)})`\n      );\n      if (mask) {\n        mask.appendChild(imgEl);\n      } else {\n        this._ensureTransformGroup().appendChild(imgEl);\n      }\n    }\n\n    paintImageMaskXObject(imgData) {\n      const current = this.current;\n      const width = imgData.width;\n      const height = imgData.height;\n      const fillColor = current.fillColor;\n\n      current.maskId = `mask${maskCount++}`;\n      const mask = this.svgFactory.createElement(\"svg:mask\");\n      mask.setAttributeNS(null, \"id\", current.maskId);\n\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", \"0\");\n      rect.setAttributeNS(null, \"y\", \"0\");\n      rect.setAttributeNS(null, \"width\", pf(width));\n      rect.setAttributeNS(null, \"height\", pf(height));\n      rect.setAttributeNS(null, \"fill\", fillColor);\n      rect.setAttributeNS(null, \"mask\", `url(#${current.maskId})`);\n\n      this.defs.appendChild(mask);\n      this._ensureTransformGroup().appendChild(rect);\n\n      this.paintInlineImageXObject(imgData, mask);\n    }\n\n    paintFormXObjectBegin(matrix, bbox) {\n      if (Array.isArray(matrix) && matrix.length === 6) {\n        this.transform(\n          matrix[0],\n          matrix[1],\n          matrix[2],\n          matrix[3],\n          matrix[4],\n          matrix[5]\n        );\n      }\n\n      if (bbox) {\n        const width = bbox[2] - bbox[0];\n        const height = bbox[3] - bbox[1];\n\n        const cliprect = this.svgFactory.createElement(\"svg:rect\");\n        cliprect.setAttributeNS(null, \"x\", bbox[0]);\n        cliprect.setAttributeNS(null, \"y\", bbox[1]);\n        cliprect.setAttributeNS(null, \"width\", pf(width));\n        cliprect.setAttributeNS(null, \"height\", pf(height));\n        this.current.element = cliprect;\n        this.clip(\"nonzero\");\n        this.endPath();\n      }\n    }\n\n    paintFormXObjectEnd() {}\n\n    /**\n     * @private\n     */\n    _initialize(viewport) {\n      const svg = this.svgFactory.create(viewport.width, viewport.height);\n\n      // Create the definitions element.\n      const definitions = this.svgFactory.createElement(\"svg:defs\");\n      svg.appendChild(definitions);\n      this.defs = definitions;\n\n      // Create the root group element, which acts a container for all other\n      // groups and applies the viewport transform.\n      const rootGroup = this.svgFactory.createElement(\"svg:g\");\n      rootGroup.setAttributeNS(null, \"transform\", pm(viewport.transform));\n      svg.appendChild(rootGroup);\n\n      // For the construction of the SVG image we are only interested in the\n      // root group, so we expose it as the entry point of the SVG image for\n      // the other code in this class.\n      this.svg = rootGroup;\n\n      return svg;\n    }\n\n    /**\n     * @private\n     */\n    _ensureClipGroup() {\n      if (!this.current.clipGroup) {\n        const clipGroup = this.svgFactory.createElement(\"svg:g\");\n        clipGroup.setAttributeNS(null, \"clip-path\", this.current.activeClipUrl);\n        this.svg.appendChild(clipGroup);\n        this.current.clipGroup = clipGroup;\n      }\n      return this.current.clipGroup;\n    }\n\n    /**\n     * @private\n     */\n    _ensureTransformGroup() {\n      if (!this.tgrp) {\n        this.tgrp = this.svgFactory.createElement(\"svg:g\");\n        this.tgrp.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n        if (this.current.activeClipUrl) {\n          this._ensureClipGroup().appendChild(this.tgrp);\n        } else {\n          this.svg.appendChild(this.tgrp);\n        }\n      }\n      return this.tgrp;\n    }\n  };\n}\n\nexport { SVGGraphics };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n  MissingPDFException,\n} from \"../shared/util.js\";\nimport {\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./node_stream.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nconst fs = __non_webpack_require__(\"fs\");\nconst http = __non_webpack_require__(\"http\");\nconst https = __non_webpack_require__(\"https\");\nconst url = __non_webpack_require__(\"url\");\n\nconst fileUriRegex = /^file:\\/\\/\\/[a-zA-Z]:\\//;\n\nfunction parseUrl(sourceUrl) {\n  const parsedUrl = url.parse(sourceUrl);\n  if (parsedUrl.protocol === \"file:\" || parsedUrl.host) {\n    return parsedUrl;\n  }\n  // Prepending 'file:///' to Windows absolute path.\n  if (/^[a-z]:[/\\\\]/i.test(sourceUrl)) {\n    return url.parse(`file:///${sourceUrl}`);\n  }\n  // Changes protocol to 'file:' if url refers to filesystem.\n  if (!parsedUrl.host) {\n    parsedUrl.protocol = \"file:\";\n  }\n  return parsedUrl;\n}\n\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrl(source.url);\n    this.isHttp =\n      this.url.protocol === \"http:\" || this.url.protocol === \"https:\";\n    // Check if url refers to filesystem.\n    this.isFsUrl = this.url.protocol === \"file:\";\n    this.httpHeaders = (this.isHttp && source.httpHeaders) || {};\n\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFNodeStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = this.isFsUrl\n      ? new PDFNodeStreamFsFullReader(this)\n      : new PDFNodeStreamFullReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const rangeReader = this.isFsUrl\n      ? new PDFNodeStreamFsRangeReader(this, start, end)\n      : new PDFNodeStreamRangeReader(this, start, end);\n    this._rangeRequestReaders.push(rangeReader);\n    return rangeReader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n\n    const readers = this._rangeRequestReaders.slice(0);\n    readers.forEach(function (reader) {\n      reader.cancel(reason);\n    });\n  }\n}\n\nclass BaseFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length; // optional\n    this._loaded = 0;\n    this._filename = null;\n\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n\n    this._readableStream = null;\n    this._readCapability = createPromiseCapability();\n    this._headersCapability = createPromiseCapability();\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = createPromiseCapability();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded,\n        total: this._contentLength,\n      });\n    }\n    // Ensure that `read()` method returns ArrayBuffer.\n    const buffer = new Uint8Array(chunk).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"end\", () => {\n      // Destroy readable to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    // We need to stop reading when range is supported and streaming is\n    // disabled.\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new AbortException(\"streaming is disabled\"));\n    }\n\n    // Destroy ReadableStream if already in errored state.\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\nclass BaseRangeReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = createPromiseCapability();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = createPromiseCapability();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    if (this.onProgress) {\n      this.onProgress({ loaded: this._loaded });\n    }\n    // Ensure that `read()` method returns ArrayBuffer.\n    const buffer = new Uint8Array(chunk).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"end\", () => {\n      // Destroy readableStream to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    // Destroy readableStream if already in errored state.\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\nfunction createRequestOptions(parsedUrl, headers) {\n  return {\n    protocol: parsedUrl.protocol,\n    auth: parsedUrl.auth,\n    host: parsedUrl.hostname,\n    port: parsedUrl.port,\n    path: parsedUrl.path,\n    method: \"GET\",\n    headers,\n  };\n}\n\nclass PDFNodeStreamFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      this._headersCapability.resolve();\n      this._setReadableStream(response);\n\n      const getResponseHeader = name => {\n        // Make sure that headers name are in lower case, as mentioned\n        // here: https://nodejs.org/api/http.html#http_message_headers.\n        return this._readableStream.headers[name.toLowerCase()];\n      };\n      const {\n        allowRangeRequests,\n        suggestedLength,\n      } = validateRangeRequestCapabilities({\n        getResponseHeader,\n        isHttp: stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange,\n      });\n\n      this._isRangeSupported = allowRangeRequests;\n      // Setting right content length.\n      this._contentLength = suggestedLength || this._contentLength;\n\n      this._filename = extractFilenameFromHeader(getResponseHeader);\n    };\n\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(\n        createRequestOptions(this._url, stream.httpHeaders),\n        handleResponse\n      );\n    } else {\n      this._request = https.request(\n        createRequestOptions(this._url, stream.httpHeaders),\n        handleResponse\n      );\n    }\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n      this._headersCapability.reject(reason);\n    });\n    // Note: `request.end(data)` is used to write `data` to request body\n    // and notify end of request. But one should always call `request.end()`\n    // even if there is no data to write -- (to notify the end of request).\n    this._request.end();\n  }\n}\n\nclass PDFNodeStreamRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n\n    this._httpHeaders = {};\n    for (const property in stream.httpHeaders) {\n      const value = stream.httpHeaders[property];\n      if (typeof value === \"undefined\") {\n        continue;\n      }\n      this._httpHeaders[property] = value;\n    }\n    this._httpHeaders.Range = `bytes=${start}-${end - 1}`;\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        return;\n      }\n      this._setReadableStream(response);\n    };\n\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(\n        createRequestOptions(this._url, this._httpHeaders),\n        handleResponse\n      );\n    } else {\n      this._request = https.request(\n        createRequestOptions(this._url, this._httpHeaders),\n        handleResponse\n      );\n    }\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n    });\n    this._request.end();\n  }\n}\n\nclass PDFNodeStreamFsFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n\n    let path = decodeURIComponent(this._url.path);\n\n    // Remove the extra slash to get right path from url like `file:///C:/`\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n\n    fs.lstat(path, (error, stat) => {\n      if (error) {\n        if (error.code === \"ENOENT\") {\n          error = new MissingPDFException(`Missing PDF \"${path}\".`);\n        }\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      // Setting right content length.\n      this._contentLength = stat.size;\n\n      this._setReadableStream(fs.createReadStream(path));\n      this._headersCapability.resolve();\n    });\n  }\n}\n\nclass PDFNodeStreamFsRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n\n    let path = decodeURIComponent(this._url.path);\n\n    // Remove the extra slash to get right path from url like `file:///C:/`\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n\n    this._setReadableStream(fs.createReadStream(path, { start, end: end - 1 }));\n  }\n}\n\nexport { PDFNodeStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  MissingPDFException,\n  UnexpectedResponseException,\n} from \"../shared/util.js\";\nimport { getFilenameFromContentDispositionHeader } from \"./content_disposition.js\";\n\nfunction validateRangeRequestCapabilities({\n  getResponseHeader,\n  isHttp,\n  rangeChunkSize,\n  disableRange,\n}) {\n  assert(rangeChunkSize > 0, \"Range chunk size must be larger than zero\");\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined,\n  };\n\n  const length = parseInt(getResponseHeader(\"Content-Length\"), 10);\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n\n  returnValues.suggestedLength = length;\n\n  if (length <= 2 * rangeChunkSize) {\n    // The file size is smaller than the size of two chunks, so it does not\n    // make any sense to abort the request and retry with a range request.\n    return returnValues;\n  }\n\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n  if (getResponseHeader(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n\n  const contentEncoding = getResponseHeader(\"Content-Encoding\") || \"identity\";\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\n\nfunction extractFilenameFromHeader(getResponseHeader) {\n  const contentDisposition = getResponseHeader(\"Content-Disposition\");\n  if (contentDisposition) {\n    let filename = getFilenameFromContentDispositionHeader(contentDisposition);\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch (ex) {}\n    }\n    if (/\\.pdf$/i.test(filename)) {\n      return filename;\n    }\n  }\n  return null;\n}\n\nfunction createResponseStatusError(status, url) {\n  if (status === 404 || (status === 0 && url.startsWith(\"file:\"))) {\n    return new MissingPDFException('Missing PDF \"' + url + '\".');\n  }\n  return new UnexpectedResponseException(\n    \"Unexpected server response (\" +\n      status +\n      ') while retrieving PDF \"' +\n      url +\n      '\".',\n    status\n  );\n}\n\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\nexport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n  validateResponseStatus,\n};\n","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// This getFilenameFromContentDispositionHeader function is adapted from\n// https://github.com/Rob--W/open-in-browser/blob/7e2e35a38b8b4e981b11da7b2f01df0149049e92/extension/content-disposition.js\n// with the following changes:\n// - Modified to conform to PDF.js's coding style.\n// - Support UTF-8 decoding when TextDecoder is unsupported.\n// - Move return to the end of the function to prevent Babel from dropping the\n//   function declarations.\n\n/**\n * Extract file name from the Content-Disposition HTTP response header.\n *\n * @param {string} contentDisposition\n * @returns {string} Filename, if found in the Content-Disposition header.\n */\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n\n  // filename*=ext-value (\"ext-value\" from RFC 5987, referenced by RFC 6266).\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  // Continuations (RFC 2231 section 3, referenced by RFC 5987 section 3.1).\n  // filename*n*=part\n  // filename*n=part\n  tmp = rfc2231getparam(contentDisposition);\n  if (tmp) {\n    // RFC 2047, section\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n\n  // filename=value (RFC 5987, section 4.1).\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  // After this line there are only function declarations. We cannot put\n  // \"return\" here for readability because babel would then drop the function\n  // declarations...\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\n      \"(?:^|;)\\\\s*\" +\n        attributePattern +\n        \"\\\\s*=\\\\s*\" +\n        // Captures: value = token | quoted-string\n        // (RFC 2616, section 3.6 and referenced by RFC 6266 4.1)\n        \"(\" +\n        '[^\";\\\\s][^;\\\\s]*' +\n        \"|\" +\n        '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' +\n        \")\",\n      flags\n    );\n  }\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n      try {\n        const decoder = new TextDecoder(encoding, { fatal: true });\n        const bytes = Array.from(value, function (ch) {\n          return ch.charCodeAt(0) & 0xff;\n        });\n        value = decoder.decode(new Uint8Array(bytes));\n        needsEncodingFixup = false;\n      } catch (e) {\n        // TextDecoder constructor threw - unrecognized encoding.\n        // Or TextDecoder API is not available (in IE / Edge).\n        if (/^utf-?8$/i.test(encoding)) {\n          // UTF-8 is commonly used, try to support it in another way:\n          try {\n            value = decodeURIComponent(escape(value));\n            needsEncodingFixup = false;\n          } catch (err) {}\n        }\n      }\n    }\n    return value;\n  }\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      // Maybe multi-byte UTF-8.\n      value = textdecode(\"utf-8\", value);\n      if (needsEncodingFixup) {\n        // Try iso-8859-1 encoding.\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n    return value;\n  }\n  function rfc2231getparam(contentDispositionStr) {\n    const matches = [];\n    let match;\n    // Iterate over all filename*n= and filename*n*= with n being an integer\n    // of at least zero. Any non-zero number must not start with '0'.\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n    while ((match = iter.exec(contentDispositionStr)) !== null) {\n      let [, n, quot, part] = match; // eslint-disable-line prefer-const\n      n = parseInt(n, 10);\n      if (n in matches) {\n        // Ignore anything after the invalid second filename*0.\n        if (n === 0) {\n          break;\n        }\n        continue;\n      }\n      matches[n] = [quot, part];\n    }\n    const parts = [];\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        // Numbers must be consecutive. Truncate when there is a hole.\n        break;\n      }\n      let [quot, part] = matches[n]; // eslint-disable-line prefer-const\n      part = rfc2616unquote(part);\n      if (quot) {\n        part = unescape(part);\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n      parts.push(part);\n    }\n    return parts.join(\"\");\n  }\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n      // Find the first unescaped \" and terminate there.\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1; // Truncates and stop the iteration.\n        }\n        parts[i] = parts[i].replace(/\\\\(.)/g, \"$1\");\n      }\n      value = parts.join('\"');\n    }\n    return value;\n  }\n  function rfc5987decode(extvalue) {\n    // Decodes \"ext-value\" from RFC 5987.\n    const encodingend = extvalue.indexOf(\"'\");\n    if (encodingend === -1) {\n      // Some servers send \"filename*=\" without encoding 'language' prefix,\n      // e.g. in https://github.com/Rob--W/open-in-browser/issues/26\n      // Let's accept the value like Firefox (57) (Chrome 62 rejects it).\n      return extvalue;\n    }\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    // Ignore language (RFC 5987 section 3.2.1, and RFC 6266 section 4.1 ).\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n  function rfc2047decode(value) {\n    // RFC 2047-decode the result. Firefox tried to drop support for it, but\n    // backed out because some servers use it - https://bugzil.la/875615\n    // Firefox's condition for decoding is here: https://searchfox.org/mozilla-central/rev/4a590a5a15e35d88a3b23dd6ac3c471cf85b04a8/netwerk/mime/nsMIMEHeaderParamImpl.cpp#742-748\n\n    // We are more strict and only recognize RFC 2047-encoding if the value\n    // starts with \"=?\", since then it is likely that the full value is\n    // RFC 2047-encoded.\n\n    // Firefox also decodes words even where RFC 2047 section 5 states:\n    // \"An 'encoded-word' MUST NOT appear within a 'quoted-string'.\"\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n    // RFC 2047, section 2.4\n    // encoded-word = \"=?\" charset \"?\" encoding \"?\" encoded-text \"?=\"\n    // charset = token (but let's restrict to characters that denote a\n    //       possibly valid encoding).\n    // encoding = q or b\n    // encoded-text = any printable ASCII character other than ? or space.\n    //        ... but Firefox permits ? and space.\n    return value.replace(\n      /=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g,\n      function (matches, charset, encoding, text) {\n        if (encoding === \"q\" || encoding === \"Q\") {\n          // RFC 2047 section 4.2.\n          text = text.replace(/_/g, \" \");\n          text = text.replace(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n            return String.fromCharCode(parseInt(hex, 16));\n          });\n          return textdecode(charset, text);\n        } // else encoding is b or B - base64 (RFC 2047 section 4.1)\n        try {\n          text = atob(text);\n        } catch (e) {}\n        return textdecode(charset, text);\n      }\n    );\n  }\n\n  return \"\";\n}\n\nexport { getFilenameFromContentDispositionHeader };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  createPromiseCapability,\n  stringToBytes,\n} from \"../shared/util.js\";\nimport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./network.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\n\nfunction getArrayBuffer(xhr) {\n  const data = xhr.response;\n  if (typeof data !== \"string\") {\n    return data;\n  }\n  const array = stringToBytes(data);\n  return array.buffer;\n}\n\nclass NetworkManager {\n  constructor(url, args) {\n    this.url = url;\n    args = args || {};\n    this.isHttp = /^https?:/i.test(url);\n    this.httpHeaders = (this.isHttp && args.httpHeaders) || {};\n    this.withCredentials = args.withCredentials || false;\n    this.getXhr =\n      args.getXhr ||\n      function NetworkManager_getXhr() {\n        return new XMLHttpRequest();\n      };\n\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n\n  requestRange(begin, end, listeners) {\n    const args = {\n      begin,\n      end,\n    };\n    for (const prop in listeners) {\n      args[prop] = listeners[prop];\n    }\n    return this.request(args);\n  }\n\n  requestFull(listeners) {\n    return this.request(listeners);\n  }\n\n  request(args) {\n    const xhr = this.getXhr();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = (this.pendingRequests[xhrId] = {\n      xhr,\n    });\n\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (const property in this.httpHeaders) {\n      const value = this.httpHeaders[property];\n      if (typeof value === \"undefined\") {\n        continue;\n      }\n      xhr.setRequestHeader(property, value);\n    }\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n    xhr.responseType = \"arraybuffer\";\n\n    if (args.onError) {\n      xhr.onerror = function (evt) {\n        args.onError(xhr.status);\n      };\n    }\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n\n    xhr.send(null);\n\n    return xhrId;\n  }\n\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      // Maybe abortRequest was called...\n      return;\n    }\n\n    if (pendingRequest.onProgress) {\n      pendingRequest.onProgress(evt);\n    }\n  }\n\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      // Maybe abortRequest was called...\n      return;\n    }\n\n    const xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n\n    if (xhr.readyState !== 4) {\n      return;\n    }\n\n    if (!(xhrId in this.pendingRequests)) {\n      // The XHR request might have been aborted in onHeadersReceived()\n      // callback, in which case we should abort request.\n      return;\n    }\n\n    delete this.pendingRequests[xhrId];\n\n    // Success status == 0 can be on ftp, file and other protocols.\n    if (xhr.status === 0 && this.isHttp) {\n      if (pendingRequest.onError) {\n        pendingRequest.onError(xhr.status);\n      }\n      return;\n    }\n    const xhrStatus = xhr.status || OK_RESPONSE;\n\n    // From http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.2:\n    // \"A server MAY ignore the Range header\". This means it's possible to\n    // get a 200 rather than a 206 response from a range request.\n    const ok_response_on_range_request =\n      xhrStatus === OK_RESPONSE &&\n      pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n\n    if (\n      !ok_response_on_range_request &&\n      xhrStatus !== pendingRequest.expectedStatus\n    ) {\n      if (pendingRequest.onError) {\n        pendingRequest.onError(xhr.status);\n      }\n      return;\n    }\n\n    const chunk = getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      pendingRequest.onDone({\n        begin: parseInt(matches[1], 10),\n        chunk,\n      });\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk,\n      });\n    } else if (pendingRequest.onError) {\n      pendingRequest.onError(xhr.status);\n    }\n  }\n\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n}\n\n/** @implements {IPDFStream} */\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source.url, {\n      httpHeaders: source.httpHeaders,\n      withCredentials: source.withCredentials,\n    });\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFNetworkStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(\n      this._manager,\n      this._source\n    );\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(\n      this._manager,\n      begin,\n      end\n    );\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    const readers = this._rangeRequestReaders.slice(0);\n    readers.forEach(function (reader) {\n      reader.cancel(reason);\n    });\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n\n    const args = {\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this),\n    };\n    this._url = source.url;\n    this._fullRequestId = manager.requestFull(args);\n    this._headersReceivedCapability = createPromiseCapability();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length; // Optional\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n\n    this.onProgress = null;\n  }\n\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n\n    const getResponseHeader = name => {\n      return fullRequestXhr.getResponseHeader(name);\n    };\n    const {\n      allowRangeRequests,\n      suggestedLength,\n    } = validateRangeRequestCapabilities({\n      getResponseHeader,\n      isHttp: this._manager.isHttp,\n      rangeChunkSize: this._rangeChunkSize,\n      disableRange: this._disableRange,\n    });\n\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n    // Setting right content length.\n    this._contentLength = suggestedLength || this._contentLength;\n\n    this._filename = extractFilenameFromHeader(getResponseHeader);\n\n    if (this._isRangeSupported) {\n      // NOTE: by cancelling the full request, and then issuing range\n      // requests, there will be an issue for sites where you can only\n      // request the pdf once. However, if this is the case, then the\n      // server should not be returning that it can support range requests.\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n\n    this._headersReceivedCapability.resolve();\n  }\n\n  _onDone(args) {\n    if (args) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n        requestCapability.resolve({ value: args.chunk, done: false });\n      } else {\n        this._cachedChunks.push(args.chunk);\n      }\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n  }\n\n  _onError(status) {\n    const url = this._url;\n    const exception = createResponseStatusError(status, url);\n    this._storedError = exception;\n    this._headersReceivedCapability.reject(exception);\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.reject(exception);\n    });\n    this._requests = [];\n    this._cachedChunks = [];\n  }\n\n  _onProgress(data) {\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: data.loaded,\n        total: data.lengthComputable ? data.total : this._contentLength,\n      });\n    }\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get headersReady() {\n    return this._headersReceivedCapability.promise;\n  }\n\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._headersReceivedCapability.reject(reason);\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n    const args = {\n      onDone: this._onDone.bind(this),\n      onProgress: this._onProgress.bind(this),\n    };\n    this._requestId = manager.requestRange(begin, end, args);\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n\n  _close() {\n    if (this.onClosed) {\n      this.onClosed(this);\n    }\n  }\n\n  _onDone(data) {\n    const chunk = data.chunk;\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n    this._close();\n  }\n\n  _onProgress(evt) {\n    if (!this.isStreamingSupported && this.onProgress) {\n      this.onProgress({\n        loaded: evt.loaded,\n      });\n    }\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true });\n    });\n    this._requests = [];\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  }\n}\n\nexport { PDFNetworkStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n} from \"../shared/util.js\";\nimport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n  validateResponseStatus,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./fetch_stream.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController?.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\",\n  };\n}\n\nfunction createHeaders(httpHeaders) {\n  const headers = new Headers();\n  for (const property in httpHeaders) {\n    const value = httpHeaders[property];\n    if (typeof value === \"undefined\") {\n      continue;\n    }\n    headers.append(property, value);\n  }\n  return headers;\n}\n\n/** @implements {IPDFStream} */\nclass PDFFetchStream {\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.httpHeaders = (this.isHttp && source.httpHeaders) || {};\n\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFFetchStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    const readers = this._rangeRequestReaders.slice(0);\n    readers.forEach(function (reader) {\n      reader.cancel(reason);\n    });\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = createPromiseCapability();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    if (typeof AbortController !== \"undefined\") {\n      this._abortController = new AbortController();\n    }\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n\n    this._headers = createHeaders(this._stream.httpHeaders);\n\n    const url = source.url;\n    fetch(\n      url,\n      createFetchOptions(\n        this._headers,\n        this._withCredentials,\n        this._abortController\n      )\n    )\n      .then(response => {\n        if (!validateResponseStatus(response.status)) {\n          throw createResponseStatusError(response.status, url);\n        }\n        this._reader = response.body.getReader();\n        this._headersCapability.resolve();\n\n        const getResponseHeader = name => {\n          return response.headers.get(name);\n        };\n        const {\n          allowRangeRequests,\n          suggestedLength,\n        } = validateRangeRequestCapabilities({\n          getResponseHeader,\n          isHttp: this._stream.isHttp,\n          rangeChunkSize: this._rangeChunkSize,\n          disableRange: this._disableRange,\n        });\n\n        this._isRangeSupported = allowRangeRequests;\n        // Setting right content length.\n        this._contentLength = suggestedLength || this._contentLength;\n\n        this._filename = extractFilenameFromHeader(getResponseHeader);\n\n        // We need to stop reading when range is supported and streaming is\n        // disabled.\n        if (!this._isStreamingSupported && this._isRangeSupported) {\n          this.cancel(new AbortException(\"Streaming is disabled.\"));\n        }\n      })\n      .catch(this._headersCapability.reject);\n\n    this.onProgress = null;\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._headersCapability.promise;\n    const { value, done } = await this._reader.read();\n    if (done) {\n      return { value, done };\n    }\n    this._loaded += value.byteLength;\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded,\n        total: this._contentLength,\n      });\n    }\n    const buffer = new Uint8Array(value).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    if (this._reader) {\n      this._reader.cancel(reason);\n    }\n    if (this._abortController) {\n      this._abortController.abort();\n    }\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = createPromiseCapability();\n    this._isStreamingSupported = !source.disableStream;\n\n    if (typeof AbortController !== \"undefined\") {\n      this._abortController = new AbortController();\n    }\n\n    this._headers = createHeaders(this._stream.httpHeaders);\n    this._headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n\n    const url = source.url;\n    fetch(\n      url,\n      createFetchOptions(\n        this._headers,\n        this._withCredentials,\n        this._abortController\n      )\n    )\n      .then(response => {\n        if (!validateResponseStatus(response.status)) {\n          throw createResponseStatusError(response.status, url);\n        }\n        this._readCapability.resolve();\n        this._reader = response.body.getReader();\n      })\n      .catch(reason => {\n        if (reason?.name === \"AbortError\") {\n          return;\n        }\n        throw reason;\n      });\n\n    this.onProgress = null;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    const { value, done } = await this._reader.read();\n    if (done) {\n      return { value, done };\n    }\n    this._loaded += value.byteLength;\n    if (this.onProgress) {\n      this.onProgress({ loaded: this._loaded });\n    }\n    const buffer = new Uint8Array(value).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    if (this._reader) {\n      this._reader.cancel(reason);\n    }\n    if (this._abortController) {\n      this._abortController.abort();\n    }\n  }\n}\n\nexport { PDFFetchStream };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __w_pdfjs_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __w_pdfjs_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __w_pdfjs_require__(0);\n","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AnnotationLayer = void 0;\n\nvar _display_utils = require(\"./display_utils.js\");\n\nvar _util = require(\"../shared/util.js\");\n\nvar _annotation_storage = require(\"./annotation_storage.js\");\n\nvar _scripting_utils = require(\"../shared/scripting_utils.js\");\n\nclass AnnotationElementFactory {\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n\n    switch (subtype) {\n      case _util.AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n\n      case _util.AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n\n      case _util.AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n\n            return new PushButtonWidgetAnnotationElement(parameters);\n\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n        }\n\n        return new WidgetAnnotationElement(parameters);\n\n      case _util.AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n\n      case _util.AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n\n      case _util.AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n\n      case _util.AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n\n      case _util.AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n\n      case _util.AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n\n      case _util.AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n\n      case _util.AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n\n      case _util.AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n\n      case _util.AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n\n      case _util.AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n\n      case _util.AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n\n      case _util.AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n\n      case _util.AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n\n      case _util.AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n\n}\n\nclass AnnotationElement {\n  constructor(parameters, {\n    isRenderable = false,\n    ignoreBorder = false,\n    createQuadrilaterals = false\n  } = {}) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.page = parameters.page;\n    this.viewport = parameters.viewport;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderInteractiveForms = parameters.renderInteractiveForms;\n    this.svgFactory = parameters.svgFactory;\n    this.annotationStorage = parameters.annotationStorage;\n    this.enableScripting = parameters.enableScripting;\n    this.hasJSActions = parameters.hasJSActions;\n    this._mouseState = parameters.mouseState;\n\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n\n    if (createQuadrilaterals) {\n      this.quadrilaterals = this._createQuadrilaterals(ignoreBorder);\n    }\n  }\n\n  _createContainer(ignoreBorder = false) {\n    const data = this.data,\n          page = this.page,\n          viewport = this.viewport;\n    const container = document.createElement(\"section\");\n    let width = data.rect[2] - data.rect[0];\n    let height = data.rect[3] - data.rect[1];\n    container.setAttribute(\"data-annotation-id\", data.id);\n\n    const rect = _util.Util.normalizeRect([data.rect[0], page.view[3] - data.rect[1] + page.view[1], data.rect[2], page.view[3] - data.rect[3] + page.view[1]]);\n\n    container.style.transform = `matrix(${viewport.transform.join(\",\")})`;\n    container.style.transformOrigin = `${-rect[0]}px ${-rect[1]}px`;\n\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      container.style.borderWidth = `${data.borderStyle.width}px`;\n\n      if (data.borderStyle.style !== _util.AnnotationBorderStyleType.UNDERLINE) {\n        width = width - 2 * data.borderStyle.width;\n        height = height - 2 * data.borderStyle.width;\n      }\n\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `${horizontalRadius}px / ${verticalRadius}px`;\n        container.style.borderRadius = radius;\n      }\n\n      switch (data.borderStyle.style) {\n        case _util.AnnotationBorderStyleType.SOLID:\n          container.style.borderStyle = \"solid\";\n          break;\n\n        case _util.AnnotationBorderStyleType.DASHED:\n          container.style.borderStyle = \"dashed\";\n          break;\n\n        case _util.AnnotationBorderStyleType.BEVELED:\n          (0, _util.warn)(\"Unimplemented border style: beveled\");\n          break;\n\n        case _util.AnnotationBorderStyleType.INSET:\n          (0, _util.warn)(\"Unimplemented border style: inset\");\n          break;\n\n        case _util.AnnotationBorderStyleType.UNDERLINE:\n          container.style.borderBottomStyle = \"solid\";\n          break;\n\n        default:\n          break;\n      }\n\n      if (data.color) {\n        container.style.borderColor = _util.Util.makeHexColor(data.color[0] | 0, data.color[1] | 0, data.color[2] | 0);\n      } else {\n        container.style.borderWidth = 0;\n      }\n    }\n\n    container.style.left = `${rect[0]}px`;\n    container.style.top = `${rect[1]}px`;\n    container.style.width = `${width}px`;\n    container.style.height = `${height}px`;\n    return container;\n  }\n\n  _createQuadrilaterals(ignoreBorder = false) {\n    if (!this.data.quadPoints) {\n      return null;\n    }\n\n    const quadrilaterals = [];\n    const savedRect = this.data.rect;\n\n    for (const quadPoint of this.data.quadPoints) {\n      this.data.rect = [quadPoint[2].x, quadPoint[2].y, quadPoint[1].x, quadPoint[1].y];\n      quadrilaterals.push(this._createContainer(ignoreBorder));\n    }\n\n    this.data.rect = savedRect;\n    return quadrilaterals;\n  }\n\n  _createPopup(trigger, data) {\n    let container = this.container;\n\n    if (this.quadrilaterals) {\n      trigger = trigger || this.quadrilaterals;\n      container = this.quadrilaterals[0];\n    }\n\n    if (!trigger) {\n      trigger = document.createElement(\"div\");\n      trigger.style.height = container.style.height;\n      trigger.style.width = container.style.width;\n      container.appendChild(trigger);\n    }\n\n    const popupElement = new PopupElement({\n      container,\n      trigger,\n      color: data.color,\n      title: data.title,\n      modificationDate: data.modificationDate,\n      contents: data.contents,\n      hideWrapper: true\n    });\n    const popup = popupElement.render();\n    popup.style.left = container.style.width;\n    container.appendChild(popup);\n  }\n\n  _renderQuadrilaterals(className) {\n    this.quadrilaterals.forEach(quadrilateral => {\n      quadrilateral.className = className;\n    });\n    return this.quadrilaterals;\n  }\n\n  render() {\n    (0, _util.unreachable)(\"Abstract method `AnnotationElement.render` called\");\n  }\n\n}\n\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.url || parameters.data.dest || parameters.data.action || parameters.data.isTooltipOnly || parameters.data.actions && (parameters.data.actions.Action || parameters.data.actions[\"Mouse Up\"] || parameters.data.actions[\"Mouse Down\"]));\n    super(parameters, {\n      isRenderable,\n      createQuadrilaterals: true\n    });\n  }\n\n  render() {\n    const {\n      data,\n      linkService\n    } = this;\n    const link = document.createElement(\"a\");\n\n    if (data.url) {\n      (0, _display_utils.addLinkAttributes)(link, {\n        url: data.url,\n        target: data.newWindow ? _display_utils.LinkTarget.BLANK : linkService.externalLinkTarget,\n        rel: linkService.externalLinkRel,\n        enabled: linkService.externalLinkEnabled\n      });\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action);\n    } else if (data.dest) {\n      this._bindLink(link, data.dest);\n    } else if (data.actions && (data.actions.Action || data.actions[\"Mouse Up\"] || data.actions[\"Mouse Down\"]) && this.enableScripting && this.hasJSActions) {\n      this._bindJSAction(link, data);\n    } else {\n      this._bindLink(link, \"\");\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"linkAnnotation\").map((quadrilateral, index) => {\n        const linkElement = index === 0 ? link : link.cloneNode();\n        quadrilateral.appendChild(linkElement);\n        return quadrilateral;\n      });\n    }\n\n    this.container.className = \"linkAnnotation\";\n    this.container.appendChild(link);\n    return this.container;\n  }\n\n  _bindLink(link, destination) {\n    link.href = this.linkService.getDestinationHash(destination);\n\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.goToDestination(destination);\n      }\n\n      return false;\n    };\n\n    if (destination || destination === \"\") {\n      link.className = \"internalLink\";\n    }\n  }\n\n  _bindNamedAction(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n\n    link.className = \"internalLink\";\n  }\n\n  _bindJSAction(link, data) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    const map = new Map([[\"Action\", \"onclick\"], [\"Mouse Up\", \"onmouseup\"], [\"Mouse Down\", \"onmousedown\"]]);\n\n    for (const name of Object.keys(data.actions)) {\n      const jsName = map.get(name);\n\n      if (!jsName) {\n        continue;\n      }\n\n      link[jsName] = () => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: data.id,\n            name\n          }\n        });\n        return false;\n      };\n    }\n\n    link.className = \"internalLink\";\n  }\n\n}\n\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n    super(parameters, {\n      isRenderable\n    });\n  }\n\n  render() {\n    this.container.className = \"textAnnotation\";\n    const image = document.createElement(\"img\");\n    image.style.height = this.container.style.height;\n    image.style.width = this.container.style.width;\n    image.src = this.imageResourcesPath + \"annotation-\" + this.data.name.toLowerCase() + \".svg\";\n    image.alt = \"[{{type}} Annotation]\";\n    image.dataset.l10nId = \"text_annotation_type\";\n    image.dataset.l10nArgs = JSON.stringify({\n      type: this.data.name\n    });\n\n    if (!this.data.hasPopup) {\n      this._createPopup(image, this.data);\n    }\n\n    this.container.appendChild(image);\n    return this.container;\n  }\n\n}\n\nclass WidgetAnnotationElement extends AnnotationElement {\n  render() {\n    if (this.data.alternativeText) {\n      this.container.title = this.data.alternativeText;\n    }\n\n    return this.container;\n  }\n\n  _getKeyModifier(event) {\n    return navigator.platform.includes(\"Win\") && event.ctrlKey || navigator.platform.includes(\"Mac\") && event.metaKey;\n  }\n\n  _setEventListener(element, baseName, eventName, valueGetter) {\n    if (baseName.includes(\"mouse\")) {\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n            shift: event.shiftKey,\n            modifier: this._getKeyModifier(event)\n          }\n        });\n      });\n    } else {\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: event.target.checked\n          }\n        });\n      });\n    }\n  }\n\n  _setEventListeners(element, names, getter) {\n    for (const [baseName, eventName] of names) {\n      if (eventName === \"Action\" || this.data.actions?.[eventName]) {\n        this._setEventListener(element, baseName, eventName, getter);\n      }\n    }\n  }\n\n}\n\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable = parameters.renderInteractiveForms || !parameters.data.hasAppearance && !!parameters.data.fieldValue;\n    super(parameters, {\n      isRenderable\n    });\n  }\n\n  render() {\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    this.container.className = \"textWidgetAnnotation\";\n    let element = null;\n\n    if (this.renderInteractiveForms) {\n      const textContent = storage.getOrCreateValue(id, {\n        value: this.data.fieldValue\n      }).value;\n      const elementData = {\n        userValue: null,\n        formattedValue: null,\n        beforeInputSelectionRange: null,\n        beforeInputValue: null\n      };\n\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = textContent;\n      } else {\n        element = document.createElement(\"input\");\n        element.type = \"text\";\n        element.setAttribute(\"value\", textContent);\n      }\n\n      elementData.userValue = textContent;\n      element.setAttribute(\"id\", id);\n      element.addEventListener(\"input\", function (event) {\n        storage.setValue(id, {\n          value: event.target.value\n        });\n      });\n\n      let blurListener = event => {\n        if (elementData.formattedValue) {\n          event.target.value = elementData.formattedValue;\n        }\n\n        event.target.setSelectionRange(0, 0);\n        elementData.beforeInputSelectionRange = null;\n      };\n\n      if (this.enableScripting && this.hasJSActions) {\n        element.addEventListener(\"focus\", event => {\n          if (elementData.userValue) {\n            event.target.value = elementData.userValue;\n          }\n        });\n        element.addEventListener(\"updatefromsandbox\", function (event) {\n          const {\n            detail\n          } = event;\n          const actions = {\n            value() {\n              elementData.userValue = detail.value || \"\";\n              storage.setValue(id, {\n                value: elementData.userValue.toString()\n              });\n\n              if (!elementData.formattedValue) {\n                event.target.value = elementData.userValue;\n              }\n            },\n\n            valueAsString() {\n              elementData.formattedValue = detail.valueAsString || \"\";\n\n              if (event.target !== document.activeElement) {\n                event.target.value = elementData.formattedValue;\n              }\n\n              storage.setValue(id, {\n                formattedValue: elementData.formattedValue\n              });\n            },\n\n            focus() {\n              setTimeout(() => event.target.focus({\n                preventScroll: false\n              }), 0);\n            },\n\n            userName() {\n              event.target.title = detail.userName;\n            },\n\n            hidden() {\n              event.target.style.visibility = detail.hidden ? \"hidden\" : \"visible\";\n              storage.setValue(id, {\n                hidden: detail.hidden\n              });\n            },\n\n            editable() {\n              event.target.disabled = !detail.editable;\n            },\n\n            selRange() {\n              const [selStart, selEnd] = detail.selRange;\n\n              if (selStart >= 0 && selEnd < event.target.value.length) {\n                event.target.setSelectionRange(selStart, selEnd);\n              }\n            },\n\n            strokeColor() {\n              const color = detail.strokeColor;\n              event.target.style.color = _scripting_utils.ColorConverters[`${color[0]}_HTML`](color.slice(1));\n            }\n\n          };\n          Object.keys(detail).filter(name => name in actions).forEach(name => actions[name]());\n        });\n\n        if (this.data.actions) {\n          element.addEventListener(\"keydown\", event => {\n            elementData.beforeInputValue = event.target.value;\n            let commitKey = -1;\n\n            if (event.key === \"Escape\") {\n              commitKey = 0;\n            } else if (event.key === \"Enter\") {\n              commitKey = 2;\n            } else if (event.key === \"Tab\") {\n              commitKey = 3;\n            }\n\n            if (commitKey === -1) {\n              return;\n            }\n\n            elementData.userValue = event.target.value;\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value: event.target.value,\n                willCommit: true,\n                commitKey,\n                selStart: event.target.selectionStart,\n                selEnd: event.target.selectionEnd\n              }\n            });\n          });\n          const _blurListener = blurListener;\n          blurListener = null;\n          element.addEventListener(\"blur\", event => {\n            if (this._mouseState.isDown) {\n              elementData.userValue = event.target.value;\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id,\n                  name: \"Keystroke\",\n                  value: event.target.value,\n                  willCommit: true,\n                  commitKey: 1,\n                  selStart: event.target.selectionStart,\n                  selEnd: event.target.selectionEnd\n                }\n              });\n            }\n\n            _blurListener(event);\n          });\n          element.addEventListener(\"mousedown\", event => {\n            elementData.beforeInputValue = event.target.value;\n            elementData.beforeInputSelectionRange = null;\n          });\n          element.addEventListener(\"keyup\", event => {\n            if (event.target.selectionStart === event.target.selectionEnd) {\n              elementData.beforeInputSelectionRange = null;\n            }\n          });\n          element.addEventListener(\"select\", event => {\n            elementData.beforeInputSelectionRange = [event.target.selectionStart, event.target.selectionEnd];\n          });\n\n          if (\"Keystroke\" in this.data.actions) {\n            element.addEventListener(\"input\", event => {\n              let selStart = -1;\n              let selEnd = -1;\n\n              if (elementData.beforeInputSelectionRange) {\n                [selStart, selEnd] = elementData.beforeInputSelectionRange;\n              }\n\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id,\n                  name: \"Keystroke\",\n                  value: elementData.beforeInputValue,\n                  change: event.data,\n                  willCommit: false,\n                  selStart,\n                  selEnd\n                }\n              });\n            });\n          }\n\n          this._setEventListeners(element, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.value);\n        }\n      }\n\n      if (blurListener) {\n        element.addEventListener(\"blur\", blurListener);\n      }\n\n      element.disabled = this.data.readOnly;\n      element.name = this.data.fieldName;\n\n      if (this.data.maxLen !== null) {\n        element.maxLength = this.data.maxLen;\n      }\n\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / this.data.maxLen;\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n    }\n\n    this._setTextStyle(element);\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n\n  _setTextStyle(element) {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n    const {\n      fontSize,\n      fontColor\n    } = this.data.defaultAppearanceData;\n    const style = element.style;\n\n    if (fontSize) {\n      style.fontSize = `${fontSize}px`;\n    }\n\n    style.color = _util.Util.makeHexColor(fontColor[0], fontColor[1], fontColor[2]);\n\n    if (this.data.textAlignment !== null) {\n      style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n  }\n\n}\n\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderInteractiveForms\n    });\n  }\n\n  render() {\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    const value = storage.getOrCreateValue(id, {\n      value: data.fieldValue && data.fieldValue !== \"Off\"\n    }).value;\n    this.container.className = \"buttonWidgetAnnotation checkBox\";\n    const element = document.createElement(\"input\");\n    element.disabled = data.readOnly;\n    element.type = \"checkbox\";\n    element.name = this.data.fieldName;\n\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n\n    element.setAttribute(\"id\", id);\n    element.addEventListener(\"change\", function (event) {\n      const name = event.target.name;\n\n      for (const checkbox of document.getElementsByName(name)) {\n        if (checkbox !== event.target) {\n          checkbox.checked = false;\n          storage.setValue(checkbox.parentNode.getAttribute(\"data-annotation-id\"), {\n            value: false\n          });\n        }\n      }\n\n      storage.setValue(id, {\n        value: event.target.checked\n      });\n    });\n\n    if (this.enableScripting && this.hasJSActions) {\n      element.addEventListener(\"updatefromsandbox\", event => {\n        const {\n          detail\n        } = event;\n        const actions = {\n          value() {\n            event.target.checked = detail.value !== \"Off\";\n            storage.setValue(id, {\n              value: event.target.checked\n            });\n          },\n\n          focus() {\n            setTimeout(() => event.target.focus({\n              preventScroll: false\n            }), 0);\n          },\n\n          hidden() {\n            event.target.style.visibility = detail.hidden ? \"hidden\" : \"visible\";\n            storage.setValue(id, {\n              hidden: detail.hidden\n            });\n          },\n\n          editable() {\n            event.target.disabled = !detail.editable;\n          }\n\n        };\n        Object.keys(detail).filter(name => name in actions).forEach(name => actions[name]());\n      });\n\n      this._setEventListeners(element, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n\n}\n\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderInteractiveForms\n    });\n  }\n\n  render() {\n    this.container.className = \"buttonWidgetAnnotation radioButton\";\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    const value = storage.getOrCreateValue(id, {\n      value: data.fieldValue === data.buttonValue\n    }).value;\n    const element = document.createElement(\"input\");\n    element.disabled = data.readOnly;\n    element.type = \"radio\";\n    element.name = data.fieldName;\n\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n\n    element.setAttribute(\"pdfButtonValue\", data.buttonValue);\n    element.setAttribute(\"id\", id);\n    element.addEventListener(\"change\", function (event) {\n      const {\n        target\n      } = event;\n\n      for (const radio of document.getElementsByName(target.name)) {\n        if (radio !== target) {\n          storage.setValue(radio.getAttribute(\"id\"), {\n            value: false\n          });\n        }\n      }\n\n      storage.setValue(id, {\n        value: target.checked\n      });\n    });\n\n    if (this.enableScripting && this.hasJSActions) {\n      element.addEventListener(\"updatefromsandbox\", event => {\n        const {\n          detail\n        } = event;\n        const actions = {\n          value() {\n            const fieldValue = detail.value;\n\n            for (const radio of document.getElementsByName(event.target.name)) {\n              const radioId = radio.getAttribute(\"id\");\n\n              if (fieldValue === radio.getAttribute(\"pdfButtonValue\")) {\n                radio.setAttribute(\"checked\", true);\n                storage.setValue(radioId, {\n                  value: true\n                });\n              } else {\n                storage.setValue(radioId, {\n                  value: false\n                });\n              }\n            }\n          },\n\n          focus() {\n            setTimeout(() => event.target.focus({\n              preventScroll: false\n            }), 0);\n          },\n\n          hidden() {\n            event.target.style.visibility = detail.hidden ? \"hidden\" : \"visible\";\n            storage.setValue(id, {\n              hidden: detail.hidden\n            });\n          },\n\n          editable() {\n            event.target.disabled = !detail.editable;\n          }\n\n        };\n        Object.keys(detail).filter(name => name in actions).forEach(name => actions[name]());\n      });\n\n      this._setEventListeners(element, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n\n}\n\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  render() {\n    const container = super.render();\n    container.className = \"buttonWidgetAnnotation pushButton\";\n\n    if (this.data.alternativeText) {\n      container.title = this.data.alternativeText;\n    }\n\n    return container;\n  }\n\n}\n\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderInteractiveForms\n    });\n  }\n\n  render() {\n    this.container.className = \"choiceWidgetAnnotation\";\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    storage.getOrCreateValue(id, {\n      value: this.data.fieldValue.length > 0 ? this.data.fieldValue[0] : undefined\n    });\n    const selectElement = document.createElement(\"select\");\n    selectElement.disabled = this.data.readOnly;\n    selectElement.name = this.data.fieldName;\n    selectElement.setAttribute(\"id\", id);\n\n    if (!this.data.combo) {\n      selectElement.size = this.data.options.length;\n\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n\n      if (this.data.fieldValue.includes(option.exportValue)) {\n        optionElement.setAttribute(\"selected\", true);\n      }\n\n      selectElement.appendChild(optionElement);\n    }\n\n    function getValue(event) {\n      const options = event.target.options;\n      return options[options.selectedIndex].value;\n    }\n\n    if (this.enableScripting && this.hasJSActions) {\n      selectElement.addEventListener(\"updatefromsandbox\", event => {\n        const {\n          detail\n        } = event;\n        const actions = {\n          value() {\n            const options = event.target.options;\n            const value = detail.value;\n            const i = options.indexOf(value);\n\n            if (i !== -1) {\n              options.selectedIndex = i;\n              storage.setValue(id, {\n                value\n              });\n            }\n          },\n\n          focus() {\n            setTimeout(() => event.target.focus({\n              preventScroll: false\n            }), 0);\n          },\n\n          hidden() {\n            event.target.style.visibility = detail.hidden ? \"hidden\" : \"visible\";\n            storage.setValue(id, {\n              hidden: detail.hidden\n            });\n          },\n\n          editable() {\n            event.target.disabled = !detail.editable;\n          }\n\n        };\n        Object.keys(detail).filter(name => name in actions).forEach(name => actions[name]());\n      });\n      selectElement.addEventListener(\"input\", event => {\n        const value = getValue(event);\n        storage.setValue(id, {\n          value\n        });\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id,\n            name: \"Keystroke\",\n            changeEx: value,\n            willCommit: true,\n            commitKey: 1,\n            keyDown: false\n          }\n        });\n      });\n\n      this._setEventListeners(selectElement, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    } else {\n      selectElement.addEventListener(\"input\", function (event) {\n        storage.setValue(id, {\n          value: getValue(event)\n        });\n      });\n    }\n\n    this.container.appendChild(selectElement);\n    return this.container;\n  }\n\n}\n\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.title || parameters.data.contents);\n    super(parameters, {\n      isRenderable\n    });\n  }\n\n  render() {\n    const IGNORE_TYPES = [\"Line\", \"Square\", \"Circle\", \"PolyLine\", \"Polygon\", \"Ink\"];\n    this.container.className = \"popupAnnotation\";\n\n    if (IGNORE_TYPES.includes(this.data.parentType)) {\n      return this.container;\n    }\n\n    const selector = `[data-annotation-id=\"${this.data.parentId}\"]`;\n    const parentElements = this.layer.querySelectorAll(selector);\n\n    if (parentElements.length === 0) {\n      return this.container;\n    }\n\n    const popup = new PopupElement({\n      container: this.container,\n      trigger: Array.from(parentElements),\n      color: this.data.color,\n      title: this.data.title,\n      modificationDate: this.data.modificationDate,\n      contents: this.data.contents\n    });\n    const page = this.page;\n\n    const rect = _util.Util.normalizeRect([this.data.parentRect[0], page.view[3] - this.data.parentRect[1] + page.view[1], this.data.parentRect[2], page.view[3] - this.data.parentRect[3] + page.view[1]]);\n\n    const popupLeft = rect[0] + this.data.parentRect[2] - this.data.parentRect[0];\n    const popupTop = rect[1];\n    this.container.style.transformOrigin = `${-popupLeft}px ${-popupTop}px`;\n    this.container.style.left = `${popupLeft}px`;\n    this.container.style.top = `${popupTop}px`;\n    this.container.appendChild(popup.render());\n    return this.container;\n  }\n\n}\n\nclass PopupElement {\n  constructor(parameters) {\n    this.container = parameters.container;\n    this.trigger = parameters.trigger;\n    this.color = parameters.color;\n    this.title = parameters.title;\n    this.modificationDate = parameters.modificationDate;\n    this.contents = parameters.contents;\n    this.hideWrapper = parameters.hideWrapper || false;\n    this.pinned = false;\n  }\n\n  render() {\n    const BACKGROUND_ENLIGHT = 0.7;\n    const wrapper = document.createElement(\"div\");\n    wrapper.className = \"popupWrapper\";\n    this.hideElement = this.hideWrapper ? wrapper : this.container;\n    this.hideElement.setAttribute(\"hidden\", true);\n    const popup = document.createElement(\"div\");\n    popup.className = \"popup\";\n    const color = this.color;\n\n    if (color) {\n      const r = BACKGROUND_ENLIGHT * (255 - color[0]) + color[0];\n      const g = BACKGROUND_ENLIGHT * (255 - color[1]) + color[1];\n      const b = BACKGROUND_ENLIGHT * (255 - color[2]) + color[2];\n      popup.style.backgroundColor = _util.Util.makeHexColor(r | 0, g | 0, b | 0);\n    }\n\n    const title = document.createElement(\"h1\");\n    title.textContent = this.title;\n    popup.appendChild(title);\n\n    const dateObject = _display_utils.PDFDateString.toDateObject(this.modificationDate);\n\n    if (dateObject) {\n      const modificationDate = document.createElement(\"span\");\n      modificationDate.textContent = \"{{date}}, {{time}}\";\n      modificationDate.dataset.l10nId = \"annotation_date_string\";\n      modificationDate.dataset.l10nArgs = JSON.stringify({\n        date: dateObject.toLocaleDateString(),\n        time: dateObject.toLocaleTimeString()\n      });\n      popup.appendChild(modificationDate);\n    }\n\n    const contents = this._formatContents(this.contents);\n\n    popup.appendChild(contents);\n\n    if (!Array.isArray(this.trigger)) {\n      this.trigger = [this.trigger];\n    }\n\n    this.trigger.forEach(element => {\n      element.addEventListener(\"click\", this._toggle.bind(this));\n      element.addEventListener(\"mouseover\", this._show.bind(this, false));\n      element.addEventListener(\"mouseout\", this._hide.bind(this, false));\n    });\n    popup.addEventListener(\"click\", this._hide.bind(this, true));\n    wrapper.appendChild(popup);\n    return wrapper;\n  }\n\n  _formatContents(contents) {\n    const p = document.createElement(\"p\");\n    const lines = contents.split(/(?:\\r\\n?|\\n)/);\n\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.appendChild(document.createTextNode(line));\n\n      if (i < ii - 1) {\n        p.appendChild(document.createElement(\"br\"));\n      }\n    }\n\n    return p;\n  }\n\n  _toggle() {\n    if (this.pinned) {\n      this._hide(true);\n    } else {\n      this._show(true);\n    }\n  }\n\n  _show(pin = false) {\n    if (pin) {\n      this.pinned = true;\n    }\n\n    if (this.hideElement.hasAttribute(\"hidden\")) {\n      this.hideElement.removeAttribute(\"hidden\");\n      this.container.style.zIndex += 1;\n    }\n  }\n\n  _hide(unpin = true) {\n    if (unpin) {\n      this.pinned = false;\n    }\n\n    if (!this.hideElement.hasAttribute(\"hidden\") && !this.pinned) {\n      this.hideElement.setAttribute(\"hidden\", true);\n      this.container.style.zIndex -= 1;\n    }\n  }\n\n}\n\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true\n    });\n  }\n\n  render() {\n    this.container.className = \"freeTextAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    return this.container;\n  }\n\n}\n\nclass LineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true\n    });\n  }\n\n  render() {\n    this.container.className = \"lineAnnotation\";\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n    const line = this.svgFactory.createElement(\"svg:line\");\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n    svg.appendChild(line);\n    this.container.append(svg);\n\n    this._createPopup(line, data);\n\n    return this.container;\n  }\n\n}\n\nclass SquareAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true\n    });\n  }\n\n  render() {\n    this.container.className = \"squareAnnotation\";\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n    const borderWidth = data.borderStyle.width;\n    const square = this.svgFactory.createElement(\"svg:rect\");\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"none\");\n    svg.appendChild(square);\n    this.container.append(svg);\n\n    this._createPopup(square, data);\n\n    return this.container;\n  }\n\n}\n\nclass CircleAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true\n    });\n  }\n\n  render() {\n    this.container.className = \"circleAnnotation\";\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n    const borderWidth = data.borderStyle.width;\n    const circle = this.svgFactory.createElement(\"svg:ellipse\");\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"none\");\n    svg.appendChild(circle);\n    this.container.append(svg);\n\n    this._createPopup(circle, data);\n\n    return this.container;\n  }\n\n}\n\nclass PolylineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n\n  render() {\n    this.container.className = this.containerClassName;\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n    let points = [];\n\n    for (const coordinate of data.vertices) {\n      const x = coordinate.x - data.rect[0];\n      const y = data.rect[3] - coordinate.y;\n      points.push(x + \",\" + y);\n    }\n\n    points = points.join(\" \");\n    const polyline = this.svgFactory.createElement(this.svgElementName);\n    polyline.setAttribute(\"points\", points);\n    polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"none\");\n    svg.appendChild(polyline);\n    this.container.append(svg);\n\n    this._createPopup(polyline, data);\n\n    return this.container;\n  }\n\n}\n\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    super(parameters);\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n\n}\n\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true\n    });\n  }\n\n  render() {\n    this.container.className = \"caretAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    return this.container;\n  }\n\n}\n\nclass InkAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"inkAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n\n  render() {\n    this.container.className = this.containerClassName;\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    for (const inkList of data.inkLists) {\n      let points = [];\n\n      for (const coordinate of inkList) {\n        const x = coordinate.x - data.rect[0];\n        const y = data.rect[3] - coordinate.y;\n        points.push(`${x},${y}`);\n      }\n\n      points = points.join(\" \");\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      polyline.setAttribute(\"points\", points);\n      polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n      polyline.setAttribute(\"stroke\", \"transparent\");\n      polyline.setAttribute(\"fill\", \"none\");\n\n      this._createPopup(polyline, data);\n\n      svg.appendChild(polyline);\n    }\n\n    this.container.append(svg);\n    return this.container;\n  }\n\n}\n\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"highlightAnnotation\");\n    }\n\n    this.container.className = \"highlightAnnotation\";\n    return this.container;\n  }\n\n}\n\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"underlineAnnotation\");\n    }\n\n    this.container.className = \"underlineAnnotation\";\n    return this.container;\n  }\n\n}\n\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"squigglyAnnotation\");\n    }\n\n    this.container.className = \"squigglyAnnotation\";\n    return this.container;\n  }\n\n}\n\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"strikeoutAnnotation\");\n    }\n\n    this.container.className = \"strikeoutAnnotation\";\n    return this.container;\n  }\n\n}\n\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true\n    });\n  }\n\n  render() {\n    this.container.className = \"stampAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    return this.container;\n  }\n\n}\n\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n    const {\n      filename,\n      content\n    } = this.data.file;\n    this.filename = (0, _display_utils.getFilenameFromUrl)(filename);\n    this.content = content;\n    this.linkService.eventBus?.dispatch(\"fileattachmentannotation\", {\n      source: this,\n      id: (0, _util.stringToPDFString)(filename),\n      filename,\n      content\n    });\n  }\n\n  render() {\n    this.container.className = \"fileAttachmentAnnotation\";\n    const trigger = document.createElement(\"div\");\n    trigger.style.height = this.container.style.height;\n    trigger.style.width = this.container.style.width;\n    trigger.addEventListener(\"dblclick\", this._download.bind(this));\n\n    if (!this.data.hasPopup && (this.data.title || this.data.contents)) {\n      this._createPopup(trigger, this.data);\n    }\n\n    this.container.appendChild(trigger);\n    return this.container;\n  }\n\n  _download() {\n    if (!this.downloadManager) {\n      (0, _util.warn)(\"Download cannot be started due to unavailable download manager\");\n      return;\n    }\n\n    this.downloadManager.downloadData(this.content, this.filename, \"\");\n  }\n\n}\n\nclass AnnotationLayer {\n  static render(parameters) {\n    const sortedAnnotations = [],\n          popupAnnotations = [];\n\n    for (const data of parameters.annotations) {\n      if (!data) {\n        continue;\n      }\n\n      if (data.annotationType === _util.AnnotationType.POPUP) {\n        popupAnnotations.push(data);\n        continue;\n      }\n\n      sortedAnnotations.push(data);\n    }\n\n    if (popupAnnotations.length) {\n      sortedAnnotations.push(...popupAnnotations);\n    }\n\n    for (const data of sortedAnnotations) {\n      const element = AnnotationElementFactory.create({\n        data,\n        layer: parameters.div,\n        page: parameters.page,\n        viewport: parameters.viewport,\n        linkService: parameters.linkService,\n        downloadManager: parameters.downloadManager,\n        imageResourcesPath: parameters.imageResourcesPath || \"\",\n        renderInteractiveForms: typeof parameters.renderInteractiveForms === \"boolean\" ? parameters.renderInteractiveForms : true,\n        svgFactory: new _display_utils.DOMSVGFactory(),\n        annotationStorage: parameters.annotationStorage || new _annotation_storage.AnnotationStorage(),\n        enableScripting: parameters.enableScripting,\n        hasJSActions: parameters.hasJSActions,\n        mouseState: parameters.mouseState || {\n          isDown: false\n        }\n      });\n\n      if (element.isRenderable) {\n        const rendered = element.render();\n\n        if (data.hidden) {\n          rendered.style.visibility = \"hidden\";\n        }\n\n        if (Array.isArray(rendered)) {\n          for (const renderedElement of rendered) {\n            parameters.div.appendChild(renderedElement);\n          }\n        } else {\n          if (element instanceof PopupAnnotationElement) {\n            parameters.div.prepend(rendered);\n          } else {\n            parameters.div.appendChild(rendered);\n          }\n        }\n      }\n    }\n  }\n\n  static update(parameters) {\n    const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n\n    for (const data of parameters.annotations) {\n      const elements = parameters.div.querySelectorAll(`[data-annotation-id=\"${data.id}\"]`);\n\n      if (elements) {\n        elements.forEach(element => {\n          element.style.transform = transform;\n        });\n      }\n    }\n\n    parameters.div.removeAttribute(\"hidden\");\n  }\n\n}\n\nexports.AnnotationLayer = AnnotationLayer;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AnnotationStorage = void 0;\n\nvar _util = require(\"../shared/util.js\");\n\nclass AnnotationStorage {\n  constructor() {\n    this._storage = new Map();\n    this._modified = false;\n    this.onSetModified = null;\n    this.onResetModified = null;\n  }\n\n  getOrCreateValue(key, defaultValue) {\n    if (this._storage.has(key)) {\n      return this._storage.get(key);\n    }\n\n    this._storage.set(key, defaultValue);\n\n    return defaultValue;\n  }\n\n  setValue(key, value) {\n    const obj = this._storage.get(key);\n\n    let modified = false;\n\n    if (obj !== undefined) {\n      for (const [entry, val] of Object.entries(value)) {\n        if (obj[entry] !== val) {\n          modified = true;\n          obj[entry] = val;\n        }\n      }\n    } else {\n      this._storage.set(key, value);\n\n      modified = true;\n    }\n\n    if (modified) {\n      this._setModified();\n    }\n  }\n\n  getAll() {\n    if (this._storage.size === 0) {\n      return null;\n    }\n\n    return (0, _util.objectFromEntries)(this._storage);\n  }\n\n  get size() {\n    return this._storage.size;\n  }\n\n  _setModified() {\n    if (!this._modified) {\n      this._modified = true;\n\n      if (typeof this.onSetModified === \"function\") {\n        this.onSetModified();\n      }\n    }\n  }\n\n  resetModified() {\n    if (this._modified) {\n      this._modified = false;\n\n      if (typeof this.onResetModified === \"function\") {\n        this.onResetModified();\n      }\n    }\n  }\n\n}\n\nexports.AnnotationStorage = AnnotationStorage;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDocument = getDocument;\nexports.setPDFNetworkStreamFactory = setPDFNetworkStreamFactory;\nexports.version = exports.PDFWorker = exports.PDFPageProxy = exports.PDFDocumentProxy = exports.PDFDataRangeTransport = exports.LoopbackPort = exports.DefaultCMapReaderFactory = exports.DefaultCanvasFactory = exports.build = void 0;\n\nvar _util = require(\"../shared/util.js\");\n\nvar _display_utils = require(\"./display_utils.js\");\n\nvar _font_loader = require(\"./font_loader.js\");\n\nvar _node_utils = require(\"./node_utils.js\");\n\nvar _annotation_storage = require(\"./annotation_storage.js\");\n\nvar _api_compatibility = require(\"./api_compatibility.js\");\n\nvar _canvas = require(\"./canvas.js\");\n\nvar _worker_options = require(\"./worker_options.js\");\n\nvar _is_node = require(\"../shared/is_node.js\");\n\nvar _message_handler = require(\"../shared/message_handler.js\");\n\nvar _metadata = require(\"./metadata.js\");\n\nvar _optional_content_config = require(\"./optional_content_config.js\");\n\nvar _transport_stream = require(\"./transport_stream.js\");\n\nvar _webgl = require(\"./webgl.js\");\n\nconst DEFAULT_RANGE_CHUNK_SIZE = 65536;\nconst RENDERING_CANCELLED_TIMEOUT = 100;\nconst DefaultCanvasFactory = _is_node.isNodeJS ? _node_utils.NodeCanvasFactory : _display_utils.DOMCanvasFactory;\nexports.DefaultCanvasFactory = DefaultCanvasFactory;\nconst DefaultCMapReaderFactory = _is_node.isNodeJS ? _node_utils.NodeCMapReaderFactory : _display_utils.DOMCMapReaderFactory;\nexports.DefaultCMapReaderFactory = DefaultCMapReaderFactory;\nlet createPDFNetworkStream;\n\nfunction setPDFNetworkStreamFactory(pdfNetworkStreamFactory) {\n  createPDFNetworkStream = pdfNetworkStreamFactory;\n}\n\nfunction getDocument(src) {\n  const task = new PDFDocumentLoadingTask();\n  let source;\n\n  if (typeof src === \"string\") {\n    source = {\n      url: src\n    };\n  } else if ((0, _util.isArrayBuffer)(src)) {\n    source = {\n      data: src\n    };\n  } else if (src instanceof PDFDataRangeTransport) {\n    source = {\n      range: src\n    };\n  } else {\n    if (typeof src !== \"object\") {\n      throw new Error(\"Invalid parameter in getDocument, \" + \"need either Uint8Array, string or a parameter object\");\n    }\n\n    if (!src.url && !src.data && !src.range) {\n      throw new Error(\"Invalid parameter object: need either .data, .range or .url\");\n    }\n\n    source = src;\n  }\n\n  const params = Object.create(null);\n  let rangeTransport = null,\n      worker = null;\n\n  for (const key in source) {\n    if (key === \"url\" && typeof window !== \"undefined\") {\n      params[key] = new URL(source[key], window.location).href;\n      continue;\n    } else if (key === \"range\") {\n      rangeTransport = source[key];\n      continue;\n    } else if (key === \"worker\") {\n      worker = source[key];\n      continue;\n    } else if (key === \"data\" && !(source[key] instanceof Uint8Array)) {\n      const pdfBytes = source[key];\n\n      if (typeof pdfBytes === \"string\") {\n        params[key] = (0, _util.stringToBytes)(pdfBytes);\n      } else if (typeof pdfBytes === \"object\" && pdfBytes !== null && !isNaN(pdfBytes.length)) {\n        params[key] = new Uint8Array(pdfBytes);\n      } else if ((0, _util.isArrayBuffer)(pdfBytes)) {\n        params[key] = new Uint8Array(pdfBytes);\n      } else {\n        throw new Error(\"Invalid PDF binary data: either typed array, \" + \"string or array-like object is expected in the \" + \"data property.\");\n      }\n\n      continue;\n    }\n\n    params[key] = source[key];\n  }\n\n  params.rangeChunkSize = params.rangeChunkSize || DEFAULT_RANGE_CHUNK_SIZE;\n  params.CMapReaderFactory = params.CMapReaderFactory || DefaultCMapReaderFactory;\n  params.ignoreErrors = params.stopAtErrors !== true;\n  params.fontExtraProperties = params.fontExtraProperties === true;\n  params.pdfBug = params.pdfBug === true;\n\n  if (!Number.isInteger(params.maxImageSize)) {\n    params.maxImageSize = -1;\n  }\n\n  if (typeof params.isEvalSupported !== \"boolean\") {\n    params.isEvalSupported = true;\n  }\n\n  if (typeof params.disableFontFace !== \"boolean\") {\n    params.disableFontFace = _api_compatibility.apiCompatibilityParams.disableFontFace || false;\n  }\n\n  if (typeof params.ownerDocument === \"undefined\") {\n    params.ownerDocument = globalThis.document;\n  }\n\n  if (typeof params.disableRange !== \"boolean\") {\n    params.disableRange = false;\n  }\n\n  if (typeof params.disableStream !== \"boolean\") {\n    params.disableStream = false;\n  }\n\n  if (typeof params.disableAutoFetch !== \"boolean\") {\n    params.disableAutoFetch = false;\n  }\n\n  (0, _util.setVerbosityLevel)(params.verbosity);\n\n  if (!worker) {\n    const workerParams = {\n      verbosity: params.verbosity,\n      port: _worker_options.GlobalWorkerOptions.workerPort\n    };\n    worker = workerParams.port ? PDFWorker.fromPort(workerParams) : new PDFWorker(workerParams);\n    task._worker = worker;\n  }\n\n  const docId = task.docId;\n  worker.promise.then(function () {\n    if (task.destroyed) {\n      throw new Error(\"Loading aborted\");\n    }\n\n    const workerIdPromise = _fetchDocument(worker, params, rangeTransport, docId);\n\n    const networkStreamPromise = new Promise(function (resolve) {\n      let networkStream;\n\n      if (rangeTransport) {\n        networkStream = new _transport_stream.PDFDataTransportStream({\n          length: params.length,\n          initialData: params.initialData,\n          progressiveDone: params.progressiveDone,\n          disableRange: params.disableRange,\n          disableStream: params.disableStream\n        }, rangeTransport);\n      } else if (!params.data) {\n        networkStream = createPDFNetworkStream({\n          url: params.url,\n          length: params.length,\n          httpHeaders: params.httpHeaders,\n          withCredentials: params.withCredentials,\n          rangeChunkSize: params.rangeChunkSize,\n          disableRange: params.disableRange,\n          disableStream: params.disableStream\n        });\n      }\n\n      resolve(networkStream);\n    });\n    return Promise.all([workerIdPromise, networkStreamPromise]).then(function ([workerId, networkStream]) {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n\n      const messageHandler = new _message_handler.MessageHandler(docId, workerId, worker.port);\n      messageHandler.postMessageTransfers = worker.postMessageTransfers;\n      const transport = new WorkerTransport(messageHandler, task, networkStream, params);\n      task._transport = transport;\n      messageHandler.send(\"Ready\", null);\n    });\n  }).catch(task._capability.reject);\n  return task;\n}\n\nfunction _fetchDocument(worker, source, pdfDataRangeTransport, docId) {\n  if (worker.destroyed) {\n    return Promise.reject(new Error(\"Worker was destroyed\"));\n  }\n\n  if (pdfDataRangeTransport) {\n    source.length = pdfDataRangeTransport.length;\n    source.initialData = pdfDataRangeTransport.initialData;\n    source.progressiveDone = pdfDataRangeTransport.progressiveDone;\n  }\n\n  return worker.messageHandler.sendWithPromise(\"GetDocRequest\", {\n    docId,\n    apiVersion: '2.7.570',\n    source: {\n      data: source.data,\n      url: source.url,\n      password: source.password,\n      disableAutoFetch: source.disableAutoFetch,\n      rangeChunkSize: source.rangeChunkSize,\n      length: source.length\n    },\n    maxImageSize: source.maxImageSize,\n    disableFontFace: source.disableFontFace,\n    postMessageTransfers: worker.postMessageTransfers,\n    docBaseUrl: source.docBaseUrl,\n    ignoreErrors: source.ignoreErrors,\n    isEvalSupported: source.isEvalSupported,\n    fontExtraProperties: source.fontExtraProperties\n  }).then(function (workerId) {\n    if (worker.destroyed) {\n      throw new Error(\"Worker was destroyed\");\n    }\n\n    return workerId;\n  });\n}\n\nconst PDFDocumentLoadingTask = function PDFDocumentLoadingTaskClosure() {\n  let nextDocumentId = 0;\n\n  class PDFDocumentLoadingTask {\n    constructor() {\n      this._capability = (0, _util.createPromiseCapability)();\n      this._transport = null;\n      this._worker = null;\n      this.docId = \"d\" + nextDocumentId++;\n      this.destroyed = false;\n      this.onPassword = null;\n      this.onProgress = null;\n      this.onUnsupportedFeature = null;\n    }\n\n    get promise() {\n      return this._capability.promise;\n    }\n\n    destroy() {\n      this.destroyed = true;\n      const transportDestroyed = !this._transport ? Promise.resolve() : this._transport.destroy();\n      return transportDestroyed.then(() => {\n        this._transport = null;\n\n        if (this._worker) {\n          this._worker.destroy();\n\n          this._worker = null;\n        }\n      });\n    }\n\n  }\n\n  return PDFDocumentLoadingTask;\n}();\n\nclass PDFDataRangeTransport {\n  constructor(length, initialData, progressiveDone = false) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n    this._rangeListeners = [];\n    this._progressListeners = [];\n    this._progressiveReadListeners = [];\n    this._progressiveDoneListeners = [];\n    this._readyCapability = (0, _util.createPromiseCapability)();\n  }\n\n  addRangeListener(listener) {\n    this._rangeListeners.push(listener);\n  }\n\n  addProgressListener(listener) {\n    this._progressListeners.push(listener);\n  }\n\n  addProgressiveReadListener(listener) {\n    this._progressiveReadListeners.push(listener);\n  }\n\n  addProgressiveDoneListener(listener) {\n    this._progressiveDoneListeners.push(listener);\n  }\n\n  onDataRange(begin, chunk) {\n    for (const listener of this._rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n\n  onDataProgress(loaded, total) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n\n  onDataProgressiveRead(chunk) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n\n  onDataProgressiveDone() {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n\n  transportReady() {\n    this._readyCapability.resolve();\n  }\n\n  requestDataRange(begin, end) {\n    (0, _util.unreachable)(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n\n  abort() {}\n\n}\n\nexports.PDFDataRangeTransport = PDFDataRangeTransport;\n\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n  }\n\n  get annotationStorage() {\n    return (0, _util.shadow)(this, \"annotationStorage\", new _annotation_storage.AnnotationStorage());\n  }\n\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n\n  get fingerprint() {\n    return this._pdfInfo.fingerprint;\n  }\n\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n\n  getJavaScript() {\n    return this._transport.getJavaScript();\n  }\n\n  getJSActions() {\n    return this._transport.getDocJSActions();\n  }\n\n  getOutline() {\n    return this._transport.getOutline();\n  }\n\n  getOptionalContentConfig() {\n    return this._transport.getOptionalContentConfig();\n  }\n\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n\n  getMarkInfo() {\n    return this._transport.getMarkInfo();\n  }\n\n  getData() {\n    return this._transport.getData();\n  }\n\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n\n  getStats() {\n    return this._transport.getStats();\n  }\n\n  cleanup() {\n    return this._transport.startCleanup();\n  }\n\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n\n  saveDocument(annotationStorage) {\n    return this._transport.saveDocument(annotationStorage);\n  }\n\n  getFieldObjects() {\n    return this._transport.getFieldObjects();\n  }\n\n  hasJSActions() {\n    return this._transport.hasJSActions();\n  }\n\n  getCalculationOrderIds() {\n    return this._transport.getCalculationOrderIds();\n  }\n\n}\n\nexports.PDFDocumentProxy = PDFDocumentProxy;\n\nclass PDFPageProxy {\n  constructor(pageIndex, pageInfo, transport, ownerDocument, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._ownerDocument = ownerDocument;\n    this._transport = transport;\n    this._stats = pdfBug ? new _display_utils.StatTimer() : null;\n    this._pdfBug = pdfBug;\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n    this.cleanupAfterRender = false;\n    this.pendingCleanup = false;\n    this._intentStates = new Map();\n    this.destroyed = false;\n  }\n\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n\n  get ref() {\n    return this._pageInfo.ref;\n  }\n\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n\n  get view() {\n    return this._pageInfo.view;\n  }\n\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  } = {}) {\n    return new _display_utils.PageViewport({\n      viewBox: this.view,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n\n  getAnnotations({\n    intent = null\n  } = {}) {\n    if (!this.annotationsPromise || this.annotationsIntent !== intent) {\n      this.annotationsPromise = this._transport.getAnnotations(this._pageIndex, intent);\n      this.annotationsIntent = intent;\n    }\n\n    return this.annotationsPromise;\n  }\n\n  getJSActions() {\n    return this._jsActionsPromise || (this._jsActionsPromise = this._transport.getPageJSActions(this._pageIndex));\n  }\n\n  render({\n    canvasContext,\n    viewport,\n    intent = \"display\",\n    enableWebGL = false,\n    renderInteractiveForms = false,\n    transform = null,\n    imageLayer = null,\n    canvasFactory = null,\n    background = null,\n    annotationStorage = null,\n    optionalContentConfigPromise = null\n  }) {\n    if (this._stats) {\n      this._stats.time(\"Overall\");\n    }\n\n    const renderingIntent = intent === \"print\" ? \"print\" : \"display\";\n    this.pendingCleanup = false;\n\n    if (!optionalContentConfigPromise) {\n      optionalContentConfigPromise = this._transport.getOptionalContentConfig();\n    }\n\n    let intentState = this._intentStates.get(renderingIntent);\n\n    if (!intentState) {\n      intentState = Object.create(null);\n\n      this._intentStates.set(renderingIntent, intentState);\n    }\n\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n\n    const canvasFactoryInstance = canvasFactory || new DefaultCanvasFactory({\n      ownerDocument: this._ownerDocument\n    });\n    const webGLContext = new _webgl.WebGLContext({\n      enable: enableWebGL\n    });\n\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = (0, _util.createPromiseCapability)();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false\n      };\n\n      if (this._stats) {\n        this._stats.time(\"Page Request\");\n      }\n\n      this._pumpOperatorList({\n        pageIndex: this._pageIndex,\n        intent: renderingIntent,\n        renderInteractiveForms: renderInteractiveForms === true,\n        annotationStorage: annotationStorage?.getAll() || null\n      });\n    }\n\n    const complete = error => {\n      const i = intentState.renderTasks.indexOf(internalRenderTask);\n\n      if (i >= 0) {\n        intentState.renderTasks.splice(i, 1);\n      }\n\n      if (this.cleanupAfterRender || renderingIntent === \"print\") {\n        this.pendingCleanup = true;\n      }\n\n      this._tryCleanup();\n\n      if (error) {\n        internalRenderTask.capability.reject(error);\n\n        this._abortOperatorList({\n          intentState,\n          reason: error\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n\n      if (this._stats) {\n        this._stats.timeEnd(\"Rendering\");\n\n        this._stats.timeEnd(\"Overall\");\n      }\n    };\n\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      params: {\n        canvasContext,\n        viewport,\n        transform,\n        imageLayer,\n        background\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: canvasFactoryInstance,\n      webGLContext,\n      useRequestAnimationFrame: renderingIntent !== \"print\",\n      pdfBug: this._pdfBug\n    });\n\n    if (!intentState.renderTasks) {\n      intentState.renderTasks = [];\n    }\n\n    intentState.renderTasks.push(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n    Promise.all([intentState.displayReadyCapability.promise, optionalContentConfigPromise]).then(([transparency, optionalContentConfig]) => {\n      if (this.pendingCleanup) {\n        complete();\n        return;\n      }\n\n      if (this._stats) {\n        this._stats.time(\"Rendering\");\n      }\n\n      internalRenderTask.initializeGraphics({\n        transparency,\n        optionalContentConfig\n      });\n      internalRenderTask.operatorListChanged();\n    }).catch(complete);\n    return renderTask;\n  }\n\n  getOperatorList() {\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n        const i = intentState.renderTasks.indexOf(opListTask);\n\n        if (i >= 0) {\n          intentState.renderTasks.splice(i, 1);\n        }\n      }\n    }\n\n    const renderingIntent = \"oplist\";\n\n    let intentState = this._intentStates.get(renderingIntent);\n\n    if (!intentState) {\n      intentState = Object.create(null);\n\n      this._intentStates.set(renderingIntent, intentState);\n    }\n\n    let opListTask;\n\n    if (!intentState.opListReadCapability) {\n      opListTask = Object.create(null);\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = (0, _util.createPromiseCapability)();\n      intentState.renderTasks = [];\n      intentState.renderTasks.push(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false\n      };\n\n      if (this._stats) {\n        this._stats.time(\"Page Request\");\n      }\n\n      this._pumpOperatorList({\n        pageIndex: this._pageIndex,\n        intent: renderingIntent\n      });\n    }\n\n    return intentState.opListReadCapability.promise;\n  }\n\n  streamTextContent({\n    normalizeWhitespace = false,\n    disableCombineTextItems = false\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n    return this._transport.messageHandler.sendWithStream(\"GetTextContent\", {\n      pageIndex: this._pageIndex,\n      normalizeWhitespace: normalizeWhitespace === true,\n      combineTextItems: disableCombineTextItems !== true\n    }, {\n      highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n\n      size(textContent) {\n        return textContent.items.length;\n      }\n\n    });\n  }\n\n  getTextContent(params = {}) {\n    const readableStream = this.streamTextContent(params);\n    return new Promise(function (resolve, reject) {\n      function pump() {\n        reader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null)\n      };\n      pump();\n    });\n  }\n\n  _destroy() {\n    this.destroyed = true;\n    this._transport.pageCache[this._pageIndex] = null;\n    const waitOn = [];\n\n    for (const [intent, intentState] of this._intentStates) {\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true\n      });\n\n      if (intent === \"oplist\") {\n        continue;\n      }\n\n      for (const internalRenderTask of intentState.renderTasks) {\n        waitOn.push(internalRenderTask.completed);\n        internalRenderTask.cancel();\n      }\n    }\n\n    this.objs.clear();\n    this.annotationsPromise = null;\n    this._jsActionsPromise = null;\n    this.pendingCleanup = false;\n    return Promise.all(waitOn);\n  }\n\n  cleanup(resetStats = false) {\n    this.pendingCleanup = true;\n    return this._tryCleanup(resetStats);\n  }\n\n  _tryCleanup(resetStats = false) {\n    if (!this.pendingCleanup) {\n      return false;\n    }\n\n    for (const {\n      renderTasks,\n      operatorList\n    } of this._intentStates.values()) {\n      if (renderTasks.length !== 0 || !operatorList.lastChunk) {\n        return false;\n      }\n    }\n\n    this._intentStates.clear();\n\n    this.objs.clear();\n    this.annotationsPromise = null;\n    this._jsActionsPromise = null;\n\n    if (resetStats && this._stats) {\n      this._stats = new _display_utils.StatTimer();\n    }\n\n    this.pendingCleanup = false;\n    return true;\n  }\n\n  _startRenderPage(transparency, intent) {\n    const intentState = this._intentStates.get(intent);\n\n    if (!intentState) {\n      return;\n    }\n\n    if (this._stats) {\n      this._stats.timeEnd(\"Page Request\");\n    }\n\n    if (intentState.displayReadyCapability) {\n      intentState.displayReadyCapability.resolve(transparency);\n    }\n  }\n\n  _renderPageChunk(operatorListChunk, intentState) {\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n\n    for (let i = 0; i < intentState.renderTasks.length; i++) {\n      intentState.renderTasks[i].operatorListChanged();\n    }\n\n    if (operatorListChunk.lastChunk) {\n      this._tryCleanup();\n    }\n  }\n\n  _pumpOperatorList(args) {\n    (0, _util.assert)(args.intent, 'PDFPageProxy._pumpOperatorList: Expected \"intent\" argument.');\n\n    const readableStream = this._transport.messageHandler.sendWithStream(\"GetOperatorList\", args);\n\n    const reader = readableStream.getReader();\n\n    const intentState = this._intentStates.get(args.intent);\n\n    intentState.streamReader = reader;\n\n    const pump = () => {\n      reader.read().then(({\n        value,\n        done\n      }) => {\n        if (done) {\n          intentState.streamReader = null;\n          return;\n        }\n\n        if (this._transport.destroyed) {\n          return;\n        }\n\n        this._renderPageChunk(value, intentState);\n\n        pump();\n      }, reason => {\n        intentState.streamReader = null;\n\n        if (this._transport.destroyed) {\n          return;\n        }\n\n        if (intentState.operatorList) {\n          intentState.operatorList.lastChunk = true;\n\n          for (let i = 0; i < intentState.renderTasks.length; i++) {\n            intentState.renderTasks[i].operatorListChanged();\n          }\n\n          this._tryCleanup();\n        }\n\n        if (intentState.displayReadyCapability) {\n          intentState.displayReadyCapability.reject(reason);\n        } else if (intentState.opListReadCapability) {\n          intentState.opListReadCapability.reject(reason);\n        } else {\n          throw reason;\n        }\n      });\n    };\n\n    pump();\n  }\n\n  _abortOperatorList({\n    intentState,\n    reason,\n    force = false\n  }) {\n    (0, _util.assert)(reason instanceof Error || typeof reason === \"object\" && reason !== null, 'PDFPageProxy._abortOperatorList: Expected \"reason\" argument.');\n\n    if (!intentState.streamReader) {\n      return;\n    }\n\n    if (!force) {\n      if (intentState.renderTasks.length !== 0) {\n        return;\n      }\n\n      if (reason instanceof _display_utils.RenderingCancelledException) {\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          this._abortOperatorList({\n            intentState,\n            reason,\n            force: true\n          });\n\n          intentState.streamReaderCancelTimeout = null;\n        }, RENDERING_CANCELLED_TIMEOUT);\n        return;\n      }\n    }\n\n    intentState.streamReader.cancel(new _util.AbortException(reason?.message));\n    intentState.streamReader = null;\n\n    if (this._transport.destroyed) {\n      return;\n    }\n\n    for (const [intent, curIntentState] of this._intentStates) {\n      if (curIntentState === intentState) {\n        this._intentStates.delete(intent);\n\n        break;\n      }\n    }\n\n    this.cleanup();\n  }\n\n  get stats() {\n    return this._stats;\n  }\n\n}\n\nexports.PDFPageProxy = PDFPageProxy;\n\nclass LoopbackPort {\n  constructor(defer = true) {\n    this._listeners = [];\n    this._defer = defer;\n    this._deferred = Promise.resolve(undefined);\n  }\n\n  postMessage(obj, transfers) {\n    function cloneValue(value) {\n      if (typeof value !== \"object\" || value === null) {\n        return value;\n      }\n\n      if (cloned.has(value)) {\n        return cloned.get(value);\n      }\n\n      let buffer, result;\n\n      if ((buffer = value.buffer) && (0, _util.isArrayBuffer)(buffer)) {\n        if (transfers?.includes(buffer)) {\n          result = new value.constructor(buffer, value.byteOffset, value.byteLength);\n        } else {\n          result = new value.constructor(value);\n        }\n\n        cloned.set(value, result);\n        return result;\n      }\n\n      result = Array.isArray(value) ? [] : {};\n      cloned.set(value, result);\n\n      for (const i in value) {\n        let desc,\n            p = value;\n\n        while (!(desc = Object.getOwnPropertyDescriptor(p, i))) {\n          p = Object.getPrototypeOf(p);\n        }\n\n        if (typeof desc.value === \"undefined\") {\n          continue;\n        }\n\n        if (typeof desc.value === \"function\") {\n          if (value.hasOwnProperty && value.hasOwnProperty(i)) {\n            throw new Error(`LoopbackPort.postMessage - cannot clone: ${value[i]}`);\n          }\n\n          continue;\n        }\n\n        result[i] = cloneValue(desc.value);\n      }\n\n      return result;\n    }\n\n    if (!this._defer) {\n      this._listeners.forEach(listener => {\n        listener.call(this, {\n          data: obj\n        });\n      });\n\n      return;\n    }\n\n    const cloned = new WeakMap();\n    const e = {\n      data: cloneValue(obj)\n    };\n\n    this._deferred.then(() => {\n      this._listeners.forEach(listener => {\n        listener.call(this, e);\n      });\n    });\n  }\n\n  addEventListener(name, listener) {\n    this._listeners.push(listener);\n  }\n\n  removeEventListener(name, listener) {\n    const i = this._listeners.indexOf(listener);\n\n    this._listeners.splice(i, 1);\n  }\n\n  terminate() {\n    this._listeners.length = 0;\n  }\n\n}\n\nexports.LoopbackPort = LoopbackPort;\n\nconst PDFWorker = function PDFWorkerClosure() {\n  const pdfWorkerPorts = new WeakMap();\n  let isWorkerDisabled = false;\n  let fallbackWorkerSrc;\n  let nextFakeWorkerId = 0;\n  let fakeWorkerCapability;\n\n  if (_is_node.isNodeJS && typeof require === \"function\") {\n    isWorkerDisabled = true;\n    fallbackWorkerSrc = \"../pdf.worker.js\";\n  } else if (typeof document === \"object\" && \"currentScript\" in document) {\n    const pdfjsFilePath = document.currentScript?.src;\n\n    if (pdfjsFilePath) {\n      fallbackWorkerSrc = pdfjsFilePath.replace(/(\\.(?:min\\.)?js)(\\?.*)?$/i, \".worker$1$2\");\n    }\n  }\n\n  function getWorkerSrc() {\n    if (_worker_options.GlobalWorkerOptions.workerSrc) {\n      return _worker_options.GlobalWorkerOptions.workerSrc;\n    }\n\n    if (typeof fallbackWorkerSrc !== \"undefined\") {\n      if (!_is_node.isNodeJS) {\n        (0, _display_utils.deprecated)('No \"GlobalWorkerOptions.workerSrc\" specified.');\n      }\n\n      return fallbackWorkerSrc;\n    }\n\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n\n  function getMainThreadWorkerMessageHandler() {\n    let mainWorkerMessageHandler;\n\n    try {\n      mainWorkerMessageHandler = globalThis.pdfjsWorker?.WorkerMessageHandler;\n    } catch (ex) {}\n\n    return mainWorkerMessageHandler || null;\n  }\n\n  function setupFakeWorkerGlobal() {\n    if (fakeWorkerCapability) {\n      return fakeWorkerCapability.promise;\n    }\n\n    fakeWorkerCapability = (0, _util.createPromiseCapability)();\n\n    const loader = async function () {\n      const mainWorkerMessageHandler = getMainThreadWorkerMessageHandler();\n\n      if (mainWorkerMessageHandler) {\n        return mainWorkerMessageHandler;\n      }\n\n      if (_is_node.isNodeJS && typeof require === \"function\") {\n        const worker = eval(\"require\")(getWorkerSrc());\n        return worker.WorkerMessageHandler;\n      }\n\n      await (0, _display_utils.loadScript)(getWorkerSrc());\n      return window.pdfjsWorker.WorkerMessageHandler;\n    };\n\n    loader().then(fakeWorkerCapability.resolve, fakeWorkerCapability.reject);\n    return fakeWorkerCapability.promise;\n  }\n\n  function createCDNWrapper(url) {\n    const wrapper = \"importScripts('\" + url + \"');\";\n    return URL.createObjectURL(new Blob([wrapper]));\n  }\n\n  class PDFWorker {\n    constructor({\n      name = null,\n      port = null,\n      verbosity = (0, _util.getVerbosityLevel)()\n    } = {}) {\n      if (port && pdfWorkerPorts.has(port)) {\n        throw new Error(\"Cannot use more than one PDFWorker per port\");\n      }\n\n      this.name = name;\n      this.destroyed = false;\n      this.postMessageTransfers = true;\n      this.verbosity = verbosity;\n      this._readyCapability = (0, _util.createPromiseCapability)();\n      this._port = null;\n      this._webWorker = null;\n      this._messageHandler = null;\n\n      if (port) {\n        pdfWorkerPorts.set(port, this);\n\n        this._initializeFromPort(port);\n\n        return;\n      }\n\n      this._initialize();\n    }\n\n    get promise() {\n      return this._readyCapability.promise;\n    }\n\n    get port() {\n      return this._port;\n    }\n\n    get messageHandler() {\n      return this._messageHandler;\n    }\n\n    _initializeFromPort(port) {\n      this._port = port;\n      this._messageHandler = new _message_handler.MessageHandler(\"main\", \"worker\", port);\n\n      this._messageHandler.on(\"ready\", function () {});\n\n      this._readyCapability.resolve();\n    }\n\n    _initialize() {\n      if (typeof Worker !== \"undefined\" && !isWorkerDisabled && !getMainThreadWorkerMessageHandler()) {\n        let workerSrc = getWorkerSrc();\n\n        try {\n          if (!(0, _util.isSameOrigin)(window.location.href, workerSrc)) {\n            workerSrc = createCDNWrapper(new URL(workerSrc, window.location).href);\n          }\n\n          const worker = new Worker(workerSrc);\n          const messageHandler = new _message_handler.MessageHandler(\"main\", \"worker\", worker);\n\n          const terminateEarly = () => {\n            worker.removeEventListener(\"error\", onWorkerError);\n            messageHandler.destroy();\n            worker.terminate();\n\n            if (this.destroyed) {\n              this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n            } else {\n              this._setupFakeWorker();\n            }\n          };\n\n          const onWorkerError = () => {\n            if (!this._webWorker) {\n              terminateEarly();\n            }\n          };\n\n          worker.addEventListener(\"error\", onWorkerError);\n          messageHandler.on(\"test\", data => {\n            worker.removeEventListener(\"error\", onWorkerError);\n\n            if (this.destroyed) {\n              terminateEarly();\n              return;\n            }\n\n            if (data) {\n              this._messageHandler = messageHandler;\n              this._port = worker;\n              this._webWorker = worker;\n\n              if (!data.supportTransfers) {\n                this.postMessageTransfers = false;\n              }\n\n              this._readyCapability.resolve();\n\n              messageHandler.send(\"configure\", {\n                verbosity: this.verbosity\n              });\n            } else {\n              this._setupFakeWorker();\n\n              messageHandler.destroy();\n              worker.terminate();\n            }\n          });\n          messageHandler.on(\"ready\", data => {\n            worker.removeEventListener(\"error\", onWorkerError);\n\n            if (this.destroyed) {\n              terminateEarly();\n              return;\n            }\n\n            try {\n              sendTest();\n            } catch (e) {\n              this._setupFakeWorker();\n            }\n          });\n\n          const sendTest = () => {\n            const testObj = new Uint8Array([this.postMessageTransfers ? 255 : 0]);\n\n            try {\n              messageHandler.send(\"test\", testObj, [testObj.buffer]);\n            } catch (ex) {\n              (0, _util.warn)(\"Cannot use postMessage transfers.\");\n              testObj[0] = 0;\n              messageHandler.send(\"test\", testObj);\n            }\n          };\n\n          sendTest();\n          return;\n        } catch (e) {\n          (0, _util.info)(\"The worker has been disabled.\");\n        }\n      }\n\n      this._setupFakeWorker();\n    }\n\n    _setupFakeWorker() {\n      if (!isWorkerDisabled) {\n        (0, _util.warn)(\"Setting up fake worker.\");\n        isWorkerDisabled = true;\n      }\n\n      setupFakeWorkerGlobal().then(WorkerMessageHandler => {\n        if (this.destroyed) {\n          this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n\n          return;\n        }\n\n        const port = new LoopbackPort();\n        this._port = port;\n        const id = \"fake\" + nextFakeWorkerId++;\n        const workerHandler = new _message_handler.MessageHandler(id + \"_worker\", id, port);\n        WorkerMessageHandler.setup(workerHandler, port);\n        const messageHandler = new _message_handler.MessageHandler(id, id + \"_worker\", port);\n        this._messageHandler = messageHandler;\n\n        this._readyCapability.resolve();\n\n        messageHandler.send(\"configure\", {\n          verbosity: this.verbosity\n        });\n      }).catch(reason => {\n        this._readyCapability.reject(new Error(`Setting up fake worker failed: \"${reason.message}\".`));\n      });\n    }\n\n    destroy() {\n      this.destroyed = true;\n\n      if (this._webWorker) {\n        this._webWorker.terminate();\n\n        this._webWorker = null;\n      }\n\n      pdfWorkerPorts.delete(this._port);\n      this._port = null;\n\n      if (this._messageHandler) {\n        this._messageHandler.destroy();\n\n        this._messageHandler = null;\n      }\n    }\n\n    static fromPort(params) {\n      if (!params || !params.port) {\n        throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n      }\n\n      if (pdfWorkerPorts.has(params.port)) {\n        return pdfWorkerPorts.get(params.port);\n      }\n\n      return new PDFWorker(params);\n    }\n\n    static getWorkerSrc() {\n      return getWorkerSrc();\n    }\n\n  }\n\n  return PDFWorker;\n}();\n\nexports.PDFWorker = PDFWorker;\n\nclass WorkerTransport {\n  constructor(messageHandler, loadingTask, networkStream, params) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new _font_loader.FontLoader({\n      docId: loadingTask.docId,\n      onUnsupportedFeature: this._onUnsupportedFeature.bind(this),\n      ownerDocument: params.ownerDocument\n    });\n    this._params = params;\n    this.CMapReaderFactory = new params.CMapReaderFactory({\n      baseUrl: params.cMapUrl,\n      isCompressed: params.cMapPacked\n    });\n    this.destroyed = false;\n    this.destroyCapability = null;\n    this._passwordCapability = null;\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n    this.pageCache = [];\n    this.pagePromises = [];\n    this.downloadInfoCapability = (0, _util.createPromiseCapability)();\n    this.setupMessageHandler();\n  }\n\n  get loadingTaskSettled() {\n    return this.loadingTask._capability.settled;\n  }\n\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n\n    this.destroyed = true;\n    this.destroyCapability = (0, _util.createPromiseCapability)();\n\n    if (this._passwordCapability) {\n      this._passwordCapability.reject(new Error(\"Worker was destroyed during onPassword callback\"));\n    }\n\n    const waitOn = [];\n    this.pageCache.forEach(function (page) {\n      if (page) {\n        waitOn.push(page._destroy());\n      }\n    });\n    this.pageCache.length = 0;\n    this.pagePromises.length = 0;\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n\n    if (this.loadingTaskSettled) {\n      const annotationStorageResetModified = this.loadingTask.promise.then(pdfDocument => {\n        if (pdfDocument.hasOwnProperty(\"annotationStorage\")) {\n          pdfDocument.annotationStorage.resetModified();\n        }\n      }).catch(() => {});\n      waitOn.push(annotationStorageResetModified);\n    }\n\n    Promise.all(waitOn).then(() => {\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n      this._hasJSActionsPromise = null;\n\n      if (this._networkStream) {\n        this._networkStream.cancelAllRequests(new _util.AbortException(\"Worker was terminated.\"));\n      }\n\n      if (this.messageHandler) {\n        this.messageHandler.destroy();\n        this.messageHandler = null;\n      }\n\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n\n  setupMessageHandler() {\n    const {\n      messageHandler,\n      loadingTask\n    } = this;\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      (0, _util.assert)(this._networkStream, \"GetReader - no `IPDFStream` instance available.\");\n      this._fullReader = this._networkStream.getFullReader();\n\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total\n        };\n      };\n\n      sink.onPull = () => {\n        this._fullReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n\n          (0, _util.assert)((0, _util.isArrayBuffer)(value), \"GetReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"ReaderHeadersReady\", data => {\n      const headersCapability = (0, _util.createPromiseCapability)();\n      const fullReader = this._fullReader;\n      fullReader.headersReady.then(() => {\n        if (!fullReader.isStreamingSupported || !fullReader.isRangeSupported) {\n          if (this._lastProgress && loadingTask.onProgress) {\n            loadingTask.onProgress(this._lastProgress);\n          }\n\n          fullReader.onProgress = evt => {\n            if (loadingTask.onProgress) {\n              loadingTask.onProgress({\n                loaded: evt.loaded,\n                total: evt.total\n              });\n            }\n          };\n        }\n\n        headersCapability.resolve({\n          isStreamingSupported: fullReader.isStreamingSupported,\n          isRangeSupported: fullReader.isRangeSupported,\n          contentLength: fullReader.contentLength\n        });\n      }, headersCapability.reject);\n      return headersCapability.promise;\n    });\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      (0, _util.assert)(this._networkStream, \"GetRangeReader - no `IPDFStream` instance available.\");\n\n      const rangeReader = this._networkStream.getRangeReader(data.begin, data.end);\n\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n\n      sink.onPull = () => {\n        rangeReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n\n          (0, _util.assert)((0, _util.isArrayBuffer)(value), \"GetRangeReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"GetDoc\", ({\n      pdfInfo\n    }) => {\n      this._numPages = pdfInfo.numPages;\n\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n    messageHandler.on(\"DocException\", function (ex) {\n      let reason;\n\n      switch (ex.name) {\n        case \"PasswordException\":\n          reason = new _util.PasswordException(ex.message, ex.code);\n          break;\n\n        case \"InvalidPDFException\":\n          reason = new _util.InvalidPDFException(ex.message);\n          break;\n\n        case \"MissingPDFException\":\n          reason = new _util.MissingPDFException(ex.message);\n          break;\n\n        case \"UnexpectedResponseException\":\n          reason = new _util.UnexpectedResponseException(ex.message, ex.status);\n          break;\n\n        case \"UnknownErrorException\":\n          reason = new _util.UnknownErrorException(ex.message, ex.details);\n          break;\n      }\n\n      if (!(reason instanceof Error)) {\n        const msg = \"DocException - expected a valid Error.\";\n        (0, _util.warn)(msg);\n      }\n\n      loadingTask._capability.reject(reason);\n    });\n    messageHandler.on(\"PasswordRequest\", exception => {\n      this._passwordCapability = (0, _util.createPromiseCapability)();\n\n      if (loadingTask.onPassword) {\n        const updatePassword = password => {\n          this._passwordCapability.resolve({\n            password\n          });\n        };\n\n        try {\n          loadingTask.onPassword(updatePassword, exception.code);\n        } catch (ex) {\n          this._passwordCapability.reject(ex);\n        }\n      } else {\n        this._passwordCapability.reject(new _util.PasswordException(exception.message, exception.code));\n      }\n\n      return this._passwordCapability.promise;\n    });\n    messageHandler.on(\"DataLoaded\", data => {\n      if (loadingTask.onProgress) {\n        loadingTask.onProgress({\n          loaded: data.length,\n          total: data.length\n        });\n      }\n\n      this.downloadInfoCapability.resolve(data);\n    });\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return;\n      }\n\n      const page = this.pageCache[data.pageIndex];\n\n      page._startRenderPage(data.transparency, data.intent);\n    });\n    messageHandler.on(\"commonobj\", data => {\n      if (this.destroyed) {\n        return;\n      }\n\n      const [id, type, exportedData] = data;\n\n      if (this.commonObjs.has(id)) {\n        return;\n      }\n\n      switch (type) {\n        case \"Font\":\n          const params = this._params;\n\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            (0, _util.warn)(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n\n          let fontRegistry = null;\n\n          if (params.pdfBug && globalThis.FontInspector?.enabled) {\n            fontRegistry = {\n              registerFont(font, url) {\n                globalThis.FontInspector.fontAdded(font, url);\n              }\n\n            };\n          }\n\n          const font = new _font_loader.FontFaceObject(exportedData, {\n            isEvalSupported: params.isEvalSupported,\n            disableFontFace: params.disableFontFace,\n            ignoreErrors: params.ignoreErrors,\n            onUnsupportedFeature: this._onUnsupportedFeature.bind(this),\n            fontRegistry\n          });\n          this.fontLoader.bind(font).catch(reason => {\n            return messageHandler.sendWithPromise(\"FontFallback\", {\n              id\n            });\n          }).finally(() => {\n            if (!params.fontExtraProperties && font.data) {\n              font.data = null;\n            }\n\n            this.commonObjs.resolve(id, font);\n          });\n          break;\n\n        case \"FontPath\":\n        case \"Image\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n    });\n    messageHandler.on(\"obj\", data => {\n      if (this.destroyed) {\n        return undefined;\n      }\n\n      const [id, pageIndex, type, imageData] = data;\n      const pageProxy = this.pageCache[pageIndex];\n\n      if (pageProxy.objs.has(id)) {\n        return undefined;\n      }\n\n      switch (type) {\n        case \"Image\":\n          pageProxy.objs.resolve(id, imageData);\n          const MAX_IMAGE_SIZE_TO_STORE = 8000000;\n\n          if (imageData?.data?.length > MAX_IMAGE_SIZE_TO_STORE) {\n            pageProxy.cleanupAfterRender = true;\n          }\n\n          break;\n\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n\n      return undefined;\n    });\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return;\n      }\n\n      if (loadingTask.onProgress) {\n        loadingTask.onProgress({\n          loaded: data.loaded,\n          total: data.total\n        });\n      }\n    });\n    messageHandler.on(\"UnsupportedFeature\", this._onUnsupportedFeature.bind(this));\n    messageHandler.on(\"FetchBuiltInCMap\", (data, sink) => {\n      if (this.destroyed) {\n        sink.error(new Error(\"Worker was destroyed\"));\n        return;\n      }\n\n      let fetched = false;\n\n      sink.onPull = () => {\n        if (fetched) {\n          sink.close();\n          return;\n        }\n\n        fetched = true;\n        this.CMapReaderFactory.fetch(data).then(function (builtInCMap) {\n          sink.enqueue(builtInCMap, 1, [builtInCMap.cMapData.buffer]);\n        }).catch(function (reason) {\n          sink.error(reason);\n        });\n      };\n    });\n  }\n\n  _onUnsupportedFeature({\n    featureId\n  }) {\n    if (this.destroyed) {\n      return;\n    }\n\n    if (this.loadingTask.onUnsupportedFeature) {\n      this.loadingTask.onUnsupportedFeature(featureId);\n    }\n  }\n\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n\n  getPage(pageNumber) {\n    if (!Number.isInteger(pageNumber) || pageNumber <= 0 || pageNumber > this._numPages) {\n      return Promise.reject(new Error(\"Invalid page request\"));\n    }\n\n    const pageIndex = pageNumber - 1;\n\n    if (pageIndex in this.pagePromises) {\n      return this.pagePromises[pageIndex];\n    }\n\n    const promise = this.messageHandler.sendWithPromise(\"GetPage\", {\n      pageIndex\n    }).then(pageInfo => {\n      if (this.destroyed) {\n        throw new Error(\"Transport destroyed\");\n      }\n\n      const page = new PDFPageProxy(pageIndex, pageInfo, this, this._params.ownerDocument, this._params.pdfBug);\n      this.pageCache[pageIndex] = page;\n      return page;\n    });\n    this.pagePromises[pageIndex] = promise;\n    return promise;\n  }\n\n  getPageIndex(ref) {\n    return this.messageHandler.sendWithPromise(\"GetPageIndex\", {\n      ref\n    }).catch(function (reason) {\n      return Promise.reject(new Error(reason));\n    });\n  }\n\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent\n    });\n  }\n\n  saveDocument(annotationStorage) {\n    return this.messageHandler.sendWithPromise(\"SaveDocument\", {\n      numPages: this._numPages,\n      annotationStorage: annotationStorage?.getAll() || null,\n      filename: this._fullReader?.filename ?? null\n    }).finally(() => {\n      if (annotationStorage) {\n        annotationStorage.resetModified();\n      }\n    });\n  }\n\n  getFieldObjects() {\n    return this.messageHandler.sendWithPromise(\"GetFieldObjects\", null);\n  }\n\n  hasJSActions() {\n    return this._hasJSActionsPromise || (this._hasJSActionsPromise = this.messageHandler.sendWithPromise(\"HasJSActions\", null));\n  }\n\n  getCalculationOrderIds() {\n    return this.messageHandler.sendWithPromise(\"GetCalculationOrderIds\", null);\n  }\n\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id\n    });\n  }\n\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n\n  getJavaScript() {\n    return this.messageHandler.sendWithPromise(\"GetJavaScript\", null);\n  }\n\n  getDocJSActions() {\n    return this.messageHandler.sendWithPromise(\"GetDocJSActions\", null);\n  }\n\n  getPageJSActions(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetPageJSActions\", {\n      pageIndex\n    });\n  }\n\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n\n  getOptionalContentConfig() {\n    return this.messageHandler.sendWithPromise(\"GetOptionalContentConfig\", null).then(results => {\n      return new _optional_content_config.OptionalContentConfig(results);\n    });\n  }\n\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n\n  getMetadata() {\n    return this.messageHandler.sendWithPromise(\"GetMetadata\", null).then(results => {\n      return {\n        info: results[0],\n        metadata: results[1] ? new _metadata.Metadata(results[1]) : null,\n        contentDispositionFilename: this._fullReader?.filename ?? null,\n        contentLength: this._fullReader?.contentLength ?? null\n      };\n    });\n  }\n\n  getMarkInfo() {\n    return this.messageHandler.sendWithPromise(\"GetMarkInfo\", null);\n  }\n\n  getStats() {\n    return this.messageHandler.sendWithPromise(\"GetStats\", null);\n  }\n\n  startCleanup() {\n    return this.messageHandler.sendWithPromise(\"Cleanup\", null).then(() => {\n      for (let i = 0, ii = this.pageCache.length; i < ii; i++) {\n        const page = this.pageCache[i];\n\n        if (page) {\n          const cleanupSuccessful = page.cleanup();\n\n          if (!cleanupSuccessful) {\n            throw new Error(`startCleanup: Page ${i + 1} is currently rendering.`);\n          }\n        }\n      }\n\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n      this._hasJSActionsPromise = null;\n    });\n  }\n\n  get loadingParams() {\n    const params = this._params;\n    return (0, _util.shadow)(this, \"loadingParams\", {\n      disableAutoFetch: params.disableAutoFetch,\n      disableFontFace: params.disableFontFace\n    });\n  }\n\n}\n\nclass PDFObjects {\n  constructor() {\n    this._objs = Object.create(null);\n  }\n\n  _ensureObj(objId) {\n    if (this._objs[objId]) {\n      return this._objs[objId];\n    }\n\n    return this._objs[objId] = {\n      capability: (0, _util.createPromiseCapability)(),\n      data: null,\n      resolved: false\n    };\n  }\n\n  get(objId, callback = null) {\n    if (callback) {\n      this._ensureObj(objId).capability.promise.then(callback);\n\n      return null;\n    }\n\n    const obj = this._objs[objId];\n\n    if (!obj || !obj.resolved) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n\n    return obj.data;\n  }\n\n  has(objId) {\n    const obj = this._objs[objId];\n    return obj?.resolved || false;\n  }\n\n  resolve(objId, data) {\n    const obj = this._ensureObj(objId);\n\n    obj.resolved = true;\n    obj.data = data;\n    obj.capability.resolve(data);\n  }\n\n  clear() {\n    this._objs = Object.create(null);\n  }\n\n}\n\nclass RenderTask {\n  constructor(internalRenderTask) {\n    this._internalRenderTask = internalRenderTask;\n    this.onContinue = null;\n  }\n\n  get promise() {\n    return this._internalRenderTask.capability.promise;\n  }\n\n  cancel() {\n    this._internalRenderTask.cancel();\n  }\n\n}\n\nconst InternalRenderTask = function InternalRenderTaskClosure() {\n  const canvasInRendering = new WeakSet();\n\n  class InternalRenderTask {\n    constructor({\n      callback,\n      params,\n      objs,\n      commonObjs,\n      operatorList,\n      pageIndex,\n      canvasFactory,\n      webGLContext,\n      useRequestAnimationFrame = false,\n      pdfBug = false\n    }) {\n      this.callback = callback;\n      this.params = params;\n      this.objs = objs;\n      this.commonObjs = commonObjs;\n      this.operatorListIdx = null;\n      this.operatorList = operatorList;\n      this._pageIndex = pageIndex;\n      this.canvasFactory = canvasFactory;\n      this.webGLContext = webGLContext;\n      this._pdfBug = pdfBug;\n      this.running = false;\n      this.graphicsReadyCallback = null;\n      this.graphicsReady = false;\n      this._useRequestAnimationFrame = useRequestAnimationFrame === true && typeof window !== \"undefined\";\n      this.cancelled = false;\n      this.capability = (0, _util.createPromiseCapability)();\n      this.task = new RenderTask(this);\n      this._continueBound = this._continue.bind(this);\n      this._scheduleNextBound = this._scheduleNext.bind(this);\n      this._nextBound = this._next.bind(this);\n      this._canvas = params.canvasContext.canvas;\n    }\n\n    get completed() {\n      return this.capability.promise.catch(function () {});\n    }\n\n    initializeGraphics({\n      transparency = false,\n      optionalContentConfig\n    }) {\n      if (this.cancelled) {\n        return;\n      }\n\n      if (this._canvas) {\n        if (canvasInRendering.has(this._canvas)) {\n          throw new Error(\"Cannot use the same canvas during multiple render() operations. \" + \"Use different canvas or ensure previous operations were \" + \"cancelled or completed.\");\n        }\n\n        canvasInRendering.add(this._canvas);\n      }\n\n      if (this._pdfBug && globalThis.StepperManager?.enabled) {\n        this.stepper = globalThis.StepperManager.create(this._pageIndex);\n        this.stepper.init(this.operatorList);\n        this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n      }\n\n      const {\n        canvasContext,\n        viewport,\n        transform,\n        imageLayer,\n        background\n      } = this.params;\n      this.gfx = new _canvas.CanvasGraphics(canvasContext, this.commonObjs, this.objs, this.canvasFactory, this.webGLContext, imageLayer, optionalContentConfig);\n      this.gfx.beginDrawing({\n        transform,\n        viewport,\n        transparency,\n        background\n      });\n      this.operatorListIdx = 0;\n      this.graphicsReady = true;\n\n      if (this.graphicsReadyCallback) {\n        this.graphicsReadyCallback();\n      }\n    }\n\n    cancel(error = null) {\n      this.running = false;\n      this.cancelled = true;\n\n      if (this.gfx) {\n        this.gfx.endDrawing();\n      }\n\n      if (this._canvas) {\n        canvasInRendering.delete(this._canvas);\n      }\n\n      this.callback(error || new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex + 1}`, \"canvas\"));\n    }\n\n    operatorListChanged() {\n      if (!this.graphicsReady) {\n        if (!this.graphicsReadyCallback) {\n          this.graphicsReadyCallback = this._continueBound;\n        }\n\n        return;\n      }\n\n      if (this.stepper) {\n        this.stepper.updateOperatorList(this.operatorList);\n      }\n\n      if (this.running) {\n        return;\n      }\n\n      this._continue();\n    }\n\n    _continue() {\n      this.running = true;\n\n      if (this.cancelled) {\n        return;\n      }\n\n      if (this.task.onContinue) {\n        this.task.onContinue(this._scheduleNextBound);\n      } else {\n        this._scheduleNext();\n      }\n    }\n\n    _scheduleNext() {\n      if (this._useRequestAnimationFrame) {\n        window.requestAnimationFrame(() => {\n          this._nextBound().catch(this.cancel.bind(this));\n        });\n      } else {\n        Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this));\n      }\n    }\n\n    async _next() {\n      if (this.cancelled) {\n        return;\n      }\n\n      this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList, this.operatorListIdx, this._continueBound, this.stepper);\n\n      if (this.operatorListIdx === this.operatorList.argsArray.length) {\n        this.running = false;\n\n        if (this.operatorList.lastChunk) {\n          this.gfx.endDrawing();\n\n          if (this._canvas) {\n            canvasInRendering.delete(this._canvas);\n          }\n\n          this.callback();\n        }\n      }\n    }\n\n  }\n\n  return InternalRenderTask;\n}();\n\nconst version = '2.7.570';\nexports.version = version;\nconst build = 'f2c7338b0';\nexports.build = build;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.apiCompatibilityParams = void 0;\n\nvar _is_node = require(\"../shared/is_node.js\");\n\nconst compatibilityParams = Object.create(null);\n{\n  (function checkFontFace() {\n    if (_is_node.isNodeJS) {\n      compatibilityParams.disableFontFace = true;\n    }\n  })();\n}\nconst apiCompatibilityParams = Object.freeze(compatibilityParams);\nexports.apiCompatibilityParams = apiCompatibilityParams;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CanvasGraphics = void 0;\n\nvar _util = require(\"../shared/util.js\");\n\nvar _pattern_helper = require(\"./pattern_helper.js\");\n\nconst MIN_FONT_SIZE = 16;\nconst MAX_FONT_SIZE = 100;\nconst MAX_GROUP_SIZE = 4096;\nconst COMPILE_TYPE3_GLYPHS = true;\nconst MAX_SIZE_TO_COMPILE = 1000;\nconst FULL_CHUNK_HEIGHT = 16;\n\nfunction addContextCurrentTransform(ctx) {\n  if (!ctx.mozCurrentTransform) {\n    ctx._originalSave = ctx.save;\n    ctx._originalRestore = ctx.restore;\n    ctx._originalRotate = ctx.rotate;\n    ctx._originalScale = ctx.scale;\n    ctx._originalTranslate = ctx.translate;\n    ctx._originalTransform = ctx.transform;\n    ctx._originalSetTransform = ctx.setTransform;\n    ctx._transformMatrix = ctx._transformMatrix || [1, 0, 0, 1, 0, 0];\n    ctx._transformStack = [];\n    Object.defineProperty(ctx, \"mozCurrentTransform\", {\n      get: function getCurrentTransform() {\n        return this._transformMatrix;\n      }\n    });\n    Object.defineProperty(ctx, \"mozCurrentTransformInverse\", {\n      get: function getCurrentTransformInverse() {\n        const m = this._transformMatrix;\n        const a = m[0],\n              b = m[1],\n              c = m[2],\n              d = m[3],\n              e = m[4],\n              f = m[5];\n        const ad_bc = a * d - b * c;\n        const bc_ad = b * c - a * d;\n        return [d / ad_bc, b / bc_ad, c / bc_ad, a / ad_bc, (d * e - c * f) / bc_ad, (b * e - a * f) / ad_bc];\n      }\n    });\n\n    ctx.save = function ctxSave() {\n      const old = this._transformMatrix;\n\n      this._transformStack.push(old);\n\n      this._transformMatrix = old.slice(0, 6);\n\n      this._originalSave();\n    };\n\n    ctx.restore = function ctxRestore() {\n      const prev = this._transformStack.pop();\n\n      if (prev) {\n        this._transformMatrix = prev;\n\n        this._originalRestore();\n      }\n    };\n\n    ctx.translate = function ctxTranslate(x, y) {\n      const m = this._transformMatrix;\n      m[4] = m[0] * x + m[2] * y + m[4];\n      m[5] = m[1] * x + m[3] * y + m[5];\n\n      this._originalTranslate(x, y);\n    };\n\n    ctx.scale = function ctxScale(x, y) {\n      const m = this._transformMatrix;\n      m[0] = m[0] * x;\n      m[1] = m[1] * x;\n      m[2] = m[2] * y;\n      m[3] = m[3] * y;\n\n      this._originalScale(x, y);\n    };\n\n    ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n      const m = this._transformMatrix;\n      this._transformMatrix = [m[0] * a + m[2] * b, m[1] * a + m[3] * b, m[0] * c + m[2] * d, m[1] * c + m[3] * d, m[0] * e + m[2] * f + m[4], m[1] * e + m[3] * f + m[5]];\n\n      ctx._originalTransform(a, b, c, d, e, f);\n    };\n\n    ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n      this._transformMatrix = [a, b, c, d, e, f];\n\n      ctx._originalSetTransform(a, b, c, d, e, f);\n    };\n\n    ctx.rotate = function ctxRotate(angle) {\n      const cosValue = Math.cos(angle);\n      const sinValue = Math.sin(angle);\n      const m = this._transformMatrix;\n      this._transformMatrix = [m[0] * cosValue + m[2] * sinValue, m[1] * cosValue + m[3] * sinValue, m[0] * -sinValue + m[2] * cosValue, m[1] * -sinValue + m[3] * cosValue, m[4], m[5]];\n\n      this._originalRotate(angle);\n    };\n  }\n}\n\nconst CachedCanvases = function CachedCanvasesClosure() {\n  function CachedCanvases(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n\n  CachedCanvases.prototype = {\n    getCanvas: function CachedCanvases_getCanvas(id, width, height, trackTransform) {\n      let canvasEntry;\n\n      if (this.cache[id] !== undefined) {\n        canvasEntry = this.cache[id];\n        this.canvasFactory.reset(canvasEntry, width, height);\n        canvasEntry.context.setTransform(1, 0, 0, 1, 0, 0);\n      } else {\n        canvasEntry = this.canvasFactory.create(width, height);\n        this.cache[id] = canvasEntry;\n      }\n\n      if (trackTransform) {\n        addContextCurrentTransform(canvasEntry.context);\n      }\n\n      return canvasEntry;\n    },\n\n    clear() {\n      for (const id in this.cache) {\n        const canvasEntry = this.cache[id];\n        this.canvasFactory.destroy(canvasEntry);\n        delete this.cache[id];\n      }\n    }\n\n  };\n  return CachedCanvases;\n}();\n\nfunction compileType3Glyph(imgData) {\n  const POINT_TO_PROCESS_LIMIT = 1000;\n  const width = imgData.width,\n        height = imgData.height,\n        width1 = width + 1;\n  let i, ii, j, j0;\n  const points = new Uint8Array(width1 * (height + 1));\n  const POINT_TYPES = new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n  const lineSize = width + 7 & ~7,\n        data0 = imgData.data;\n  const data = new Uint8Array(lineSize * height);\n  let pos = 0;\n\n  for (i = 0, ii = data0.length; i < ii; i++) {\n    const elem = data0[i];\n    let mask = 128;\n\n    while (mask > 0) {\n      data[pos++] = elem & mask ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n\n  let count = 0;\n  pos = 0;\n\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n\n    pos++;\n  }\n\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n\n    let sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n\n    for (j = 1; j < width; j++) {\n      sum = (sum >> 2) + (data[pos + 1] ? 4 : 0) + (data[pos - lineSize + 1] ? 8 : 0);\n\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n\n      pos++;\n    }\n\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n\n    pos++;\n  }\n\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n\n  const steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  const outlines = [];\n\n  for (i = 0; count && i <= height; i++) {\n    let p = i * width1;\n    const end = p + width;\n\n    while (p < end && !points[p]) {\n      p++;\n    }\n\n    if (p === end) {\n      continue;\n    }\n\n    const coords = [p % width1, i];\n    const p0 = p;\n    let type = points[p];\n\n    do {\n      const step = steps[type];\n\n      do {\n        p += step;\n      } while (!points[p]);\n\n      const pp = points[p];\n\n      if (pp !== 5 && pp !== 10) {\n        type = pp;\n        points[p] = 0;\n      } else {\n        type = pp & 0x33 * type >> 4;\n        points[p] &= type >> 2 | type << 2;\n      }\n\n      coords.push(p % width1);\n      coords.push(p / width1 | 0);\n\n      if (!points[p]) {\n        --count;\n      }\n    } while (p0 !== p);\n\n    outlines.push(coords);\n    --i;\n  }\n\n  const drawOutline = function (c) {\n    c.save();\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n    c.beginPath();\n\n    for (let k = 0, kk = outlines.length; k < kk; k++) {\n      const o = outlines[k];\n      c.moveTo(o[0], o[1]);\n\n      for (let l = 2, ll = o.length; l < ll; l += 2) {\n        c.lineTo(o[l], o[l + 1]);\n      }\n    }\n\n    c.fill();\n    c.beginPath();\n    c.restore();\n  };\n\n  return drawOutline;\n}\n\nconst CanvasExtraState = function CanvasExtraStateClosure() {\n  function CanvasExtraState() {\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = _util.IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = _util.FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    this.x = 0;\n    this.y = 0;\n    this.lineX = 0;\n    this.lineY = 0;\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = _util.TextRenderingMode.FILL;\n    this.textRise = 0;\n    this.fillColor = \"#000000\";\n    this.strokeColor = \"#000000\";\n    this.patternFill = false;\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null;\n    this.resumeSMaskCtx = null;\n    this.transferMaps = null;\n  }\n\n  CanvasExtraState.prototype = {\n    clone: function CanvasExtraState_clone() {\n      return Object.create(this);\n    },\n    setCurrentPoint: function CanvasExtraState_setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    }\n  };\n  return CanvasExtraState;\n}();\n\nconst CanvasGraphics = function CanvasGraphicsClosure() {\n  const EXECUTION_TIME = 15;\n  const EXECUTION_STEPS = 10;\n\n  function CanvasGraphics(canvasCtx, commonObjs, objs, canvasFactory, webGLContext, imageLayer, optionalContentConfig) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState();\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.webGLContext = webGLContext;\n    this.imageLayer = imageLayer;\n    this.groupStack = [];\n    this.processingType3 = null;\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.contentVisible = true;\n    this.markedContentStack = [];\n    this.optionalContentConfig = optionalContentConfig;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n\n    if (canvasCtx) {\n      addContextCurrentTransform(canvasCtx);\n    }\n\n    this._cachedGetSinglePixelWidth = null;\n  }\n\n  function putBinaryImageData(ctx, imgData, transferMaps = null) {\n    if (typeof ImageData !== \"undefined\" && imgData instanceof ImageData) {\n      ctx.putImageData(imgData, 0, 0);\n      return;\n    }\n\n    const height = imgData.height,\n          width = imgData.width;\n    const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n    const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n    const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n    const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n    let srcPos = 0,\n        destPos;\n    const src = imgData.data;\n    const dest = chunkImgData.data;\n    let i, j, thisChunkHeight, elemsInThisChunk;\n    let transferMapRed, transferMapGreen, transferMapBlue, transferMapGray;\n\n    if (transferMaps) {\n      switch (transferMaps.length) {\n        case 1:\n          transferMapRed = transferMaps[0];\n          transferMapGreen = transferMaps[0];\n          transferMapBlue = transferMaps[0];\n          transferMapGray = transferMaps[0];\n          break;\n\n        case 4:\n          transferMapRed = transferMaps[0];\n          transferMapGreen = transferMaps[1];\n          transferMapBlue = transferMaps[2];\n          transferMapGray = transferMaps[3];\n          break;\n      }\n    }\n\n    if (imgData.kind === _util.ImageKind.GRAYSCALE_1BPP) {\n      const srcLength = src.byteLength;\n      const dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n      const dest32DataLength = dest32.length;\n      const fullSrcDiff = width + 7 >> 3;\n      let white = 0xffffffff;\n      let black = _util.IsLittleEndianCached.value ? 0xff000000 : 0x000000ff;\n\n      if (transferMapGray) {\n        if (transferMapGray[0] === 0xff && transferMapGray[0xff] === 0) {\n          [white, black] = [black, white];\n        }\n      }\n\n      for (i = 0; i < totalChunks; i++) {\n        thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n        destPos = 0;\n\n        for (j = 0; j < thisChunkHeight; j++) {\n          const srcDiff = srcLength - srcPos;\n          let k = 0;\n          const kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n          const kEndUnrolled = kEnd & ~7;\n          let mask = 0;\n          let srcByte = 0;\n\n          for (; k < kEndUnrolled; k += 8) {\n            srcByte = src[srcPos++];\n            dest32[destPos++] = srcByte & 128 ? white : black;\n            dest32[destPos++] = srcByte & 64 ? white : black;\n            dest32[destPos++] = srcByte & 32 ? white : black;\n            dest32[destPos++] = srcByte & 16 ? white : black;\n            dest32[destPos++] = srcByte & 8 ? white : black;\n            dest32[destPos++] = srcByte & 4 ? white : black;\n            dest32[destPos++] = srcByte & 2 ? white : black;\n            dest32[destPos++] = srcByte & 1 ? white : black;\n          }\n\n          for (; k < kEnd; k++) {\n            if (mask === 0) {\n              srcByte = src[srcPos++];\n              mask = 128;\n            }\n\n            dest32[destPos++] = srcByte & mask ? white : black;\n            mask >>= 1;\n          }\n        }\n\n        while (destPos < dest32DataLength) {\n          dest32[destPos++] = 0;\n        }\n\n        ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n      }\n    } else if (imgData.kind === _util.ImageKind.RGBA_32BPP) {\n      const hasTransferMaps = !!(transferMapRed || transferMapGreen || transferMapBlue);\n      j = 0;\n      elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n\n      for (i = 0; i < fullChunks; i++) {\n        dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n        srcPos += elemsInThisChunk;\n\n        if (hasTransferMaps) {\n          for (let k = 0; k < elemsInThisChunk; k += 4) {\n            if (transferMapRed) {\n              dest[k + 0] = transferMapRed[dest[k + 0]];\n            }\n\n            if (transferMapGreen) {\n              dest[k + 1] = transferMapGreen[dest[k + 1]];\n            }\n\n            if (transferMapBlue) {\n              dest[k + 2] = transferMapBlue[dest[k + 2]];\n            }\n          }\n        }\n\n        ctx.putImageData(chunkImgData, 0, j);\n        j += FULL_CHUNK_HEIGHT;\n      }\n\n      if (i < totalChunks) {\n        elemsInThisChunk = width * partialChunkHeight * 4;\n        dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n\n        if (hasTransferMaps) {\n          for (let k = 0; k < elemsInThisChunk; k += 4) {\n            if (transferMapRed) {\n              dest[k + 0] = transferMapRed[dest[k + 0]];\n            }\n\n            if (transferMapGreen) {\n              dest[k + 1] = transferMapGreen[dest[k + 1]];\n            }\n\n            if (transferMapBlue) {\n              dest[k + 2] = transferMapBlue[dest[k + 2]];\n            }\n          }\n        }\n\n        ctx.putImageData(chunkImgData, 0, j);\n      }\n    } else if (imgData.kind === _util.ImageKind.RGB_24BPP) {\n      const hasTransferMaps = !!(transferMapRed || transferMapGreen || transferMapBlue);\n      thisChunkHeight = FULL_CHUNK_HEIGHT;\n      elemsInThisChunk = width * thisChunkHeight;\n\n      for (i = 0; i < totalChunks; i++) {\n        if (i >= fullChunks) {\n          thisChunkHeight = partialChunkHeight;\n          elemsInThisChunk = width * thisChunkHeight;\n        }\n\n        destPos = 0;\n\n        for (j = elemsInThisChunk; j--;) {\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = 255;\n        }\n\n        if (hasTransferMaps) {\n          for (let k = 0; k < destPos; k += 4) {\n            if (transferMapRed) {\n              dest[k + 0] = transferMapRed[dest[k + 0]];\n            }\n\n            if (transferMapGreen) {\n              dest[k + 1] = transferMapGreen[dest[k + 1]];\n            }\n\n            if (transferMapBlue) {\n              dest[k + 2] = transferMapBlue[dest[k + 2]];\n            }\n          }\n        }\n\n        ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n      }\n    } else {\n      throw new Error(`bad image kind: ${imgData.kind}`);\n    }\n  }\n\n  function putBinaryImageMask(ctx, imgData) {\n    const height = imgData.height,\n          width = imgData.width;\n    const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n    const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n    const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n    const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n    let srcPos = 0;\n    const src = imgData.data;\n    const dest = chunkImgData.data;\n\n    for (let i = 0; i < totalChunks; i++) {\n      const thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n      let destPos = 3;\n\n      for (let j = 0; j < thisChunkHeight; j++) {\n        let elem,\n            mask = 0;\n\n        for (let k = 0; k < width; k++) {\n          if (!mask) {\n            elem = src[srcPos++];\n            mask = 128;\n          }\n\n          dest[destPos] = elem & mask ? 0 : 255;\n          destPos += 4;\n          mask >>= 1;\n        }\n      }\n\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  }\n\n  function copyCtxState(sourceCtx, destCtx) {\n    const properties = [\"strokeStyle\", \"fillStyle\", \"fillRule\", \"globalAlpha\", \"lineWidth\", \"lineCap\", \"lineJoin\", \"miterLimit\", \"globalCompositeOperation\", \"font\"];\n\n    for (let i = 0, ii = properties.length; i < ii; i++) {\n      const property = properties[i];\n\n      if (sourceCtx[property] !== undefined) {\n        destCtx[property] = sourceCtx[property];\n      }\n    }\n\n    if (sourceCtx.setLineDash !== undefined) {\n      destCtx.setLineDash(sourceCtx.getLineDash());\n      destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n    }\n  }\n\n  function resetCtxToDefault(ctx) {\n    ctx.strokeStyle = \"#000000\";\n    ctx.fillStyle = \"#000000\";\n    ctx.fillRule = \"nonzero\";\n    ctx.globalAlpha = 1;\n    ctx.lineWidth = 1;\n    ctx.lineCap = \"butt\";\n    ctx.lineJoin = \"miter\";\n    ctx.miterLimit = 10;\n    ctx.globalCompositeOperation = \"source-over\";\n    ctx.font = \"10px sans-serif\";\n\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash([]);\n      ctx.lineDashOffset = 0;\n    }\n  }\n\n  function composeSMaskBackdrop(bytes, r0, g0, b0) {\n    const length = bytes.length;\n\n    for (let i = 3; i < length; i += 4) {\n      const alpha = bytes[i];\n\n      if (alpha === 0) {\n        bytes[i - 3] = r0;\n        bytes[i - 2] = g0;\n        bytes[i - 1] = b0;\n      } else if (alpha < 255) {\n        const alpha_ = 255 - alpha;\n        bytes[i - 3] = bytes[i - 3] * alpha + r0 * alpha_ >> 8;\n        bytes[i - 2] = bytes[i - 2] * alpha + g0 * alpha_ >> 8;\n        bytes[i - 1] = bytes[i - 1] * alpha + b0 * alpha_ >> 8;\n      }\n    }\n  }\n\n  function composeSMaskAlpha(maskData, layerData, transferMap) {\n    const length = maskData.length;\n    const scale = 1 / 255;\n\n    for (let i = 3; i < length; i += 4) {\n      const alpha = transferMap ? transferMap[maskData[i]] : maskData[i];\n      layerData[i] = layerData[i] * alpha * scale | 0;\n    }\n  }\n\n  function composeSMaskLuminosity(maskData, layerData, transferMap) {\n    const length = maskData.length;\n\n    for (let i = 3; i < length; i += 4) {\n      const y = maskData[i - 3] * 77 + maskData[i - 2] * 152 + maskData[i - 1] * 28;\n      layerData[i] = transferMap ? layerData[i] * transferMap[y >> 8] >> 8 : layerData[i] * y >> 16;\n    }\n  }\n\n  function genericComposeSMask(maskCtx, layerCtx, width, height, subtype, backdrop, transferMap) {\n    const hasBackdrop = !!backdrop;\n    const r0 = hasBackdrop ? backdrop[0] : 0;\n    const g0 = hasBackdrop ? backdrop[1] : 0;\n    const b0 = hasBackdrop ? backdrop[2] : 0;\n    let composeFn;\n\n    if (subtype === \"Luminosity\") {\n      composeFn = composeSMaskLuminosity;\n    } else {\n      composeFn = composeSMaskAlpha;\n    }\n\n    const PIXELS_TO_PROCESS = 1048576;\n    const chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n\n    for (let row = 0; row < height; row += chunkSize) {\n      const chunkHeight = Math.min(chunkSize, height - row);\n      const maskData = maskCtx.getImageData(0, row, width, chunkHeight);\n      const layerData = layerCtx.getImageData(0, row, width, chunkHeight);\n\n      if (hasBackdrop) {\n        composeSMaskBackdrop(maskData.data, r0, g0, b0);\n      }\n\n      composeFn(maskData.data, layerData.data, transferMap);\n      maskCtx.putImageData(layerData, 0, row);\n    }\n  }\n\n  function composeSMask(ctx, smask, layerCtx, webGLContext) {\n    const mask = smask.canvas;\n    const maskCtx = smask.context;\n    ctx.setTransform(smask.scaleX, 0, 0, smask.scaleY, smask.offsetX, smask.offsetY);\n    const backdrop = smask.backdrop || null;\n\n    if (!smask.transferMap && webGLContext.isEnabled) {\n      const composed = webGLContext.composeSMask({\n        layer: layerCtx.canvas,\n        mask,\n        properties: {\n          subtype: smask.subtype,\n          backdrop\n        }\n      });\n      ctx.setTransform(1, 0, 0, 1, 0, 0);\n      ctx.drawImage(composed, smask.offsetX, smask.offsetY);\n      return;\n    }\n\n    genericComposeSMask(maskCtx, layerCtx, mask.width, mask.height, smask.subtype, backdrop, smask.transferMap);\n    ctx.drawImage(mask, 0, 0);\n  }\n\n  const LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\n  const LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\n  const NORMAL_CLIP = {};\n  const EO_CLIP = {};\n  CanvasGraphics.prototype = {\n    beginDrawing({\n      transform,\n      viewport,\n      transparency = false,\n      background = null\n    }) {\n      const width = this.ctx.canvas.width;\n      const height = this.ctx.canvas.height;\n      this.ctx.save();\n      this.ctx.fillStyle = background || \"rgb(255, 255, 255)\";\n      this.ctx.fillRect(0, 0, width, height);\n      this.ctx.restore();\n\n      if (transparency) {\n        const transparentCanvas = this.cachedCanvases.getCanvas(\"transparent\", width, height, true);\n        this.compositeCtx = this.ctx;\n        this.transparentCanvas = transparentCanvas.canvas;\n        this.ctx = transparentCanvas.context;\n        this.ctx.save();\n        this.ctx.transform.apply(this.ctx, this.compositeCtx.mozCurrentTransform);\n      }\n\n      this.ctx.save();\n      resetCtxToDefault(this.ctx);\n\n      if (transform) {\n        this.ctx.transform.apply(this.ctx, transform);\n      }\n\n      this.ctx.transform.apply(this.ctx, viewport.transform);\n      this.baseTransform = this.ctx.mozCurrentTransform.slice();\n      this._combinedScaleFactor = Math.hypot(this.baseTransform[0], this.baseTransform[2]);\n\n      if (this.imageLayer) {\n        this.imageLayer.beginLayout();\n      }\n    },\n\n    executeOperatorList: function CanvasGraphics_executeOperatorList(operatorList, executionStartIdx, continueCallback, stepper) {\n      const argsArray = operatorList.argsArray;\n      const fnArray = operatorList.fnArray;\n      let i = executionStartIdx || 0;\n      const argsArrayLen = argsArray.length;\n\n      if (argsArrayLen === i) {\n        return i;\n      }\n\n      const chunkOperations = argsArrayLen - i > EXECUTION_STEPS && typeof continueCallback === \"function\";\n      const endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n      let steps = 0;\n      const commonObjs = this.commonObjs;\n      const objs = this.objs;\n      let fnId;\n\n      while (true) {\n        if (stepper !== undefined && i === stepper.nextBreakPoint) {\n          stepper.breakIt(i, continueCallback);\n          return i;\n        }\n\n        fnId = fnArray[i];\n\n        if (fnId !== _util.OPS.dependency) {\n          this[fnId].apply(this, argsArray[i]);\n        } else {\n          for (const depObjId of argsArray[i]) {\n            const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n\n            if (!objsPool.has(depObjId)) {\n              objsPool.get(depObjId, continueCallback);\n              return i;\n            }\n          }\n        }\n\n        i++;\n\n        if (i === argsArrayLen) {\n          return i;\n        }\n\n        if (chunkOperations && ++steps > EXECUTION_STEPS) {\n          if (Date.now() > endTime) {\n            continueCallback();\n            return i;\n          }\n\n          steps = 0;\n        }\n      }\n    },\n    endDrawing: function CanvasGraphics_endDrawing() {\n      while (this.stateStack.length || this.current.activeSMask !== null) {\n        this.restore();\n      }\n\n      this.ctx.restore();\n\n      if (this.transparentCanvas) {\n        this.ctx = this.compositeCtx;\n        this.ctx.save();\n        this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n        this.ctx.drawImage(this.transparentCanvas, 0, 0);\n        this.ctx.restore();\n        this.transparentCanvas = null;\n      }\n\n      this.cachedCanvases.clear();\n      this.webGLContext.clear();\n\n      if (this.imageLayer) {\n        this.imageLayer.endLayout();\n      }\n    },\n    setLineWidth: function CanvasGraphics_setLineWidth(width) {\n      this.current.lineWidth = width;\n      this.ctx.lineWidth = width;\n    },\n    setLineCap: function CanvasGraphics_setLineCap(style) {\n      this.ctx.lineCap = LINE_CAP_STYLES[style];\n    },\n    setLineJoin: function CanvasGraphics_setLineJoin(style) {\n      this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n    },\n    setMiterLimit: function CanvasGraphics_setMiterLimit(limit) {\n      this.ctx.miterLimit = limit;\n    },\n    setDash: function CanvasGraphics_setDash(dashArray, dashPhase) {\n      const ctx = this.ctx;\n\n      if (ctx.setLineDash !== undefined) {\n        ctx.setLineDash(dashArray);\n        ctx.lineDashOffset = dashPhase;\n      }\n    },\n\n    setRenderingIntent(intent) {},\n\n    setFlatness(flatness) {},\n\n    setGState: function CanvasGraphics_setGState(states) {\n      for (let i = 0, ii = states.length; i < ii; i++) {\n        const state = states[i];\n        const key = state[0];\n        const value = state[1];\n\n        switch (key) {\n          case \"LW\":\n            this.setLineWidth(value);\n            break;\n\n          case \"LC\":\n            this.setLineCap(value);\n            break;\n\n          case \"LJ\":\n            this.setLineJoin(value);\n            break;\n\n          case \"ML\":\n            this.setMiterLimit(value);\n            break;\n\n          case \"D\":\n            this.setDash(value[0], value[1]);\n            break;\n\n          case \"RI\":\n            this.setRenderingIntent(value);\n            break;\n\n          case \"FL\":\n            this.setFlatness(value);\n            break;\n\n          case \"Font\":\n            this.setFont(value[0], value[1]);\n            break;\n\n          case \"CA\":\n            this.current.strokeAlpha = state[1];\n            break;\n\n          case \"ca\":\n            this.current.fillAlpha = state[1];\n            this.ctx.globalAlpha = state[1];\n            break;\n\n          case \"BM\":\n            this.ctx.globalCompositeOperation = value;\n            break;\n\n          case \"SMask\":\n            if (this.current.activeSMask) {\n              if (this.stateStack.length > 0 && this.stateStack[this.stateStack.length - 1].activeSMask === this.current.activeSMask) {\n                this.suspendSMaskGroup();\n              } else {\n                this.endSMaskGroup();\n              }\n            }\n\n            this.current.activeSMask = value ? this.tempSMask : null;\n\n            if (this.current.activeSMask) {\n              this.beginSMaskGroup();\n            }\n\n            this.tempSMask = null;\n            break;\n\n          case \"TR\":\n            this.current.transferMaps = value;\n        }\n      }\n    },\n    beginSMaskGroup: function CanvasGraphics_beginSMaskGroup() {\n      const activeSMask = this.current.activeSMask;\n      const drawnWidth = activeSMask.canvas.width;\n      const drawnHeight = activeSMask.canvas.height;\n      const cacheId = \"smaskGroupAt\" + this.groupLevel;\n      const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight, true);\n      const currentCtx = this.ctx;\n      const currentTransform = currentCtx.mozCurrentTransform;\n      this.ctx.save();\n      const groupCtx = scratchCanvas.context;\n      groupCtx.scale(1 / activeSMask.scaleX, 1 / activeSMask.scaleY);\n      groupCtx.translate(-activeSMask.offsetX, -activeSMask.offsetY);\n      groupCtx.transform.apply(groupCtx, currentTransform);\n      activeSMask.startTransformInverse = groupCtx.mozCurrentTransformInverse;\n      copyCtxState(currentCtx, groupCtx);\n      this.ctx = groupCtx;\n      this.setGState([[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n    },\n    suspendSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      const groupCtx = this.ctx;\n      this.groupLevel--;\n      this.ctx = this.groupStack.pop();\n      composeSMask(this.ctx, this.current.activeSMask, groupCtx, this.webGLContext);\n      this.ctx.restore();\n      this.ctx.save();\n      copyCtxState(groupCtx, this.ctx);\n      this.current.resumeSMaskCtx = groupCtx;\n\n      const deltaTransform = _util.Util.transform(this.current.activeSMask.startTransformInverse, groupCtx.mozCurrentTransform);\n\n      this.ctx.transform.apply(this.ctx, deltaTransform);\n      groupCtx.save();\n      groupCtx.setTransform(1, 0, 0, 1, 0, 0);\n      groupCtx.clearRect(0, 0, groupCtx.canvas.width, groupCtx.canvas.height);\n      groupCtx.restore();\n    },\n    resumeSMaskGroup: function CanvasGraphics_resumeSMaskGroup() {\n      const groupCtx = this.current.resumeSMaskCtx;\n      const currentCtx = this.ctx;\n      this.ctx = groupCtx;\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n    },\n    endSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      const groupCtx = this.ctx;\n      this.groupLevel--;\n      this.ctx = this.groupStack.pop();\n      composeSMask(this.ctx, this.current.activeSMask, groupCtx, this.webGLContext);\n      this.ctx.restore();\n      copyCtxState(groupCtx, this.ctx);\n\n      const deltaTransform = _util.Util.transform(this.current.activeSMask.startTransformInverse, groupCtx.mozCurrentTransform);\n\n      this.ctx.transform.apply(this.ctx, deltaTransform);\n    },\n    save: function CanvasGraphics_save() {\n      this.ctx.save();\n      const old = this.current;\n      this.stateStack.push(old);\n      this.current = old.clone();\n      this.current.resumeSMaskCtx = null;\n    },\n    restore: function CanvasGraphics_restore() {\n      if (this.current.resumeSMaskCtx) {\n        this.resumeSMaskGroup();\n      }\n\n      if (this.current.activeSMask !== null && (this.stateStack.length === 0 || this.stateStack[this.stateStack.length - 1].activeSMask !== this.current.activeSMask)) {\n        this.endSMaskGroup();\n      }\n\n      if (this.stateStack.length !== 0) {\n        this.current = this.stateStack.pop();\n        this.ctx.restore();\n        this.pendingClip = null;\n        this._cachedGetSinglePixelWidth = null;\n      } else {\n        this.current.activeSMask = null;\n      }\n    },\n    transform: function CanvasGraphics_transform(a, b, c, d, e, f) {\n      this.ctx.transform(a, b, c, d, e, f);\n      this._cachedGetSinglePixelWidth = null;\n    },\n    constructPath: function CanvasGraphics_constructPath(ops, args) {\n      const ctx = this.ctx;\n      const current = this.current;\n      let x = current.x,\n          y = current.y;\n\n      for (let i = 0, j = 0, ii = ops.length; i < ii; i++) {\n        switch (ops[i] | 0) {\n          case _util.OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            const width = args[j++];\n            const height = args[j++];\n            const xw = x + width;\n            const yh = y + height;\n            ctx.moveTo(x, y);\n\n            if (width === 0 || height === 0) {\n              ctx.lineTo(xw, yh);\n            } else {\n              ctx.lineTo(xw, y);\n              ctx.lineTo(xw, yh);\n              ctx.lineTo(x, yh);\n            }\n\n            ctx.closePath();\n            break;\n\n          case _util.OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            ctx.moveTo(x, y);\n            break;\n\n          case _util.OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            ctx.lineTo(x, y);\n            break;\n\n          case _util.OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            ctx.bezierCurveTo(args[j], args[j + 1], args[j + 2], args[j + 3], x, y);\n            j += 6;\n            break;\n\n          case _util.OPS.curveTo2:\n            ctx.bezierCurveTo(x, y, args[j], args[j + 1], args[j + 2], args[j + 3]);\n            x = args[j + 2];\n            y = args[j + 3];\n            j += 4;\n            break;\n\n          case _util.OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n            j += 4;\n            break;\n\n          case _util.OPS.closePath:\n            ctx.closePath();\n            break;\n        }\n      }\n\n      current.setCurrentPoint(x, y);\n    },\n    closePath: function CanvasGraphics_closePath() {\n      this.ctx.closePath();\n    },\n    stroke: function CanvasGraphics_stroke(consumePath) {\n      consumePath = typeof consumePath !== \"undefined\" ? consumePath : true;\n      const ctx = this.ctx;\n      const strokeColor = this.current.strokeColor;\n      ctx.globalAlpha = this.current.strokeAlpha;\n\n      if (this.contentVisible) {\n        if (typeof strokeColor === \"object\" && strokeColor?.getPattern) {\n          ctx.save();\n          const transform = ctx.mozCurrentTransform;\n\n          const scale = _util.Util.singularValueDecompose2dScale(transform)[0];\n\n          ctx.strokeStyle = strokeColor.getPattern(ctx, this);\n          const lineWidth = this.getSinglePixelWidth();\n          const scaledLineWidth = this.current.lineWidth * scale;\n\n          if (lineWidth < 0 && -lineWidth >= scaledLineWidth) {\n            ctx.resetTransform();\n            ctx.lineWidth = Math.round(this._combinedScaleFactor);\n          } else {\n            ctx.lineWidth = Math.max(lineWidth, scaledLineWidth);\n          }\n\n          ctx.stroke();\n          ctx.restore();\n        } else {\n          const lineWidth = this.getSinglePixelWidth();\n\n          if (lineWidth < 0 && -lineWidth >= this.current.lineWidth) {\n            ctx.save();\n            ctx.resetTransform();\n            ctx.lineWidth = Math.round(this._combinedScaleFactor);\n            ctx.stroke();\n            ctx.restore();\n          } else {\n            ctx.lineWidth = Math.max(lineWidth, this.current.lineWidth);\n            ctx.stroke();\n          }\n        }\n      }\n\n      if (consumePath) {\n        this.consumePath();\n      }\n\n      ctx.globalAlpha = this.current.fillAlpha;\n    },\n    closeStroke: function CanvasGraphics_closeStroke() {\n      this.closePath();\n      this.stroke();\n    },\n    fill: function CanvasGraphics_fill(consumePath) {\n      consumePath = typeof consumePath !== \"undefined\" ? consumePath : true;\n      const ctx = this.ctx;\n      const fillColor = this.current.fillColor;\n      const isPatternFill = this.current.patternFill;\n      let needRestore = false;\n\n      if (isPatternFill) {\n        ctx.save();\n\n        if (this.baseTransform) {\n          ctx.setTransform.apply(ctx, this.baseTransform);\n        }\n\n        ctx.fillStyle = fillColor.getPattern(ctx, this);\n        needRestore = true;\n      }\n\n      if (this.contentVisible) {\n        if (this.pendingEOFill) {\n          ctx.fill(\"evenodd\");\n          this.pendingEOFill = false;\n        } else {\n          ctx.fill();\n        }\n      }\n\n      if (needRestore) {\n        ctx.restore();\n      }\n\n      if (consumePath) {\n        this.consumePath();\n      }\n    },\n    eoFill: function CanvasGraphics_eoFill() {\n      this.pendingEOFill = true;\n      this.fill();\n    },\n    fillStroke: function CanvasGraphics_fillStroke() {\n      this.fill(false);\n      this.stroke(false);\n      this.consumePath();\n    },\n    eoFillStroke: function CanvasGraphics_eoFillStroke() {\n      this.pendingEOFill = true;\n      this.fillStroke();\n    },\n    closeFillStroke: function CanvasGraphics_closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    },\n    closeEOFillStroke: function CanvasGraphics_closeEOFillStroke() {\n      this.pendingEOFill = true;\n      this.closePath();\n      this.fillStroke();\n    },\n    endPath: function CanvasGraphics_endPath() {\n      this.consumePath();\n    },\n    clip: function CanvasGraphics_clip() {\n      this.pendingClip = NORMAL_CLIP;\n    },\n    eoClip: function CanvasGraphics_eoClip() {\n      this.pendingClip = EO_CLIP;\n    },\n    beginText: function CanvasGraphics_beginText() {\n      this.current.textMatrix = _util.IDENTITY_MATRIX;\n      this.current.textMatrixScale = 1;\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n    },\n    endText: function CanvasGraphics_endText() {\n      const paths = this.pendingTextPaths;\n      const ctx = this.ctx;\n\n      if (paths === undefined) {\n        ctx.beginPath();\n        return;\n      }\n\n      ctx.save();\n      ctx.beginPath();\n\n      for (let i = 0; i < paths.length; i++) {\n        const path = paths[i];\n        ctx.setTransform.apply(ctx, path.transform);\n        ctx.translate(path.x, path.y);\n        path.addToPath(ctx, path.fontSize);\n      }\n\n      ctx.restore();\n      ctx.clip();\n      ctx.beginPath();\n      delete this.pendingTextPaths;\n    },\n    setCharSpacing: function CanvasGraphics_setCharSpacing(spacing) {\n      this.current.charSpacing = spacing;\n    },\n    setWordSpacing: function CanvasGraphics_setWordSpacing(spacing) {\n      this.current.wordSpacing = spacing;\n    },\n    setHScale: function CanvasGraphics_setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    },\n    setLeading: function CanvasGraphics_setLeading(leading) {\n      this.current.leading = -leading;\n    },\n    setFont: function CanvasGraphics_setFont(fontRefName, size) {\n      const fontObj = this.commonObjs.get(fontRefName);\n      const current = this.current;\n\n      if (!fontObj) {\n        throw new Error(`Can't find font for ${fontRefName}`);\n      }\n\n      current.fontMatrix = fontObj.fontMatrix || _util.FONT_IDENTITY_MATRIX;\n\n      if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n        (0, _util.warn)(\"Invalid font matrix for font \" + fontRefName);\n      }\n\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n\n      this.current.font = fontObj;\n      this.current.fontSize = size;\n\n      if (fontObj.isType3Font) {\n        return;\n      }\n\n      const name = fontObj.loadedName || \"sans-serif\";\n      let bold = \"normal\";\n\n      if (fontObj.black) {\n        bold = \"900\";\n      } else if (fontObj.bold) {\n        bold = \"bold\";\n      }\n\n      const italic = fontObj.italic ? \"italic\" : \"normal\";\n      const typeface = `\"${name}\", ${fontObj.fallbackName}`;\n      let browserFontSize = size;\n\n      if (size < MIN_FONT_SIZE) {\n        browserFontSize = MIN_FONT_SIZE;\n      } else if (size > MAX_FONT_SIZE) {\n        browserFontSize = MAX_FONT_SIZE;\n      }\n\n      this.current.fontSizeScale = size / browserFontSize;\n      this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n    },\n    setTextRenderingMode: function CanvasGraphics_setTextRenderingMode(mode) {\n      this.current.textRenderingMode = mode;\n    },\n    setTextRise: function CanvasGraphics_setTextRise(rise) {\n      this.current.textRise = rise;\n    },\n    moveText: function CanvasGraphics_moveText(x, y) {\n      this.current.x = this.current.lineX += x;\n      this.current.y = this.current.lineY += y;\n    },\n    setLeadingMoveText: function CanvasGraphics_setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    },\n    setTextMatrix: function CanvasGraphics_setTextMatrix(a, b, c, d, e, f) {\n      this.current.textMatrix = [a, b, c, d, e, f];\n      this.current.textMatrixScale = Math.sqrt(a * a + b * b);\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n    },\n    nextLine: function CanvasGraphics_nextLine() {\n      this.moveText(0, this.current.leading);\n    },\n\n    paintChar(character, x, y, patternTransform, resetLineWidthToOne) {\n      const ctx = this.ctx;\n      const current = this.current;\n      const font = current.font;\n      const textRenderingMode = current.textRenderingMode;\n      const fontSize = current.fontSize / current.fontSizeScale;\n      const fillStrokeMode = textRenderingMode & _util.TextRenderingMode.FILL_STROKE_MASK;\n      const isAddToPathSet = !!(textRenderingMode & _util.TextRenderingMode.ADD_TO_PATH_FLAG);\n      const patternFill = current.patternFill && !font.missingFile;\n      let addToPath;\n\n      if (font.disableFontFace || isAddToPathSet || patternFill) {\n        addToPath = font.getPathGenerator(this.commonObjs, character);\n      }\n\n      if (font.disableFontFace || patternFill) {\n        ctx.save();\n        ctx.translate(x, y);\n        ctx.beginPath();\n        addToPath(ctx, fontSize);\n\n        if (patternTransform) {\n          ctx.setTransform.apply(ctx, patternTransform);\n        }\n\n        if (fillStrokeMode === _util.TextRenderingMode.FILL || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n          ctx.fill();\n        }\n\n        if (fillStrokeMode === _util.TextRenderingMode.STROKE || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n          if (resetLineWidthToOne) {\n            ctx.resetTransform();\n            ctx.lineWidth = Math.round(this._combinedScaleFactor);\n          }\n\n          ctx.stroke();\n        }\n\n        ctx.restore();\n      } else {\n        if (fillStrokeMode === _util.TextRenderingMode.FILL || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n          ctx.fillText(character, x, y);\n        }\n\n        if (fillStrokeMode === _util.TextRenderingMode.STROKE || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n          if (resetLineWidthToOne) {\n            ctx.save();\n            ctx.moveTo(x, y);\n            ctx.resetTransform();\n            ctx.lineWidth = Math.round(this._combinedScaleFactor);\n            ctx.strokeText(character, 0, 0);\n            ctx.restore();\n          } else {\n            ctx.strokeText(character, x, y);\n          }\n        }\n      }\n\n      if (isAddToPathSet) {\n        const paths = this.pendingTextPaths || (this.pendingTextPaths = []);\n        paths.push({\n          transform: ctx.mozCurrentTransform,\n          x,\n          y,\n          fontSize,\n          addToPath\n        });\n      }\n    },\n\n    get isFontSubpixelAAEnabled() {\n      const {\n        context: ctx\n      } = this.cachedCanvases.getCanvas(\"isFontSubpixelAAEnabled\", 10, 10);\n      ctx.scale(1.5, 1);\n      ctx.fillText(\"I\", 0, 10);\n      const data = ctx.getImageData(0, 0, 10, 10).data;\n      let enabled = false;\n\n      for (let i = 3; i < data.length; i += 4) {\n        if (data[i] > 0 && data[i] < 255) {\n          enabled = true;\n          break;\n        }\n      }\n\n      return (0, _util.shadow)(this, \"isFontSubpixelAAEnabled\", enabled);\n    },\n\n    showText: function CanvasGraphics_showText(glyphs) {\n      const current = this.current;\n      const font = current.font;\n\n      if (font.isType3Font) {\n        return this.showType3Text(glyphs);\n      }\n\n      const fontSize = current.fontSize;\n\n      if (fontSize === 0) {\n        return undefined;\n      }\n\n      const ctx = this.ctx;\n      const fontSizeScale = current.fontSizeScale;\n      const charSpacing = current.charSpacing;\n      const wordSpacing = current.wordSpacing;\n      const fontDirection = current.fontDirection;\n      const textHScale = current.textHScale * fontDirection;\n      const glyphsLength = glyphs.length;\n      const vertical = font.vertical;\n      const spacingDir = vertical ? 1 : -1;\n      const defaultVMetrics = font.defaultVMetrics;\n      const widthAdvanceScale = fontSize * current.fontMatrix[0];\n      const simpleFillText = current.textRenderingMode === _util.TextRenderingMode.FILL && !font.disableFontFace && !current.patternFill;\n      ctx.save();\n      let patternTransform;\n\n      if (current.patternFill) {\n        ctx.save();\n        const pattern = current.fillColor.getPattern(ctx, this);\n        patternTransform = ctx.mozCurrentTransform;\n        ctx.restore();\n        ctx.fillStyle = pattern;\n      }\n\n      ctx.transform.apply(ctx, current.textMatrix);\n      ctx.translate(current.x, current.y + current.textRise);\n\n      if (fontDirection > 0) {\n        ctx.scale(textHScale, -1);\n      } else {\n        ctx.scale(textHScale, 1);\n      }\n\n      let lineWidth = current.lineWidth;\n      let resetLineWidthToOne = false;\n      const scale = current.textMatrixScale;\n\n      if (scale === 0 || lineWidth === 0) {\n        const fillStrokeMode = current.textRenderingMode & _util.TextRenderingMode.FILL_STROKE_MASK;\n\n        if (fillStrokeMode === _util.TextRenderingMode.STROKE || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n          this._cachedGetSinglePixelWidth = null;\n          lineWidth = this.getSinglePixelWidth();\n          resetLineWidthToOne = lineWidth < 0;\n        }\n      } else {\n        lineWidth /= scale;\n      }\n\n      if (fontSizeScale !== 1.0) {\n        ctx.scale(fontSizeScale, fontSizeScale);\n        lineWidth /= fontSizeScale;\n      }\n\n      ctx.lineWidth = lineWidth;\n      let x = 0,\n          i;\n\n      for (i = 0; i < glyphsLength; ++i) {\n        const glyph = glyphs[i];\n\n        if ((0, _util.isNum)(glyph)) {\n          x += spacingDir * glyph * fontSize / 1000;\n          continue;\n        }\n\n        let restoreNeeded = false;\n        const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        const character = glyph.fontChar;\n        const accent = glyph.accent;\n        let scaledX, scaledY;\n        let width = glyph.width;\n\n        if (vertical) {\n          const vmetric = glyph.vmetric || defaultVMetrics;\n          const vx = -(glyph.vmetric ? vmetric[1] : width * 0.5) * widthAdvanceScale;\n          const vy = vmetric[2] * widthAdvanceScale;\n          width = vmetric ? -vmetric[0] : width;\n          scaledX = vx / fontSizeScale;\n          scaledY = (x + vy) / fontSizeScale;\n        } else {\n          scaledX = x / fontSizeScale;\n          scaledY = 0;\n        }\n\n        if (font.remeasure && width > 0) {\n          const measuredWidth = ctx.measureText(character).width * 1000 / fontSize * fontSizeScale;\n\n          if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n            const characterScaleX = width / measuredWidth;\n            restoreNeeded = true;\n            ctx.save();\n            ctx.scale(characterScaleX, 1);\n            scaledX /= characterScaleX;\n          } else if (width !== measuredWidth) {\n            scaledX += (width - measuredWidth) / 2000 * fontSize / fontSizeScale;\n          }\n        }\n\n        if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n          if (simpleFillText && !accent) {\n            ctx.fillText(character, scaledX, scaledY);\n          } else {\n            this.paintChar(character, scaledX, scaledY, patternTransform, resetLineWidthToOne);\n\n            if (accent) {\n              const scaledAccentX = scaledX + fontSize * accent.offset.x / fontSizeScale;\n              const scaledAccentY = scaledY - fontSize * accent.offset.y / fontSizeScale;\n              this.paintChar(accent.fontChar, scaledAccentX, scaledAccentY, patternTransform, resetLineWidthToOne);\n            }\n          }\n        }\n\n        let charWidth;\n\n        if (vertical) {\n          charWidth = width * widthAdvanceScale - spacing * fontDirection;\n        } else {\n          charWidth = width * widthAdvanceScale + spacing * fontDirection;\n        }\n\n        x += charWidth;\n\n        if (restoreNeeded) {\n          ctx.restore();\n        }\n      }\n\n      if (vertical) {\n        current.y -= x;\n      } else {\n        current.x += x * textHScale;\n      }\n\n      ctx.restore();\n    },\n    showType3Text: function CanvasGraphics_showType3Text(glyphs) {\n      const ctx = this.ctx;\n      const current = this.current;\n      const font = current.font;\n      const fontSize = current.fontSize;\n      const fontDirection = current.fontDirection;\n      const spacingDir = font.vertical ? 1 : -1;\n      const charSpacing = current.charSpacing;\n      const wordSpacing = current.wordSpacing;\n      const textHScale = current.textHScale * fontDirection;\n      const fontMatrix = current.fontMatrix || _util.FONT_IDENTITY_MATRIX;\n      const glyphsLength = glyphs.length;\n      const isTextInvisible = current.textRenderingMode === _util.TextRenderingMode.INVISIBLE;\n      let i, glyph, width, spacingLength;\n\n      if (isTextInvisible || fontSize === 0) {\n        return;\n      }\n\n      this._cachedGetSinglePixelWidth = null;\n      ctx.save();\n      ctx.transform.apply(ctx, current.textMatrix);\n      ctx.translate(current.x, current.y);\n      ctx.scale(textHScale, fontDirection);\n\n      for (i = 0; i < glyphsLength; ++i) {\n        glyph = glyphs[i];\n\n        if ((0, _util.isNum)(glyph)) {\n          spacingLength = spacingDir * glyph * fontSize / 1000;\n          this.ctx.translate(spacingLength, 0);\n          current.x += spacingLength * textHScale;\n          continue;\n        }\n\n        const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        const operatorList = font.charProcOperatorList[glyph.operatorListId];\n\n        if (!operatorList) {\n          (0, _util.warn)(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n          continue;\n        }\n\n        if (this.contentVisible) {\n          this.processingType3 = glyph;\n          this.save();\n          ctx.scale(fontSize, fontSize);\n          ctx.transform.apply(ctx, fontMatrix);\n          this.executeOperatorList(operatorList);\n          this.restore();\n        }\n\n        const transformed = _util.Util.applyTransform([glyph.width, 0], fontMatrix);\n\n        width = transformed[0] * fontSize + spacing;\n        ctx.translate(width, 0);\n        current.x += width * textHScale;\n      }\n\n      ctx.restore();\n      this.processingType3 = null;\n    },\n    setCharWidth: function CanvasGraphics_setCharWidth(xWidth, yWidth) {},\n    setCharWidthAndBounds: function CanvasGraphics_setCharWidthAndBounds(xWidth, yWidth, llx, lly, urx, ury) {\n      this.ctx.rect(llx, lly, urx - llx, ury - lly);\n      this.clip();\n      this.endPath();\n    },\n    getColorN_Pattern: function CanvasGraphics_getColorN_Pattern(IR) {\n      let pattern;\n\n      if (IR[0] === \"TilingPattern\") {\n        const color = IR[1];\n        const baseTransform = this.baseTransform || this.ctx.mozCurrentTransform.slice();\n        const canvasGraphicsFactory = {\n          createCanvasGraphics: ctx => {\n            return new CanvasGraphics(ctx, this.commonObjs, this.objs, this.canvasFactory, this.webGLContext);\n          }\n        };\n        pattern = new _pattern_helper.TilingPattern(IR, color, this.ctx, canvasGraphicsFactory, baseTransform);\n      } else {\n        pattern = (0, _pattern_helper.getShadingPatternFromIR)(IR);\n      }\n\n      return pattern;\n    },\n    setStrokeColorN: function CanvasGraphics_setStrokeColorN() {\n      this.current.strokeColor = this.getColorN_Pattern(arguments);\n    },\n    setFillColorN: function CanvasGraphics_setFillColorN() {\n      this.current.fillColor = this.getColorN_Pattern(arguments);\n      this.current.patternFill = true;\n    },\n    setStrokeRGBColor: function CanvasGraphics_setStrokeRGBColor(r, g, b) {\n      const color = _util.Util.makeHexColor(r, g, b);\n\n      this.ctx.strokeStyle = color;\n      this.current.strokeColor = color;\n    },\n    setFillRGBColor: function CanvasGraphics_setFillRGBColor(r, g, b) {\n      const color = _util.Util.makeHexColor(r, g, b);\n\n      this.ctx.fillStyle = color;\n      this.current.fillColor = color;\n      this.current.patternFill = false;\n    },\n    shadingFill: function CanvasGraphics_shadingFill(patternIR) {\n      if (!this.contentVisible) {\n        return;\n      }\n\n      const ctx = this.ctx;\n      this.save();\n      const pattern = (0, _pattern_helper.getShadingPatternFromIR)(patternIR);\n      ctx.fillStyle = pattern.getPattern(ctx, this, true);\n      const inv = ctx.mozCurrentTransformInverse;\n\n      if (inv) {\n        const canvas = ctx.canvas;\n        const width = canvas.width;\n        const height = canvas.height;\n\n        const bl = _util.Util.applyTransform([0, 0], inv);\n\n        const br = _util.Util.applyTransform([0, height], inv);\n\n        const ul = _util.Util.applyTransform([width, 0], inv);\n\n        const ur = _util.Util.applyTransform([width, height], inv);\n\n        const x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n        const y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n        const x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n        const y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n        this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n      } else {\n        this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n      }\n\n      this.restore();\n    },\n    beginInlineImage: function CanvasGraphics_beginInlineImage() {\n      (0, _util.unreachable)(\"Should not call beginInlineImage\");\n    },\n    beginImageData: function CanvasGraphics_beginImageData() {\n      (0, _util.unreachable)(\"Should not call beginImageData\");\n    },\n    paintFormXObjectBegin: function CanvasGraphics_paintFormXObjectBegin(matrix, bbox) {\n      if (!this.contentVisible) {\n        return;\n      }\n\n      this.save();\n      this.baseTransformStack.push(this.baseTransform);\n\n      if (Array.isArray(matrix) && matrix.length === 6) {\n        this.transform.apply(this, matrix);\n      }\n\n      this.baseTransform = this.ctx.mozCurrentTransform;\n\n      if (bbox) {\n        const width = bbox[2] - bbox[0];\n        const height = bbox[3] - bbox[1];\n        this.ctx.rect(bbox[0], bbox[1], width, height);\n        this.clip();\n        this.endPath();\n      }\n    },\n    paintFormXObjectEnd: function CanvasGraphics_paintFormXObjectEnd() {\n      if (!this.contentVisible) {\n        return;\n      }\n\n      this.restore();\n      this.baseTransform = this.baseTransformStack.pop();\n    },\n    beginGroup: function CanvasGraphics_beginGroup(group) {\n      if (!this.contentVisible) {\n        return;\n      }\n\n      this.save();\n      const currentCtx = this.ctx;\n\n      if (!group.isolated) {\n        (0, _util.info)(\"TODO: Support non-isolated groups.\");\n      }\n\n      if (group.knockout) {\n        (0, _util.warn)(\"Knockout groups not supported.\");\n      }\n\n      const currentTransform = currentCtx.mozCurrentTransform;\n\n      if (group.matrix) {\n        currentCtx.transform.apply(currentCtx, group.matrix);\n      }\n\n      if (!group.bbox) {\n        throw new Error(\"Bounding box is required.\");\n      }\n\n      let bounds = _util.Util.getAxialAlignedBoundingBox(group.bbox, currentCtx.mozCurrentTransform);\n\n      const canvasBounds = [0, 0, currentCtx.canvas.width, currentCtx.canvas.height];\n      bounds = _util.Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n      const offsetX = Math.floor(bounds[0]);\n      const offsetY = Math.floor(bounds[1]);\n      let drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n      let drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n      let scaleX = 1,\n          scaleY = 1;\n\n      if (drawnWidth > MAX_GROUP_SIZE) {\n        scaleX = drawnWidth / MAX_GROUP_SIZE;\n        drawnWidth = MAX_GROUP_SIZE;\n      }\n\n      if (drawnHeight > MAX_GROUP_SIZE) {\n        scaleY = drawnHeight / MAX_GROUP_SIZE;\n        drawnHeight = MAX_GROUP_SIZE;\n      }\n\n      let cacheId = \"groupAt\" + this.groupLevel;\n\n      if (group.smask) {\n        cacheId += \"_smask_\" + this.smaskCounter++ % 2;\n      }\n\n      const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight, true);\n      const groupCtx = scratchCanvas.context;\n      groupCtx.scale(1 / scaleX, 1 / scaleY);\n      groupCtx.translate(-offsetX, -offsetY);\n      groupCtx.transform.apply(groupCtx, currentTransform);\n\n      if (group.smask) {\n        this.smaskStack.push({\n          canvas: scratchCanvas.canvas,\n          context: groupCtx,\n          offsetX,\n          offsetY,\n          scaleX,\n          scaleY,\n          subtype: group.smask.subtype,\n          backdrop: group.smask.backdrop,\n          transferMap: group.smask.transferMap || null,\n          startTransformInverse: null\n        });\n      } else {\n        currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n        currentCtx.translate(offsetX, offsetY);\n        currentCtx.scale(scaleX, scaleY);\n      }\n\n      copyCtxState(currentCtx, groupCtx);\n      this.ctx = groupCtx;\n      this.setGState([[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n      this.current.activeSMask = null;\n    },\n    endGroup: function CanvasGraphics_endGroup(group) {\n      if (!this.contentVisible) {\n        return;\n      }\n\n      this.groupLevel--;\n      const groupCtx = this.ctx;\n      this.ctx = this.groupStack.pop();\n\n      if (this.ctx.imageSmoothingEnabled !== undefined) {\n        this.ctx.imageSmoothingEnabled = false;\n      } else {\n        this.ctx.mozImageSmoothingEnabled = false;\n      }\n\n      if (group.smask) {\n        this.tempSMask = this.smaskStack.pop();\n      } else {\n        this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      }\n\n      this.restore();\n    },\n    beginAnnotations: function CanvasGraphics_beginAnnotations() {\n      this.save();\n\n      if (this.baseTransform) {\n        this.ctx.setTransform.apply(this.ctx, this.baseTransform);\n      }\n    },\n    endAnnotations: function CanvasGraphics_endAnnotations() {\n      this.restore();\n    },\n    beginAnnotation: function CanvasGraphics_beginAnnotation(rect, transform, matrix) {\n      this.save();\n      resetCtxToDefault(this.ctx);\n      this.current = new CanvasExtraState();\n\n      if (Array.isArray(rect) && rect.length === 4) {\n        const width = rect[2] - rect[0];\n        const height = rect[3] - rect[1];\n        this.ctx.rect(rect[0], rect[1], width, height);\n        this.clip();\n        this.endPath();\n      }\n\n      this.transform.apply(this, transform);\n      this.transform.apply(this, matrix);\n    },\n    endAnnotation: function CanvasGraphics_endAnnotation() {\n      this.restore();\n    },\n    paintImageMaskXObject: function CanvasGraphics_paintImageMaskXObject(img) {\n      if (!this.contentVisible) {\n        return;\n      }\n\n      const ctx = this.ctx;\n      const width = img.width,\n            height = img.height;\n      const fillColor = this.current.fillColor;\n      const isPatternFill = this.current.patternFill;\n      const glyph = this.processingType3;\n\n      if (COMPILE_TYPE3_GLYPHS && glyph && glyph.compiled === undefined) {\n        if (width <= MAX_SIZE_TO_COMPILE && height <= MAX_SIZE_TO_COMPILE) {\n          glyph.compiled = compileType3Glyph({\n            data: img.data,\n            width,\n            height\n          });\n        } else {\n          glyph.compiled = null;\n        }\n      }\n\n      if (glyph?.compiled) {\n        glyph.compiled(ctx);\n        return;\n      }\n\n      const maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      const maskCtx = maskCanvas.context;\n      maskCtx.save();\n      putBinaryImageMask(maskCtx, img);\n      maskCtx.globalCompositeOperation = \"source-in\";\n      maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n      maskCtx.restore();\n      this.paintInlineImageXObject(maskCanvas.canvas);\n    },\n\n    paintImageMaskXObjectRepeat(imgData, scaleX, skewX = 0, skewY = 0, scaleY, positions) {\n      if (!this.contentVisible) {\n        return;\n      }\n\n      const width = imgData.width;\n      const height = imgData.height;\n      const fillColor = this.current.fillColor;\n      const isPatternFill = this.current.patternFill;\n      const maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      const maskCtx = maskCanvas.context;\n      maskCtx.save();\n      putBinaryImageMask(maskCtx, imgData);\n      maskCtx.globalCompositeOperation = \"source-in\";\n      maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n      maskCtx.restore();\n      const ctx = this.ctx;\n\n      for (let i = 0, ii = positions.length; i < ii; i += 2) {\n        ctx.save();\n        ctx.transform(scaleX, skewX, skewY, scaleY, positions[i], positions[i + 1]);\n        ctx.scale(1, -1);\n        ctx.drawImage(maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n        ctx.restore();\n      }\n    },\n\n    paintImageMaskXObjectGroup: function CanvasGraphics_paintImageMaskXObjectGroup(images) {\n      if (!this.contentVisible) {\n        return;\n      }\n\n      const ctx = this.ctx;\n      const fillColor = this.current.fillColor;\n      const isPatternFill = this.current.patternFill;\n\n      for (let i = 0, ii = images.length; i < ii; i++) {\n        const image = images[i];\n        const width = image.width,\n              height = image.height;\n        const maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n        const maskCtx = maskCanvas.context;\n        maskCtx.save();\n        putBinaryImageMask(maskCtx, image);\n        maskCtx.globalCompositeOperation = \"source-in\";\n        maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this) : fillColor;\n        maskCtx.fillRect(0, 0, width, height);\n        maskCtx.restore();\n        ctx.save();\n        ctx.transform.apply(ctx, image.transform);\n        ctx.scale(1, -1);\n        ctx.drawImage(maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n        ctx.restore();\n      }\n    },\n    paintImageXObject: function CanvasGraphics_paintImageXObject(objId) {\n      if (!this.contentVisible) {\n        return;\n      }\n\n      const imgData = objId.startsWith(\"g_\") ? this.commonObjs.get(objId) : this.objs.get(objId);\n\n      if (!imgData) {\n        (0, _util.warn)(\"Dependent image isn't ready yet\");\n        return;\n      }\n\n      this.paintInlineImageXObject(imgData);\n    },\n    paintImageXObjectRepeat: function CanvasGraphics_paintImageXObjectRepeat(objId, scaleX, scaleY, positions) {\n      if (!this.contentVisible) {\n        return;\n      }\n\n      const imgData = objId.startsWith(\"g_\") ? this.commonObjs.get(objId) : this.objs.get(objId);\n\n      if (!imgData) {\n        (0, _util.warn)(\"Dependent image isn't ready yet\");\n        return;\n      }\n\n      const width = imgData.width;\n      const height = imgData.height;\n      const map = [];\n\n      for (let i = 0, ii = positions.length; i < ii; i += 2) {\n        map.push({\n          transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n          x: 0,\n          y: 0,\n          w: width,\n          h: height\n        });\n      }\n\n      this.paintInlineImageXObjectGroup(imgData, map);\n    },\n    paintInlineImageXObject: function CanvasGraphics_paintInlineImageXObject(imgData) {\n      if (!this.contentVisible) {\n        return;\n      }\n\n      const width = imgData.width;\n      const height = imgData.height;\n      const ctx = this.ctx;\n      this.save();\n      ctx.scale(1 / width, -1 / height);\n      const currentTransform = ctx.mozCurrentTransformInverse;\n      const a = currentTransform[0],\n            b = currentTransform[1];\n      let widthScale = Math.max(Math.sqrt(a * a + b * b), 1);\n      const c = currentTransform[2],\n            d = currentTransform[3];\n      let heightScale = Math.max(Math.sqrt(c * c + d * d), 1);\n      let imgToPaint, tmpCanvas, tmpCtx;\n\n      if (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement || !imgData.data) {\n        imgToPaint = imgData;\n      } else {\n        tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n        tmpCtx = tmpCanvas.context;\n        putBinaryImageData(tmpCtx, imgData, this.current.transferMaps);\n        imgToPaint = tmpCanvas.canvas;\n      }\n\n      let paintWidth = width,\n          paintHeight = height;\n      let tmpCanvasId = \"prescale1\";\n\n      while (widthScale > 2 && paintWidth > 1 || heightScale > 2 && paintHeight > 1) {\n        let newWidth = paintWidth,\n            newHeight = paintHeight;\n\n        if (widthScale > 2 && paintWidth > 1) {\n          newWidth = Math.ceil(paintWidth / 2);\n          widthScale /= paintWidth / newWidth;\n        }\n\n        if (heightScale > 2 && paintHeight > 1) {\n          newHeight = Math.ceil(paintHeight / 2);\n          heightScale /= paintHeight / newHeight;\n        }\n\n        tmpCanvas = this.cachedCanvases.getCanvas(tmpCanvasId, newWidth, newHeight);\n        tmpCtx = tmpCanvas.context;\n        tmpCtx.clearRect(0, 0, newWidth, newHeight);\n        tmpCtx.drawImage(imgToPaint, 0, 0, paintWidth, paintHeight, 0, 0, newWidth, newHeight);\n        imgToPaint = tmpCanvas.canvas;\n        paintWidth = newWidth;\n        paintHeight = newHeight;\n        tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n      }\n\n      ctx.drawImage(imgToPaint, 0, 0, paintWidth, paintHeight, 0, -height, width, height);\n\n      if (this.imageLayer) {\n        const position = this.getCanvasPosition(0, -height);\n        this.imageLayer.appendImage({\n          imgData,\n          left: position[0],\n          top: position[1],\n          width: width / currentTransform[0],\n          height: height / currentTransform[3]\n        });\n      }\n\n      this.restore();\n    },\n    paintInlineImageXObjectGroup: function CanvasGraphics_paintInlineImageXObjectGroup(imgData, map) {\n      if (!this.contentVisible) {\n        return;\n      }\n\n      const ctx = this.ctx;\n      const w = imgData.width;\n      const h = imgData.height;\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData, this.current.transferMaps);\n\n      for (let i = 0, ii = map.length; i < ii; i++) {\n        const entry = map[i];\n        ctx.save();\n        ctx.transform.apply(ctx, entry.transform);\n        ctx.scale(1, -1);\n        ctx.drawImage(tmpCanvas.canvas, entry.x, entry.y, entry.w, entry.h, 0, -1, 1, 1);\n\n        if (this.imageLayer) {\n          const position = this.getCanvasPosition(entry.x, entry.y);\n          this.imageLayer.appendImage({\n            imgData,\n            left: position[0],\n            top: position[1],\n            width: w,\n            height: h\n          });\n        }\n\n        ctx.restore();\n      }\n    },\n    paintSolidColorImageMask: function CanvasGraphics_paintSolidColorImageMask() {\n      if (!this.contentVisible) {\n        return;\n      }\n\n      this.ctx.fillRect(0, 0, 1, 1);\n    },\n    markPoint: function CanvasGraphics_markPoint(tag) {},\n    markPointProps: function CanvasGraphics_markPointProps(tag, properties) {},\n    beginMarkedContent: function CanvasGraphics_beginMarkedContent(tag) {\n      this.markedContentStack.push({\n        visible: true\n      });\n    },\n    beginMarkedContentProps: function CanvasGraphics_beginMarkedContentProps(tag, properties) {\n      if (tag === \"OC\") {\n        this.markedContentStack.push({\n          visible: this.optionalContentConfig.isVisible(properties)\n        });\n      } else {\n        this.markedContentStack.push({\n          visible: true\n        });\n      }\n\n      this.contentVisible = this.isContentVisible();\n    },\n    endMarkedContent: function CanvasGraphics_endMarkedContent() {\n      this.markedContentStack.pop();\n      this.contentVisible = this.isContentVisible();\n    },\n    beginCompat: function CanvasGraphics_beginCompat() {},\n    endCompat: function CanvasGraphics_endCompat() {},\n    consumePath: function CanvasGraphics_consumePath() {\n      const ctx = this.ctx;\n\n      if (this.pendingClip) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip(\"evenodd\");\n        } else {\n          ctx.clip();\n        }\n\n        this.pendingClip = null;\n      }\n\n      ctx.beginPath();\n    },\n\n    getSinglePixelWidth() {\n      if (this._cachedGetSinglePixelWidth === null) {\n        const m = this.ctx.mozCurrentTransform;\n        const absDet = Math.abs(m[0] * m[3] - m[2] * m[1]);\n        const sqNorm1 = m[0] ** 2 + m[2] ** 2;\n        const sqNorm2 = m[1] ** 2 + m[3] ** 2;\n        const pixelHeight = Math.sqrt(Math.max(sqNorm1, sqNorm2)) / absDet;\n\n        if (sqNorm1 !== sqNorm2 && this._combinedScaleFactor * pixelHeight > 1) {\n          this._cachedGetSinglePixelWidth = -(this._combinedScaleFactor * pixelHeight);\n        } else if (absDet > Number.EPSILON) {\n          this._cachedGetSinglePixelWidth = pixelHeight * 1.0000001;\n        } else {\n          this._cachedGetSinglePixelWidth = 1;\n        }\n      }\n\n      return this._cachedGetSinglePixelWidth;\n    },\n\n    getCanvasPosition: function CanvasGraphics_getCanvasPosition(x, y) {\n      const transform = this.ctx.mozCurrentTransform;\n      return [transform[0] * x + transform[2] * y + transform[4], transform[1] * x + transform[3] * y + transform[5]];\n    },\n    isContentVisible: function CanvasGraphics_isContentVisible() {\n      for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n        if (!this.markedContentStack[i].visible) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  };\n\n  for (const op in _util.OPS) {\n    CanvasGraphics.prototype[_util.OPS[op]] = CanvasGraphics.prototype[op];\n  }\n\n  return CanvasGraphics;\n}();\n\nexports.CanvasGraphics = CanvasGraphics;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getFilenameFromContentDispositionHeader = getFilenameFromContentDispositionHeader;\n\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  tmp = rfc2231getparam(contentDisposition);\n\n  if (tmp) {\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\"(?:^|;)\\\\s*\" + attributePattern + \"\\\\s*=\\\\s*\" + \"(\" + '[^\";\\\\s][^;\\\\s]*' + \"|\" + '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' + \")\", flags);\n  }\n\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const bytes = Array.from(value, function (ch) {\n          return ch.charCodeAt(0) & 0xff;\n        });\n        value = decoder.decode(new Uint8Array(bytes));\n        needsEncodingFixup = false;\n      } catch (e) {\n        if (/^utf-?8$/i.test(encoding)) {\n          try {\n            value = decodeURIComponent(escape(value));\n            needsEncodingFixup = false;\n          } catch (err) {}\n        }\n      }\n    }\n\n    return value;\n  }\n\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      value = textdecode(\"utf-8\", value);\n\n      if (needsEncodingFixup) {\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n\n    return value;\n  }\n\n  function rfc2231getparam(contentDispositionStr) {\n    const matches = [];\n    let match;\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n\n    while ((match = iter.exec(contentDispositionStr)) !== null) {\n      let [, n, quot, part] = match;\n      n = parseInt(n, 10);\n\n      if (n in matches) {\n        if (n === 0) {\n          break;\n        }\n\n        continue;\n      }\n\n      matches[n] = [quot, part];\n    }\n\n    const parts = [];\n\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        break;\n      }\n\n      let [quot, part] = matches[n];\n      part = rfc2616unquote(part);\n\n      if (quot) {\n        part = unescape(part);\n\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n\n      parts.push(part);\n    }\n\n    return parts.join(\"\");\n  }\n\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1;\n        }\n\n        parts[i] = parts[i].replace(/\\\\(.)/g, \"$1\");\n      }\n\n      value = parts.join('\"');\n    }\n\n    return value;\n  }\n\n  function rfc5987decode(extvalue) {\n    const encodingend = extvalue.indexOf(\"'\");\n\n    if (encodingend === -1) {\n      return extvalue;\n    }\n\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n\n  function rfc2047decode(value) {\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n\n    return value.replace(/=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g, function (matches, charset, encoding, text) {\n      if (encoding === \"q\" || encoding === \"Q\") {\n        text = text.replace(/_/g, \" \");\n        text = text.replace(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n          return String.fromCharCode(parseInt(hex, 16));\n        });\n        return textdecode(charset, text);\n      }\n\n      try {\n        text = atob(text);\n      } catch (e) {}\n\n      return textdecode(charset, text);\n    });\n  }\n\n  return \"\";\n}","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addLinkAttributes = addLinkAttributes;\nexports.deprecated = deprecated;\nexports.getFilenameFromUrl = getFilenameFromUrl;\nexports.isFetchSupported = isFetchSupported;\nexports.isValidFetchUrl = isValidFetchUrl;\nexports.loadScript = loadScript;\nexports.StatTimer = exports.RenderingCancelledException = exports.PDFDateString = exports.PageViewport = exports.LinkTarget = exports.DOMSVGFactory = exports.DOMCMapReaderFactory = exports.DOMCanvasFactory = exports.DEFAULT_LINK_REL = exports.BaseCMapReaderFactory = exports.BaseCanvasFactory = void 0;\n\nvar _util = require(\"../shared/util.js\");\n\nconst DEFAULT_LINK_REL = \"noopener noreferrer nofollow\";\nexports.DEFAULT_LINK_REL = DEFAULT_LINK_REL;\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\n\nclass BaseCanvasFactory {\n  constructor() {\n    if (this.constructor === BaseCanvasFactory) {\n      (0, _util.unreachable)(\"Cannot initialize BaseCanvasFactory.\");\n    }\n  }\n\n  create(width, height) {\n    (0, _util.unreachable)(\"Abstract method `create` called.\");\n  }\n\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n\n}\n\nexports.BaseCanvasFactory = BaseCanvasFactory;\n\nclass DOMCanvasFactory extends BaseCanvasFactory {\n  constructor({\n    ownerDocument = globalThis.document\n  } = {}) {\n    super();\n    this._document = ownerDocument;\n  }\n\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n\n    const canvas = this._document.createElement(\"canvas\");\n\n    const context = canvas.getContext(\"2d\");\n    canvas.width = width;\n    canvas.height = height;\n    return {\n      canvas,\n      context\n    };\n  }\n\n}\n\nexports.DOMCanvasFactory = DOMCanvasFactory;\n\nclass BaseCMapReaderFactory {\n  constructor({\n    baseUrl = null,\n    isCompressed = false\n  }) {\n    if (this.constructor === BaseCMapReaderFactory) {\n      (0, _util.unreachable)(\"Cannot initialize BaseCMapReaderFactory.\");\n    }\n\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n\n  async fetch({\n    name\n  }) {\n    if (!this.baseUrl) {\n      throw new Error('The CMap \"baseUrl\" parameter must be specified, ensure that ' + 'the \"cMapUrl\" and \"cMapPacked\" API parameters are provided.');\n    }\n\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n    const compressionType = this.isCompressed ? _util.CMapCompressionType.BINARY : _util.CMapCompressionType.NONE;\n    return this._fetchData(url, compressionType).catch(reason => {\n      throw new Error(`Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`);\n    });\n  }\n\n  _fetchData(url, compressionType) {\n    (0, _util.unreachable)(\"Abstract method `_fetchData` called.\");\n  }\n\n}\n\nexports.BaseCMapReaderFactory = BaseCMapReaderFactory;\n\nclass DOMCMapReaderFactory extends BaseCMapReaderFactory {\n  _fetchData(url, compressionType) {\n    if (isFetchSupported() && isValidFetchUrl(url, document.baseURI)) {\n      return fetch(url).then(async response => {\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n\n        let cMapData;\n\n        if (this.isCompressed) {\n          cMapData = new Uint8Array(await response.arrayBuffer());\n        } else {\n          cMapData = (0, _util.stringToBytes)(await response.text());\n        }\n\n        return {\n          cMapData,\n          compressionType\n        };\n      });\n    }\n\n    return new Promise((resolve, reject) => {\n      const request = new XMLHttpRequest();\n      request.open(\"GET\", url, true);\n\n      if (this.isCompressed) {\n        request.responseType = \"arraybuffer\";\n      }\n\n      request.onreadystatechange = () => {\n        if (request.readyState !== XMLHttpRequest.DONE) {\n          return;\n        }\n\n        if (request.status === 200 || request.status === 0) {\n          let cMapData;\n\n          if (this.isCompressed && request.response) {\n            cMapData = new Uint8Array(request.response);\n          } else if (!this.isCompressed && request.responseText) {\n            cMapData = (0, _util.stringToBytes)(request.responseText);\n          }\n\n          if (cMapData) {\n            resolve({\n              cMapData,\n              compressionType\n            });\n            return;\n          }\n        }\n\n        reject(new Error(request.statusText));\n      };\n\n      request.send(null);\n    });\n  }\n\n}\n\nexports.DOMCMapReaderFactory = DOMCMapReaderFactory;\n\nclass DOMSVGFactory {\n  create(width, height) {\n    (0, _util.assert)(width > 0 && height > 0, \"Invalid SVG dimensions\");\n    const svg = document.createElementNS(SVG_NS, \"svg:svg\");\n    svg.setAttribute(\"version\", \"1.1\");\n    svg.setAttribute(\"width\", width + \"px\");\n    svg.setAttribute(\"height\", height + \"px\");\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", \"0 0 \" + width + \" \" + height);\n    return svg;\n  }\n\n  createElement(type) {\n    (0, _util.assert)(typeof type === \"string\", \"Invalid SVG element type\");\n    return document.createElementNS(SVG_NS, type);\n  }\n\n}\n\nexports.DOMSVGFactory = DOMSVGFactory;\n\nclass PageViewport {\n  constructor({\n    viewBox,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  }) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    rotation = rotation % 360;\n    rotation = rotation < 0 ? rotation + 360 : rotation;\n\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n\n      case 0:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n\n      default:\n        throw new Error(\"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\");\n    }\n\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = Math.abs(viewBox[3] - viewBox[1]) * scale;\n      height = Math.abs(viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = Math.abs(viewBox[2] - viewBox[0]) * scale;\n      height = Math.abs(viewBox[3] - viewBox[1]) * scale;\n    }\n\n    this.transform = [rotateA * scale, rotateB * scale, rotateC * scale, rotateD * scale, offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY, offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY];\n    this.width = width;\n    this.height = height;\n  }\n\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n\n  convertToViewportPoint(x, y) {\n    return _util.Util.applyTransform([x, y], this.transform);\n  }\n\n  convertToViewportRectangle(rect) {\n    const topLeft = _util.Util.applyTransform([rect[0], rect[1]], this.transform);\n\n    const bottomRight = _util.Util.applyTransform([rect[2], rect[3]], this.transform);\n\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n\n  convertToPdfPoint(x, y) {\n    return _util.Util.applyInverseTransform([x, y], this.transform);\n  }\n\n}\n\nexports.PageViewport = PageViewport;\n\nclass RenderingCancelledException extends _util.BaseException {\n  constructor(msg, type) {\n    super(msg);\n    this.type = type;\n  }\n\n}\n\nexports.RenderingCancelledException = RenderingCancelledException;\nconst LinkTarget = {\n  NONE: 0,\n  SELF: 1,\n  BLANK: 2,\n  PARENT: 3,\n  TOP: 4\n};\nexports.LinkTarget = LinkTarget;\n\nfunction addLinkAttributes(link, {\n  url,\n  target,\n  rel,\n  enabled = true\n} = {}) {\n  (0, _util.assert)(url && typeof url === \"string\", 'addLinkAttributes: A valid \"url\" parameter must provided.');\n  const urlNullRemoved = (0, _util.removeNullCharacters)(url);\n\n  if (enabled) {\n    link.href = link.title = urlNullRemoved;\n  } else {\n    link.href = \"\";\n    link.title = `Disabled: ${urlNullRemoved}`;\n\n    link.onclick = () => {\n      return false;\n    };\n  }\n\n  let targetStr = \"\";\n\n  switch (target) {\n    case LinkTarget.NONE:\n      break;\n\n    case LinkTarget.SELF:\n      targetStr = \"_self\";\n      break;\n\n    case LinkTarget.BLANK:\n      targetStr = \"_blank\";\n      break;\n\n    case LinkTarget.PARENT:\n      targetStr = \"_parent\";\n      break;\n\n    case LinkTarget.TOP:\n      targetStr = \"_top\";\n      break;\n  }\n\n  link.target = targetStr;\n  link.rel = typeof rel === \"string\" ? rel : DEFAULT_LINK_REL;\n}\n\nfunction getFilenameFromUrl(url) {\n  const anchor = url.indexOf(\"#\");\n  const query = url.indexOf(\"?\");\n  const end = Math.min(anchor > 0 ? anchor : url.length, query > 0 ? query : url.length);\n  return url.substring(url.lastIndexOf(\"/\", end) + 1, end);\n}\n\nclass StatTimer {\n  constructor() {\n    this.started = Object.create(null);\n    this.times = [];\n  }\n\n  time(name) {\n    if (name in this.started) {\n      (0, _util.warn)(`Timer is already running for ${name}`);\n    }\n\n    this.started[name] = Date.now();\n  }\n\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      (0, _util.warn)(`Timer has not been started for ${name}`);\n    }\n\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now()\n    });\n    delete this.started[name];\n  }\n\n  toString() {\n    const outBuf = [];\n    let longest = 0;\n\n    for (const time of this.times) {\n      const name = time.name;\n\n      if (name.length > longest) {\n        longest = name.length;\n      }\n    }\n\n    for (const time of this.times) {\n      const duration = time.end - time.start;\n      outBuf.push(`${time.name.padEnd(longest)} ${duration}ms\\n`);\n    }\n\n    return outBuf.join(\"\");\n  }\n\n}\n\nexports.StatTimer = StatTimer;\n\nfunction isFetchSupported() {\n  return typeof fetch !== \"undefined\" && typeof Response !== \"undefined\" && \"body\" in Response.prototype && typeof ReadableStream !== \"undefined\";\n}\n\nfunction isValidFetchUrl(url, baseUrl) {\n  try {\n    const {\n      protocol\n    } = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    return protocol === \"http:\" || protocol === \"https:\";\n  } catch (ex) {\n    return false;\n  }\n}\n\nfunction loadScript(src, removeScriptElement = false) {\n  return new Promise((resolve, reject) => {\n    const script = document.createElement(\"script\");\n    script.src = src;\n\n    script.onload = function (evt) {\n      if (removeScriptElement) {\n        script.remove();\n      }\n\n      resolve(evt);\n    };\n\n    script.onerror = function () {\n      reject(new Error(`Cannot load script at: ${script.src}`));\n    };\n\n    (document.head || document.documentElement).appendChild(script);\n  });\n}\n\nfunction deprecated(details) {\n  console.log(\"Deprecated API usage: \" + details);\n}\n\nlet pdfDateStringRegex;\n\nclass PDFDateString {\n  static toDateObject(input) {\n    if (!input || !(0, _util.isString)(input)) {\n      return null;\n    }\n\n    if (!pdfDateStringRegex) {\n      pdfDateStringRegex = new RegExp(\"^D:\" + \"(\\\\d{4})\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"([Z|+|-])?\" + \"(\\\\d{2})?\" + \"'?\" + \"(\\\\d{2})?\" + \"'?\");\n    }\n\n    const matches = pdfDateStringRegex.exec(input);\n\n    if (!matches) {\n      return null;\n    }\n\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n\n}\n\nexports.PDFDateString = PDFDateString;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFFetchStream = void 0;\n\nvar _util = require(\"../shared/util.js\");\n\nvar _network_utils = require(\"./network_utils.js\");\n\n;\n\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController?.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\"\n  };\n}\n\nfunction createHeaders(httpHeaders) {\n  const headers = new Headers();\n\n  for (const property in httpHeaders) {\n    const value = httpHeaders[property];\n\n    if (typeof value === \"undefined\") {\n      continue;\n    }\n\n    headers.append(property, value);\n  }\n\n  return headers;\n}\n\nclass PDFFetchStream {\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.httpHeaders = this.isHttp && source.httpHeaders || {};\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  getFullReader() {\n    (0, _util.assert)(!this._fullRequestReader, \"PDFFetchStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n\n    this._rangeRequestReaders.push(reader);\n\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n\n    const readers = this._rangeRequestReaders.slice(0);\n\n    readers.forEach(function (reader) {\n      reader.cancel(reason);\n    });\n  }\n\n}\n\nexports.PDFFetchStream = PDFFetchStream;\n\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = (0, _util.createPromiseCapability)();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    if (typeof AbortController !== \"undefined\") {\n      this._abortController = new AbortController();\n    }\n\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    this._headers = createHeaders(this._stream.httpHeaders);\n    const url = source.url;\n    fetch(url, createFetchOptions(this._headers, this._withCredentials, this._abortController)).then(response => {\n      if (!(0, _network_utils.validateResponseStatus)(response.status)) {\n        throw (0, _network_utils.createResponseStatusError)(response.status, url);\n      }\n\n      this._reader = response.body.getReader();\n\n      this._headersCapability.resolve();\n\n      const getResponseHeader = name => {\n        return response.headers.get(name);\n      };\n\n      const {\n        allowRangeRequests,\n        suggestedLength\n      } = (0, _network_utils.validateRangeRequestCapabilities)({\n        getResponseHeader,\n        isHttp: this._stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange\n      });\n      this._isRangeSupported = allowRangeRequests;\n      this._contentLength = suggestedLength || this._contentLength;\n      this._filename = (0, _network_utils.extractFilenameFromHeader)(getResponseHeader);\n\n      if (!this._isStreamingSupported && this._isRangeSupported) {\n        this.cancel(new _util.AbortException(\"Streaming is disabled.\"));\n      }\n    }).catch(this._headersCapability.reject);\n    this.onProgress = null;\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._headersCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n\n    this._loaded += value.byteLength;\n\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded,\n        total: this._contentLength\n      });\n    }\n\n    const buffer = new Uint8Array(value).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n\n  cancel(reason) {\n    if (this._reader) {\n      this._reader.cancel(reason);\n    }\n\n    if (this._abortController) {\n      this._abortController.abort();\n    }\n  }\n\n}\n\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = (0, _util.createPromiseCapability)();\n    this._isStreamingSupported = !source.disableStream;\n\n    if (typeof AbortController !== \"undefined\") {\n      this._abortController = new AbortController();\n    }\n\n    this._headers = createHeaders(this._stream.httpHeaders);\n\n    this._headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n\n    const url = source.url;\n    fetch(url, createFetchOptions(this._headers, this._withCredentials, this._abortController)).then(response => {\n      if (!(0, _network_utils.validateResponseStatus)(response.status)) {\n        throw (0, _network_utils.createResponseStatusError)(response.status, url);\n      }\n\n      this._readCapability.resolve();\n\n      this._reader = response.body.getReader();\n    }).catch(reason => {\n      if (reason?.name === \"AbortError\") {\n        return;\n      }\n\n      throw reason;\n    });\n    this.onProgress = null;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n\n    this._loaded += value.byteLength;\n\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded\n      });\n    }\n\n    const buffer = new Uint8Array(value).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n\n  cancel(reason) {\n    if (this._reader) {\n      this._reader.cancel(reason);\n    }\n\n    if (this._abortController) {\n      this._abortController.abort();\n    }\n  }\n\n}","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FontLoader = exports.FontFaceObject = void 0;\n\nvar _util = require(\"../shared/util.js\");\n\nclass BaseFontLoader {\n  constructor({\n    docId,\n    onUnsupportedFeature,\n    ownerDocument = globalThis.document\n  }) {\n    if (this.constructor === BaseFontLoader) {\n      (0, _util.unreachable)(\"Cannot initialize BaseFontLoader.\");\n    }\n\n    this.docId = docId;\n    this._onUnsupportedFeature = onUnsupportedFeature;\n    this._document = ownerDocument;\n    this.nativeFontFaces = [];\n    this.styleElement = null;\n  }\n\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.push(nativeFontFace);\n\n    this._document.fonts.add(nativeFontFace);\n  }\n\n  insertRule(rule) {\n    let styleElement = this.styleElement;\n\n    if (!styleElement) {\n      styleElement = this.styleElement = this._document.createElement(\"style\");\n      styleElement.id = `PDFJS_FONT_STYLE_TAG_${this.docId}`;\n\n      this._document.documentElement.getElementsByTagName(\"head\")[0].appendChild(styleElement);\n    }\n\n    const styleSheet = styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n\n  clear() {\n    this.nativeFontFaces.forEach(nativeFontFace => {\n      this._document.fonts.delete(nativeFontFace);\n    });\n    this.nativeFontFaces.length = 0;\n\n    if (this.styleElement) {\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n\n  async bind(font) {\n    if (font.attached || font.missingFile) {\n      return;\n    }\n\n    font.attached = true;\n\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          this._onUnsupportedFeature({\n            featureId: _util.UNSUPPORTED_FEATURES.errorFontLoadNative\n          });\n\n          (0, _util.warn)(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n\n      return;\n    }\n\n    const rule = font.createFontFaceRule();\n\n    if (rule) {\n      this.insertRule(rule);\n\n      if (this.isSyncFontLoadingSupported) {\n        return;\n      }\n\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n\n        this._prepareFontLoadEvent([rule], [font], request);\n      });\n    }\n  }\n\n  _queueLoadingCallback(callback) {\n    (0, _util.unreachable)(\"Abstract method `_queueLoadingCallback`.\");\n  }\n\n  get isFontLoadingAPISupported() {\n    return (0, _util.shadow)(this, \"isFontLoadingAPISupported\", !!this._document?.fonts);\n  }\n\n  get isSyncFontLoadingSupported() {\n    (0, _util.unreachable)(\"Abstract method `isSyncFontLoadingSupported`.\");\n  }\n\n  get _loadTestFont() {\n    (0, _util.unreachable)(\"Abstract method `_loadTestFont`.\");\n  }\n\n  _prepareFontLoadEvent(rules, fontsToLoad, request) {\n    (0, _util.unreachable)(\"Abstract method `_prepareFontLoadEvent`.\");\n  }\n\n}\n\nlet FontLoader;\nexports.FontLoader = FontLoader;\n{\n  exports.FontLoader = FontLoader = class GenericFontLoader extends BaseFontLoader {\n    constructor(params) {\n      super(params);\n      this.loadingContext = {\n        requests: [],\n        nextRequestId: 0\n      };\n      this.loadTestFontId = 0;\n    }\n\n    get isSyncFontLoadingSupported() {\n      let supported = false;\n\n      if (typeof navigator === \"undefined\") {\n        supported = true;\n      } else {\n        const m = /Mozilla\\/5.0.*?rv:(\\d+).*? Gecko/.exec(navigator.userAgent);\n\n        if (m?.[1] >= 14) {\n          supported = true;\n        }\n      }\n\n      return (0, _util.shadow)(this, \"isSyncFontLoadingSupported\", supported);\n    }\n\n    _queueLoadingCallback(callback) {\n      function completeRequest() {\n        (0, _util.assert)(!request.done, \"completeRequest() cannot be called twice.\");\n        request.done = true;\n\n        while (context.requests.length > 0 && context.requests[0].done) {\n          const otherRequest = context.requests.shift();\n          setTimeout(otherRequest.callback, 0);\n        }\n      }\n\n      const context = this.loadingContext;\n      const request = {\n        id: `pdfjs-font-loading-${context.nextRequestId++}`,\n        done: false,\n        complete: completeRequest,\n        callback\n      };\n      context.requests.push(request);\n      return request;\n    }\n\n    get _loadTestFont() {\n      const getLoadTestFont = function () {\n        return atob(\"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" + \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" + \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" + \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" + \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" + \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" + \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" + \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" + \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" + \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" + \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" + \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" + \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" + \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" + \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" + \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" + \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\");\n      };\n\n      return (0, _util.shadow)(this, \"_loadTestFont\", getLoadTestFont());\n    }\n\n    _prepareFontLoadEvent(rules, fonts, request) {\n      function int32(data, offset) {\n        return data.charCodeAt(offset) << 24 | data.charCodeAt(offset + 1) << 16 | data.charCodeAt(offset + 2) << 8 | data.charCodeAt(offset + 3) & 0xff;\n      }\n\n      function spliceString(s, offset, remove, insert) {\n        const chunk1 = s.substring(0, offset);\n        const chunk2 = s.substring(offset + remove);\n        return chunk1 + insert + chunk2;\n      }\n\n      let i, ii;\n\n      const canvas = this._document.createElement(\"canvas\");\n\n      canvas.width = 1;\n      canvas.height = 1;\n      const ctx = canvas.getContext(\"2d\");\n      let called = 0;\n\n      function isFontReady(name, callback) {\n        called++;\n\n        if (called > 30) {\n          (0, _util.warn)(\"Load test font never loaded.\");\n          callback();\n          return;\n        }\n\n        ctx.font = \"30px \" + name;\n        ctx.fillText(\".\", 0, 20);\n        const imageData = ctx.getImageData(0, 0, 1, 1);\n\n        if (imageData.data[3] > 0) {\n          callback();\n          return;\n        }\n\n        setTimeout(isFontReady.bind(null, name, callback));\n      }\n\n      const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n      let data = this._loadTestFont;\n      const COMMENT_OFFSET = 976;\n      data = spliceString(data, COMMENT_OFFSET, loadTestFontId.length, loadTestFontId);\n      const CFF_CHECKSUM_OFFSET = 16;\n      const XXXX_VALUE = 0x58585858;\n      let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n\n      for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n        checksum = checksum - XXXX_VALUE + int32(loadTestFontId, i) | 0;\n      }\n\n      if (i < loadTestFontId.length) {\n        checksum = checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i) | 0;\n      }\n\n      data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, (0, _util.string32)(checksum));\n      const url = `url(data:font/opentype;base64,${btoa(data)});`;\n      const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n      this.insertRule(rule);\n      const names = [];\n\n      for (i = 0, ii = fonts.length; i < ii; i++) {\n        names.push(fonts[i].loadedName);\n      }\n\n      names.push(loadTestFontId);\n\n      const div = this._document.createElement(\"div\");\n\n      div.style.visibility = \"hidden\";\n      div.style.width = div.style.height = \"10px\";\n      div.style.position = \"absolute\";\n      div.style.top = div.style.left = \"0px\";\n\n      for (i = 0, ii = names.length; i < ii; ++i) {\n        const span = this._document.createElement(\"span\");\n\n        span.textContent = \"Hi\";\n        span.style.fontFamily = names[i];\n        div.appendChild(span);\n      }\n\n      this._document.body.appendChild(div);\n\n      isFontReady(loadTestFontId, () => {\n        this._document.body.removeChild(div);\n\n        request.complete();\n      });\n    }\n\n  };\n}\n\nclass FontFaceObject {\n  constructor(translatedData, {\n    isEvalSupported = true,\n    disableFontFace = false,\n    ignoreErrors = false,\n    onUnsupportedFeature = null,\n    fontRegistry = null\n  }) {\n    this.compiledGlyphs = Object.create(null);\n\n    for (const i in translatedData) {\n      this[i] = translatedData[i];\n    }\n\n    this.isEvalSupported = isEvalSupported !== false;\n    this.disableFontFace = disableFontFace === true;\n    this.ignoreErrors = ignoreErrors === true;\n    this._onUnsupportedFeature = onUnsupportedFeature;\n    this.fontRegistry = fontRegistry;\n  }\n\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n\n    const nativeFontFace = new FontFace(this.loadedName, this.data, {});\n\n    if (this.fontRegistry) {\n      this.fontRegistry.registerFont(this);\n    }\n\n    return nativeFontFace;\n  }\n\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n\n    const data = (0, _util.bytesToString)(new Uint8Array(this.data));\n    const url = `url(data:${this.mimetype};base64,${btoa(data)});`;\n    const rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n\n    if (this.fontRegistry) {\n      this.fontRegistry.registerFont(this, url);\n    }\n\n    return rule;\n  }\n\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n\n    let cmds, current;\n\n    try {\n      cmds = objs.get(this.loadedName + \"_path_\" + character);\n    } catch (ex) {\n      if (!this.ignoreErrors) {\n        throw ex;\n      }\n\n      if (this._onUnsupportedFeature) {\n        this._onUnsupportedFeature({\n          featureId: _util.UNSUPPORTED_FEATURES.errorFontGetPath\n        });\n      }\n\n      (0, _util.warn)(`getPathGenerator - ignoring character: \"${ex}\".`);\n      return this.compiledGlyphs[character] = function (c, size) {};\n    }\n\n    if (this.isEvalSupported && _util.IsEvalSupportedCached.value) {\n      let args,\n          js = \"\";\n\n      for (let i = 0, ii = cmds.length; i < ii; i++) {\n        current = cmds[i];\n\n        if (current.args !== undefined) {\n          args = current.args.join(\",\");\n        } else {\n          args = \"\";\n        }\n\n        js += \"c.\" + current.cmd + \"(\" + args + \");\\n\";\n      }\n\n      return this.compiledGlyphs[character] = new Function(\"c\", \"size\", js);\n    }\n\n    return this.compiledGlyphs[character] = function (c, size) {\n      for (let i = 0, ii = cmds.length; i < ii; i++) {\n        current = cmds[i];\n\n        if (current.cmd === \"scale\") {\n          current.args = [size, -size];\n        }\n\n        c[current.cmd].apply(c, current.args);\n      }\n    };\n  }\n\n}\n\nexports.FontFaceObject = FontFaceObject;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Metadata = void 0;\n\nvar _util = require(\"../shared/util.js\");\n\nvar _xml_parser = require(\"../shared/xml_parser.js\");\n\nclass Metadata {\n  constructor(data) {\n    (0, _util.assert)(typeof data === \"string\", \"Metadata: input is not a string\");\n    data = this._repair(data);\n    const parser = new _xml_parser.SimpleXMLParser({\n      lowerCaseName: true\n    });\n    const xmlDocument = parser.parseFromString(data);\n    this._metadataMap = new Map();\n\n    if (xmlDocument) {\n      this._parse(xmlDocument);\n    }\n\n    this._data = data;\n  }\n\n  _repair(data) {\n    return data.replace(/^[^<]+/, \"\").replace(/>\\\\376\\\\377([^<]+)/g, function (all, codes) {\n      const bytes = codes.replace(/\\\\([0-3])([0-7])([0-7])/g, function (code, d1, d2, d3) {\n        return String.fromCharCode(d1 * 64 + d2 * 8 + d3 * 1);\n      }).replace(/&(amp|apos|gt|lt|quot);/g, function (str, name) {\n        switch (name) {\n          case \"amp\":\n            return \"&\";\n\n          case \"apos\":\n            return \"'\";\n\n          case \"gt\":\n            return \">\";\n\n          case \"lt\":\n            return \"<\";\n\n          case \"quot\":\n            return '\"';\n        }\n\n        throw new Error(`_repair: ${name} isn't defined.`);\n      });\n      let chars = \"\";\n\n      for (let i = 0, ii = bytes.length; i < ii; i += 2) {\n        const code = bytes.charCodeAt(i) * 256 + bytes.charCodeAt(i + 1);\n\n        if (code >= 32 && code < 127 && code !== 60 && code !== 62 && code !== 38) {\n          chars += String.fromCharCode(code);\n        } else {\n          chars += \"&#x\" + (0x10000 + code).toString(16).substring(1) + \";\";\n        }\n      }\n\n      return \">\" + chars;\n    });\n  }\n\n  _getSequence(entry) {\n    const name = entry.nodeName;\n\n    if (name !== \"rdf:bag\" && name !== \"rdf:seq\" && name !== \"rdf:alt\") {\n      return null;\n    }\n\n    return entry.childNodes.filter(node => node.nodeName === \"rdf:li\");\n  }\n\n  _getCreators(entry) {\n    if (entry.nodeName !== \"dc:creator\") {\n      return false;\n    }\n\n    if (!entry.hasChildNodes()) {\n      return true;\n    }\n\n    const seqNode = entry.childNodes[0];\n    const authors = this._getSequence(seqNode) || [];\n\n    this._metadataMap.set(entry.nodeName, authors.map(node => node.textContent.trim()));\n\n    return true;\n  }\n\n  _parse(xmlDocument) {\n    let rdf = xmlDocument.documentElement;\n\n    if (rdf.nodeName !== \"rdf:rdf\") {\n      rdf = rdf.firstChild;\n\n      while (rdf && rdf.nodeName !== \"rdf:rdf\") {\n        rdf = rdf.nextSibling;\n      }\n    }\n\n    if (!rdf || rdf.nodeName !== \"rdf:rdf\" || !rdf.hasChildNodes()) {\n      return;\n    }\n\n    for (const desc of rdf.childNodes) {\n      if (desc.nodeName !== \"rdf:description\") {\n        continue;\n      }\n\n      for (const entry of desc.childNodes) {\n        const name = entry.nodeName;\n\n        if (name === \"#text\") {\n          continue;\n        }\n\n        if (this._getCreators(entry)) {\n          continue;\n        }\n\n        this._metadataMap.set(name, entry.textContent.trim());\n      }\n    }\n  }\n\n  getRaw() {\n    return this._data;\n  }\n\n  get(name) {\n    return this._metadataMap.get(name) ?? null;\n  }\n\n  getAll() {\n    return (0, _util.objectFromEntries)(this._metadataMap);\n  }\n\n  has(name) {\n    return this._metadataMap.has(name);\n  }\n\n}\n\nexports.Metadata = Metadata;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFNetworkStream = void 0;\n\nvar _util = require(\"../shared/util.js\");\n\nvar _network_utils = require(\"./network_utils.js\");\n\n;\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\n\nfunction getArrayBuffer(xhr) {\n  const data = xhr.response;\n\n  if (typeof data !== \"string\") {\n    return data;\n  }\n\n  const array = (0, _util.stringToBytes)(data);\n  return array.buffer;\n}\n\nclass NetworkManager {\n  constructor(url, args) {\n    this.url = url;\n    args = args || {};\n    this.isHttp = /^https?:/i.test(url);\n    this.httpHeaders = this.isHttp && args.httpHeaders || {};\n    this.withCredentials = args.withCredentials || false;\n\n    this.getXhr = args.getXhr || function NetworkManager_getXhr() {\n      return new XMLHttpRequest();\n    };\n\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n\n  requestRange(begin, end, listeners) {\n    const args = {\n      begin,\n      end\n    };\n\n    for (const prop in listeners) {\n      args[prop] = listeners[prop];\n    }\n\n    return this.request(args);\n  }\n\n  requestFull(listeners) {\n    return this.request(listeners);\n  }\n\n  request(args) {\n    const xhr = this.getXhr();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = this.pendingRequests[xhrId] = {\n      xhr\n    };\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n\n    for (const property in this.httpHeaders) {\n      const value = this.httpHeaders[property];\n\n      if (typeof value === \"undefined\") {\n        continue;\n      }\n\n      xhr.setRequestHeader(property, value);\n    }\n\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n\n    xhr.responseType = \"arraybuffer\";\n\n    if (args.onError) {\n      xhr.onerror = function (evt) {\n        args.onError(xhr.status);\n      };\n    }\n\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n    xhr.send(null);\n    return xhrId;\n  }\n\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n\n    if (!pendingRequest) {\n      return;\n    }\n\n    if (pendingRequest.onProgress) {\n      pendingRequest.onProgress(evt);\n    }\n  }\n\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n\n    if (!pendingRequest) {\n      return;\n    }\n\n    const xhr = pendingRequest.xhr;\n\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n\n    if (xhr.readyState !== 4) {\n      return;\n    }\n\n    if (!(xhrId in this.pendingRequests)) {\n      return;\n    }\n\n    delete this.pendingRequests[xhrId];\n\n    if (xhr.status === 0 && this.isHttp) {\n      if (pendingRequest.onError) {\n        pendingRequest.onError(xhr.status);\n      }\n\n      return;\n    }\n\n    const xhrStatus = xhr.status || OK_RESPONSE;\n    const ok_response_on_range_request = xhrStatus === OK_RESPONSE && pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n\n    if (!ok_response_on_range_request && xhrStatus !== pendingRequest.expectedStatus) {\n      if (pendingRequest.onError) {\n        pendingRequest.onError(xhr.status);\n      }\n\n      return;\n    }\n\n    const chunk = getArrayBuffer(xhr);\n\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      pendingRequest.onDone({\n        begin: parseInt(matches[1], 10),\n        chunk\n      });\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk\n      });\n    } else if (pendingRequest.onError) {\n      pendingRequest.onError(xhr.status);\n    }\n  }\n\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n\n}\n\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source.url, {\n      httpHeaders: source.httpHeaders,\n      withCredentials: source.withCredentials\n    });\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    (0, _util.assert)(!this._fullRequestReader, \"PDFNetworkStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(this._manager, this._source);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(this._manager, begin, end);\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n\n    this._rangeRequestReaders.push(reader);\n\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n\n    const readers = this._rangeRequestReaders.slice(0);\n\n    readers.forEach(function (reader) {\n      reader.cancel(reason);\n    });\n  }\n\n}\n\nexports.PDFNetworkStream = PDFNetworkStream;\n\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n    const args = {\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    };\n    this._url = source.url;\n    this._fullRequestId = manager.requestFull(args);\n    this._headersReceivedCapability = (0, _util.createPromiseCapability)();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length;\n    this._rangeChunkSize = source.rangeChunkSize;\n\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n    this.onProgress = null;\n  }\n\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n\n    const getResponseHeader = name => {\n      return fullRequestXhr.getResponseHeader(name);\n    };\n\n    const {\n      allowRangeRequests,\n      suggestedLength\n    } = (0, _network_utils.validateRangeRequestCapabilities)({\n      getResponseHeader,\n      isHttp: this._manager.isHttp,\n      rangeChunkSize: this._rangeChunkSize,\n      disableRange: this._disableRange\n    });\n\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n\n    this._contentLength = suggestedLength || this._contentLength;\n    this._filename = (0, _network_utils.extractFilenameFromHeader)(getResponseHeader);\n\n    if (this._isRangeSupported) {\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n\n    this._headersReceivedCapability.resolve();\n  }\n\n  _onDone(args) {\n    if (args) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n\n        requestCapability.resolve({\n          value: args.chunk,\n          done: false\n        });\n      } else {\n        this._cachedChunks.push(args.chunk);\n      }\n    }\n\n    this._done = true;\n\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    });\n\n    this._requests = [];\n  }\n\n  _onError(status) {\n    const url = this._url;\n    const exception = (0, _network_utils.createResponseStatusError)(status, url);\n    this._storedError = exception;\n\n    this._headersReceivedCapability.reject(exception);\n\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.reject(exception);\n    });\n\n    this._requests = [];\n    this._cachedChunks = [];\n  }\n\n  _onProgress(data) {\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: data.loaded,\n        total: data.lengthComputable ? data.total : this._contentLength\n      });\n    }\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get headersReady() {\n    return this._headersReceivedCapability.promise;\n  }\n\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n\n    const requestCapability = (0, _util.createPromiseCapability)();\n\n    this._requests.push(requestCapability);\n\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n\n    this._headersReceivedCapability.reject(reason);\n\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    });\n\n    this._requests = [];\n\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n\n    this._fullRequestReader = null;\n  }\n\n}\n\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n    const args = {\n      onDone: this._onDone.bind(this),\n      onProgress: this._onProgress.bind(this)\n    };\n    this._requestId = manager.requestRange(begin, end, args);\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n\n  _close() {\n    if (this.onClosed) {\n      this.onClosed(this);\n    }\n  }\n\n  _onDone(data) {\n    const chunk = data.chunk;\n\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunk = chunk;\n    }\n\n    this._done = true;\n\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    });\n\n    this._requests = [];\n\n    this._close();\n  }\n\n  _onProgress(evt) {\n    if (!this.isStreamingSupported && this.onProgress) {\n      this.onProgress({\n        loaded: evt.loaded\n      });\n    }\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n\n    const requestCapability = (0, _util.createPromiseCapability)();\n\n    this._requests.push(requestCapability);\n\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    });\n\n    this._requests = [];\n\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n\n    this._close();\n  }\n\n}","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createResponseStatusError = createResponseStatusError;\nexports.extractFilenameFromHeader = extractFilenameFromHeader;\nexports.validateRangeRequestCapabilities = validateRangeRequestCapabilities;\nexports.validateResponseStatus = validateResponseStatus;\n\nvar _util = require(\"../shared/util.js\");\n\nvar _content_disposition = require(\"./content_disposition.js\");\n\nfunction validateRangeRequestCapabilities({\n  getResponseHeader,\n  isHttp,\n  rangeChunkSize,\n  disableRange\n}) {\n  (0, _util.assert)(rangeChunkSize > 0, \"Range chunk size must be larger than zero\");\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined\n  };\n  const length = parseInt(getResponseHeader(\"Content-Length\"), 10);\n\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n\n  returnValues.suggestedLength = length;\n\n  if (length <= 2 * rangeChunkSize) {\n    return returnValues;\n  }\n\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n\n  if (getResponseHeader(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n\n  const contentEncoding = getResponseHeader(\"Content-Encoding\") || \"identity\";\n\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\n\nfunction extractFilenameFromHeader(getResponseHeader) {\n  const contentDisposition = getResponseHeader(\"Content-Disposition\");\n\n  if (contentDisposition) {\n    let filename = (0, _content_disposition.getFilenameFromContentDispositionHeader)(contentDisposition);\n\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch (ex) {}\n    }\n\n    if (/\\.pdf$/i.test(filename)) {\n      return filename;\n    }\n  }\n\n  return null;\n}\n\nfunction createResponseStatusError(status, url) {\n  if (status === 404 || status === 0 && url.startsWith(\"file:\")) {\n    return new _util.MissingPDFException('Missing PDF \"' + url + '\".');\n  }\n\n  return new _util.UnexpectedResponseException(\"Unexpected server response (\" + status + ') while retrieving PDF \"' + url + '\".', status);\n}\n\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFNodeStream = void 0;\n\nvar _util = require(\"../shared/util.js\");\n\nvar _network_utils = require(\"./network_utils.js\");\n\n;\n\nconst fs = require(\"fs\");\n\nconst http = require(\"http\");\n\nconst https = require(\"https\");\n\nconst url = require(\"url\");\n\nconst fileUriRegex = /^file:\\/\\/\\/[a-zA-Z]:\\//;\n\nfunction parseUrl(sourceUrl) {\n  const parsedUrl = url.parse(sourceUrl);\n\n  if (parsedUrl.protocol === \"file:\" || parsedUrl.host) {\n    return parsedUrl;\n  }\n\n  if (/^[a-z]:[/\\\\]/i.test(sourceUrl)) {\n    return url.parse(`file:///${sourceUrl}`);\n  }\n\n  if (!parsedUrl.host) {\n    parsedUrl.protocol = \"file:\";\n  }\n\n  return parsedUrl;\n}\n\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrl(source.url);\n    this.isHttp = this.url.protocol === \"http:\" || this.url.protocol === \"https:\";\n    this.isFsUrl = this.url.protocol === \"file:\";\n    this.httpHeaders = this.isHttp && source.httpHeaders || {};\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  getFullReader() {\n    (0, _util.assert)(!this._fullRequestReader, \"PDFNodeStream.getFullReader can only be called once.\");\n    this._fullRequestReader = this.isFsUrl ? new PDFNodeStreamFsFullReader(this) : new PDFNodeStreamFullReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n\n    const rangeReader = this.isFsUrl ? new PDFNodeStreamFsRangeReader(this, start, end) : new PDFNodeStreamRangeReader(this, start, end);\n\n    this._rangeRequestReaders.push(rangeReader);\n\n    return rangeReader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n\n    const readers = this._rangeRequestReaders.slice(0);\n\n    readers.forEach(function (reader) {\n      reader.cancel(reason);\n    });\n  }\n\n}\n\nexports.PDFNodeStream = PDFNodeStream;\n\nclass BaseFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length;\n    this._loaded = 0;\n    this._filename = null;\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    this._readableStream = null;\n    this._readCapability = (0, _util.createPromiseCapability)();\n    this._headersCapability = (0, _util.createPromiseCapability)();\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n\n    if (chunk === null) {\n      this._readCapability = (0, _util.createPromiseCapability)();\n      return this.read();\n    }\n\n    this._loaded += chunk.length;\n\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded,\n        total: this._contentLength\n      });\n    }\n\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n\n      return;\n    }\n\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new _util.AbortException(\"streaming is disabled\"));\n    }\n\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n\n}\n\nclass BaseRangeReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = (0, _util.createPromiseCapability)();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n\n    if (chunk === null) {\n      this._readCapability = (0, _util.createPromiseCapability)();\n      return this.read();\n    }\n\n    this._loaded += chunk.length;\n\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded\n      });\n    }\n\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n\n      return;\n    }\n\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n\n}\n\nfunction createRequestOptions(parsedUrl, headers) {\n  return {\n    protocol: parsedUrl.protocol,\n    auth: parsedUrl.auth,\n    host: parsedUrl.hostname,\n    port: parsedUrl.port,\n    path: parsedUrl.path,\n    method: \"GET\",\n    headers\n  };\n}\n\nclass PDFNodeStreamFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new _util.MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n\n        this._headersCapability.reject(error);\n\n        return;\n      }\n\n      this._headersCapability.resolve();\n\n      this._setReadableStream(response);\n\n      const getResponseHeader = name => {\n        return this._readableStream.headers[name.toLowerCase()];\n      };\n\n      const {\n        allowRangeRequests,\n        suggestedLength\n      } = (0, _network_utils.validateRangeRequestCapabilities)({\n        getResponseHeader,\n        isHttp: stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange\n      });\n      this._isRangeSupported = allowRangeRequests;\n      this._contentLength = suggestedLength || this._contentLength;\n      this._filename = (0, _network_utils.extractFilenameFromHeader)(getResponseHeader);\n    };\n\n    this._request = null;\n\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(createRequestOptions(this._url, stream.httpHeaders), handleResponse);\n    } else {\n      this._request = https.request(createRequestOptions(this._url, stream.httpHeaders), handleResponse);\n    }\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n\n      this._headersCapability.reject(reason);\n    });\n\n    this._request.end();\n  }\n\n}\n\nclass PDFNodeStreamRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n    this._httpHeaders = {};\n\n    for (const property in stream.httpHeaders) {\n      const value = stream.httpHeaders[property];\n\n      if (typeof value === \"undefined\") {\n        continue;\n      }\n\n      this._httpHeaders[property] = value;\n    }\n\n    this._httpHeaders.Range = `bytes=${start}-${end - 1}`;\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new _util.MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        return;\n      }\n\n      this._setReadableStream(response);\n    };\n\n    this._request = null;\n\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(createRequestOptions(this._url, this._httpHeaders), handleResponse);\n    } else {\n      this._request = https.request(createRequestOptions(this._url, this._httpHeaders), handleResponse);\n    }\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n    });\n\n    this._request.end();\n  }\n\n}\n\nclass PDFNodeStreamFsFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n    let path = decodeURIComponent(this._url.path);\n\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n\n    fs.lstat(path, (error, stat) => {\n      if (error) {\n        if (error.code === \"ENOENT\") {\n          error = new _util.MissingPDFException(`Missing PDF \"${path}\".`);\n        }\n\n        this._storedError = error;\n\n        this._headersCapability.reject(error);\n\n        return;\n      }\n\n      this._contentLength = stat.size;\n\n      this._setReadableStream(fs.createReadStream(path));\n\n      this._headersCapability.resolve();\n    });\n  }\n\n}\n\nclass PDFNodeStreamFsRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n    let path = decodeURIComponent(this._url.path);\n\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n\n    this._setReadableStream(fs.createReadStream(path, {\n      start,\n      end: end - 1\n    }));\n  }\n\n}","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NodeCMapReaderFactory = exports.NodeCanvasFactory = void 0;\n\nvar _display_utils = require(\"./display_utils.js\");\n\nvar _is_node = require(\"../shared/is_node.js\");\n\nvar _util = require(\"../shared/util.js\");\n\nlet NodeCanvasFactory = class {\n  constructor() {\n    (0, _util.unreachable)(\"Not implemented: NodeCanvasFactory\");\n  }\n\n};\nexports.NodeCanvasFactory = NodeCanvasFactory;\nlet NodeCMapReaderFactory = class {\n  constructor() {\n    (0, _util.unreachable)(\"Not implemented: NodeCMapReaderFactory\");\n  }\n\n};\nexports.NodeCMapReaderFactory = NodeCMapReaderFactory;\n\nif (_is_node.isNodeJS) {\n  exports.NodeCanvasFactory = NodeCanvasFactory = class extends _display_utils.BaseCanvasFactory {\n    create(width, height) {\n      if (width <= 0 || height <= 0) {\n        throw new Error(\"Invalid canvas size\");\n      }\n\n      const Canvas = require(\"canvas\");\n\n      const canvas = Canvas.createCanvas(width, height);\n      return {\n        canvas,\n        context: canvas.getContext(\"2d\")\n      };\n    }\n\n  };\n  exports.NodeCMapReaderFactory = NodeCMapReaderFactory = class extends _display_utils.BaseCMapReaderFactory {\n    _fetchData(url, compressionType) {\n      return new Promise((resolve, reject) => {\n        const fs = require(\"fs\");\n\n        fs.readFile(url, (error, data) => {\n          if (error || !data) {\n            reject(new Error(error));\n            return;\n          }\n\n          resolve({\n            cMapData: new Uint8Array(data),\n            compressionType\n          });\n        });\n      });\n    }\n\n  };\n}","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OptionalContentConfig = void 0;\n\nvar _util = require(\"../shared/util.js\");\n\nclass OptionalContentGroup {\n  constructor(name, intent) {\n    this.visible = true;\n    this.name = name;\n    this.intent = intent;\n  }\n\n}\n\nclass OptionalContentConfig {\n  constructor(data) {\n    this.name = null;\n    this.creator = null;\n    this._order = null;\n    this._groups = new Map();\n\n    if (data === null) {\n      return;\n    }\n\n    this.name = data.name;\n    this.creator = data.creator;\n    this._order = data.order;\n\n    for (const group of data.groups) {\n      this._groups.set(group.id, new OptionalContentGroup(group.name, group.intent));\n    }\n\n    if (data.baseState === \"OFF\") {\n      for (const group of this._groups) {\n        group.visible = false;\n      }\n    }\n\n    for (const on of data.on) {\n      this._groups.get(on).visible = true;\n    }\n\n    for (const off of data.off) {\n      this._groups.get(off).visible = false;\n    }\n  }\n\n  isVisible(group) {\n    if (group.type === \"OCG\") {\n      if (!this._groups.has(group.id)) {\n        (0, _util.warn)(`Optional content group not found: ${group.id}`);\n        return true;\n      }\n\n      return this._groups.get(group.id).visible;\n    } else if (group.type === \"OCMD\") {\n      if (group.expression) {\n        (0, _util.warn)(\"Visibility expression not supported yet.\");\n      }\n\n      if (!group.policy || group.policy === \"AnyOn\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            (0, _util.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n\n          if (this._groups.get(id).visible) {\n            return true;\n          }\n        }\n\n        return false;\n      } else if (group.policy === \"AllOn\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            (0, _util.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n\n          if (!this._groups.get(id).visible) {\n            return false;\n          }\n        }\n\n        return true;\n      } else if (group.policy === \"AnyOff\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            (0, _util.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n\n          if (!this._groups.get(id).visible) {\n            return true;\n          }\n        }\n\n        return false;\n      } else if (group.policy === \"AllOff\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            (0, _util.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n\n          if (this._groups.get(id).visible) {\n            return false;\n          }\n        }\n\n        return true;\n      }\n\n      (0, _util.warn)(`Unknown optional content policy ${group.policy}.`);\n      return true;\n    }\n\n    (0, _util.warn)(`Unknown group type ${group.type}.`);\n    return true;\n  }\n\n  setVisibility(id, visible = true) {\n    if (!this._groups.has(id)) {\n      (0, _util.warn)(`Optional content group not found: ${id}`);\n      return;\n    }\n\n    this._groups.get(id).visible = !!visible;\n  }\n\n  getOrder() {\n    if (!this._groups.size) {\n      return null;\n    }\n\n    if (this._order) {\n      return this._order.slice();\n    }\n\n    return Array.from(this._groups.keys());\n  }\n\n  getGroups() {\n    if (!this._groups.size) {\n      return null;\n    }\n\n    return (0, _util.objectFromEntries)(this._groups);\n  }\n\n  getGroup(id) {\n    return this._groups.get(id) || null;\n  }\n\n}\n\nexports.OptionalContentConfig = OptionalContentConfig;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getShadingPatternFromIR = getShadingPatternFromIR;\nexports.TilingPattern = void 0;\n\nvar _util = require(\"../shared/util.js\");\n\nconst ShadingIRs = {};\n\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox || typeof Path2D === \"undefined\") {\n    return;\n  }\n\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\n\nShadingIRs.RadialAxial = {\n  fromIR: function RadialAxial_fromIR(raw) {\n    const type = raw[1];\n    const bbox = raw[2];\n    const colorStops = raw[3];\n    const p0 = raw[4];\n    const p1 = raw[5];\n    const r0 = raw[6];\n    const r1 = raw[7];\n    return {\n      getPattern: function RadialAxial_getPattern(ctx) {\n        applyBoundingBox(ctx, bbox);\n        let grad;\n\n        if (type === \"axial\") {\n          grad = ctx.createLinearGradient(p0[0], p0[1], p1[0], p1[1]);\n        } else if (type === \"radial\") {\n          grad = ctx.createRadialGradient(p0[0], p0[1], r0, p1[0], p1[1], r1);\n        }\n\n        for (let i = 0, ii = colorStops.length; i < ii; ++i) {\n          const c = colorStops[i];\n          grad.addColorStop(c[0], c[1]);\n        }\n\n        return grad;\n      }\n    };\n  }\n};\n\nconst createMeshCanvas = function createMeshCanvasClosure() {\n  function drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n    const coords = context.coords,\n          colors = context.colors;\n    const bytes = data.data,\n          rowSize = data.width * 4;\n    let tmp;\n\n    if (coords[p1 + 1] > coords[p2 + 1]) {\n      tmp = p1;\n      p1 = p2;\n      p2 = tmp;\n      tmp = c1;\n      c1 = c2;\n      c2 = tmp;\n    }\n\n    if (coords[p2 + 1] > coords[p3 + 1]) {\n      tmp = p2;\n      p2 = p3;\n      p3 = tmp;\n      tmp = c2;\n      c2 = c3;\n      c3 = tmp;\n    }\n\n    if (coords[p1 + 1] > coords[p2 + 1]) {\n      tmp = p1;\n      p1 = p2;\n      p2 = tmp;\n      tmp = c1;\n      c1 = c2;\n      c2 = tmp;\n    }\n\n    const x1 = (coords[p1] + context.offsetX) * context.scaleX;\n    const y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n    const x2 = (coords[p2] + context.offsetX) * context.scaleX;\n    const y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n    const x3 = (coords[p3] + context.offsetX) * context.scaleX;\n    const y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n\n    if (y1 >= y3) {\n      return;\n    }\n\n    const c1r = colors[c1],\n          c1g = colors[c1 + 1],\n          c1b = colors[c1 + 2];\n    const c2r = colors[c2],\n          c2g = colors[c2 + 1],\n          c2b = colors[c2 + 2];\n    const c3r = colors[c3],\n          c3g = colors[c3 + 1],\n          c3b = colors[c3 + 2];\n    const minY = Math.round(y1),\n          maxY = Math.round(y3);\n    let xa, car, cag, cab;\n    let xb, cbr, cbg, cbb;\n\n    for (let y = minY; y <= maxY; y++) {\n      if (y < y2) {\n        let k;\n\n        if (y < y1) {\n          k = 0;\n        } else if (y1 === y2) {\n          k = 1;\n        } else {\n          k = (y1 - y) / (y1 - y2);\n        }\n\n        xa = x1 - (x1 - x2) * k;\n        car = c1r - (c1r - c2r) * k;\n        cag = c1g - (c1g - c2g) * k;\n        cab = c1b - (c1b - c2b) * k;\n      } else {\n        let k;\n\n        if (y > y3) {\n          k = 1;\n        } else if (y2 === y3) {\n          k = 0;\n        } else {\n          k = (y2 - y) / (y2 - y3);\n        }\n\n        xa = x2 - (x2 - x3) * k;\n        car = c2r - (c2r - c3r) * k;\n        cag = c2g - (c2g - c3g) * k;\n        cab = c2b - (c2b - c3b) * k;\n      }\n\n      let k;\n\n      if (y < y1) {\n        k = 0;\n      } else if (y > y3) {\n        k = 1;\n      } else {\n        k = (y1 - y) / (y1 - y3);\n      }\n\n      xb = x1 - (x1 - x3) * k;\n      cbr = c1r - (c1r - c3r) * k;\n      cbg = c1g - (c1g - c3g) * k;\n      cbb = c1b - (c1b - c3b) * k;\n      const x1_ = Math.round(Math.min(xa, xb));\n      const x2_ = Math.round(Math.max(xa, xb));\n      let j = rowSize * y + x1_ * 4;\n\n      for (let x = x1_; x <= x2_; x++) {\n        k = (xa - x) / (xa - xb);\n\n        if (k < 0) {\n          k = 0;\n        } else if (k > 1) {\n          k = 1;\n        }\n\n        bytes[j++] = car - (car - cbr) * k | 0;\n        bytes[j++] = cag - (cag - cbg) * k | 0;\n        bytes[j++] = cab - (cab - cbb) * k | 0;\n        bytes[j++] = 255;\n      }\n    }\n  }\n\n  function drawFigure(data, figure, context) {\n    const ps = figure.coords;\n    const cs = figure.colors;\n    let i, ii;\n\n    switch (figure.type) {\n      case \"lattice\":\n        const verticesPerRow = figure.verticesPerRow;\n        const rows = Math.floor(ps.length / verticesPerRow) - 1;\n        const cols = verticesPerRow - 1;\n\n        for (i = 0; i < rows; i++) {\n          let q = i * verticesPerRow;\n\n          for (let j = 0; j < cols; j++, q++) {\n            drawTriangle(data, context, ps[q], ps[q + 1], ps[q + verticesPerRow], cs[q], cs[q + 1], cs[q + verticesPerRow]);\n            drawTriangle(data, context, ps[q + verticesPerRow + 1], ps[q + 1], ps[q + verticesPerRow], cs[q + verticesPerRow + 1], cs[q + 1], cs[q + verticesPerRow]);\n          }\n        }\n\n        break;\n\n      case \"triangles\":\n        for (i = 0, ii = ps.length; i < ii; i += 3) {\n          drawTriangle(data, context, ps[i], ps[i + 1], ps[i + 2], cs[i], cs[i + 1], cs[i + 2]);\n        }\n\n        break;\n\n      default:\n        throw new Error(\"illegal figure\");\n    }\n  }\n\n  function createMeshCanvas(bounds, combinesScale, coords, colors, figures, backgroundColor, cachedCanvases, webGLContext) {\n    const EXPECTED_SCALE = 1.1;\n    const MAX_PATTERN_SIZE = 3000;\n    const BORDER_SIZE = 2;\n    const offsetX = Math.floor(bounds[0]);\n    const offsetY = Math.floor(bounds[1]);\n    const boundsWidth = Math.ceil(bounds[2]) - offsetX;\n    const boundsHeight = Math.ceil(bounds[3]) - offsetY;\n    const width = Math.min(Math.ceil(Math.abs(boundsWidth * combinesScale[0] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const height = Math.min(Math.ceil(Math.abs(boundsHeight * combinesScale[1] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const scaleX = boundsWidth / width;\n    const scaleY = boundsHeight / height;\n    const context = {\n      coords,\n      colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY\n    };\n    const paddedWidth = width + BORDER_SIZE * 2;\n    const paddedHeight = height + BORDER_SIZE * 2;\n    let canvas, tmpCanvas, i, ii;\n\n    if (webGLContext.isEnabled) {\n      canvas = webGLContext.drawFigures({\n        width,\n        height,\n        backgroundColor,\n        figures,\n        context\n      });\n      tmpCanvas = cachedCanvases.getCanvas(\"mesh\", paddedWidth, paddedHeight, false);\n      tmpCanvas.context.drawImage(canvas, BORDER_SIZE, BORDER_SIZE);\n      canvas = tmpCanvas.canvas;\n    } else {\n      tmpCanvas = cachedCanvases.getCanvas(\"mesh\", paddedWidth, paddedHeight, false);\n      const tmpCtx = tmpCanvas.context;\n      const data = tmpCtx.createImageData(width, height);\n\n      if (backgroundColor) {\n        const bytes = data.data;\n\n        for (i = 0, ii = bytes.length; i < ii; i += 4) {\n          bytes[i] = backgroundColor[0];\n          bytes[i + 1] = backgroundColor[1];\n          bytes[i + 2] = backgroundColor[2];\n          bytes[i + 3] = 255;\n        }\n      }\n\n      for (i = 0; i < figures.length; i++) {\n        drawFigure(data, figures[i], context);\n      }\n\n      tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n      canvas = tmpCanvas.canvas;\n    }\n\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY\n    };\n  }\n\n  return createMeshCanvas;\n}();\n\nShadingIRs.Mesh = {\n  fromIR: function Mesh_fromIR(raw) {\n    const coords = raw[2];\n    const colors = raw[3];\n    const figures = raw[4];\n    const bounds = raw[5];\n    const matrix = raw[6];\n    const bbox = raw[7];\n    const background = raw[8];\n    return {\n      getPattern: function Mesh_getPattern(ctx, owner, shadingFill) {\n        applyBoundingBox(ctx, bbox);\n        let scale;\n\n        if (shadingFill) {\n          scale = _util.Util.singularValueDecompose2dScale(ctx.mozCurrentTransform);\n        } else {\n          scale = _util.Util.singularValueDecompose2dScale(owner.baseTransform);\n\n          if (matrix) {\n            const matrixScale = _util.Util.singularValueDecompose2dScale(matrix);\n\n            scale = [scale[0] * matrixScale[0], scale[1] * matrixScale[1]];\n          }\n        }\n\n        const temporaryPatternCanvas = createMeshCanvas(bounds, scale, coords, colors, figures, shadingFill ? null : background, owner.cachedCanvases, owner.webGLContext);\n\n        if (!shadingFill) {\n          ctx.setTransform.apply(ctx, owner.baseTransform);\n\n          if (matrix) {\n            ctx.transform.apply(ctx, matrix);\n          }\n        }\n\n        ctx.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n        ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n        return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n      }\n    };\n  }\n};\nShadingIRs.Dummy = {\n  fromIR: function Dummy_fromIR() {\n    return {\n      getPattern: function Dummy_fromIR_getPattern() {\n        return \"hotpink\";\n      }\n    };\n  }\n};\n\nfunction getShadingPatternFromIR(raw) {\n  const shadingIR = ShadingIRs[raw[0]];\n\n  if (!shadingIR) {\n    throw new Error(`Unknown IR type: ${raw[0]}`);\n  }\n\n  return shadingIR.fromIR(raw);\n}\n\nconst TilingPattern = function TilingPatternClosure() {\n  const PaintType = {\n    COLORED: 1,\n    UNCOLORED: 2\n  };\n  const MAX_PATTERN_SIZE = 3000;\n\n  function TilingPattern(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n    this.ctx = ctx;\n  }\n\n  TilingPattern.prototype = {\n    createPatternCanvas: function TilinPattern_createPatternCanvas(owner) {\n      const operatorList = this.operatorList;\n      const bbox = this.bbox;\n      const xstep = this.xstep;\n      const ystep = this.ystep;\n      const paintType = this.paintType;\n      const tilingType = this.tilingType;\n      const color = this.color;\n      const canvasGraphicsFactory = this.canvasGraphicsFactory;\n      (0, _util.info)(\"TilingType: \" + tilingType);\n      const x0 = bbox[0],\n            y0 = bbox[1],\n            x1 = bbox[2],\n            y1 = bbox[3];\n\n      const matrixScale = _util.Util.singularValueDecompose2dScale(this.matrix);\n\n      const curMatrixScale = _util.Util.singularValueDecompose2dScale(this.baseTransform);\n\n      const combinedScale = [matrixScale[0] * curMatrixScale[0], matrixScale[1] * curMatrixScale[1]];\n      const dimx = this.getSizeAndScale(xstep, this.ctx.canvas.width, combinedScale[0]);\n      const dimy = this.getSizeAndScale(ystep, this.ctx.canvas.height, combinedScale[1]);\n      const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", dimx.size, dimy.size, true);\n      const tmpCtx = tmpCanvas.context;\n      const graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n      graphics.groupLevel = owner.groupLevel;\n      this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n      graphics.transform(dimx.scale, 0, 0, dimy.scale, 0, 0);\n      graphics.transform(1, 0, 0, 1, -x0, -y0);\n      this.clipBbox(graphics, bbox, x0, y0, x1, y1);\n      graphics.executeOperatorList(operatorList);\n      this.ctx.transform(1, 0, 0, 1, x0, y0);\n      this.ctx.scale(1 / dimx.scale, 1 / dimy.scale);\n      return tmpCanvas.canvas;\n    },\n    getSizeAndScale: function TilingPattern_getSizeAndScale(step, realOutputSize, scale) {\n      step = Math.abs(step);\n      const maxSize = Math.max(MAX_PATTERN_SIZE, realOutputSize);\n      let size = Math.ceil(step * scale);\n\n      if (size >= maxSize) {\n        size = maxSize;\n      } else {\n        scale = size / step;\n      }\n\n      return {\n        scale,\n        size\n      };\n    },\n    clipBbox: function clipBbox(graphics, bbox, x0, y0, x1, y1) {\n      if (Array.isArray(bbox) && bbox.length === 4) {\n        const bboxWidth = x1 - x0;\n        const bboxHeight = y1 - y0;\n        graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n        graphics.clip();\n        graphics.endPath();\n      }\n    },\n    setFillAndStrokeStyleToContext: function setFillAndStrokeStyleToContext(graphics, paintType, color) {\n      const context = graphics.ctx,\n            current = graphics.current;\n\n      switch (paintType) {\n        case PaintType.COLORED:\n          const ctx = this.ctx;\n          context.fillStyle = ctx.fillStyle;\n          context.strokeStyle = ctx.strokeStyle;\n          current.fillColor = ctx.fillStyle;\n          current.strokeColor = ctx.strokeStyle;\n          break;\n\n        case PaintType.UNCOLORED:\n          const cssColor = _util.Util.makeHexColor(color[0], color[1], color[2]);\n\n          context.fillStyle = cssColor;\n          context.strokeStyle = cssColor;\n          current.fillColor = cssColor;\n          current.strokeColor = cssColor;\n          break;\n\n        default:\n          throw new _util.FormatError(`Unsupported paint type: ${paintType}`);\n      }\n    },\n    getPattern: function TilingPattern_getPattern(ctx, owner) {\n      ctx = this.ctx;\n      ctx.setTransform.apply(ctx, this.baseTransform);\n      ctx.transform.apply(ctx, this.matrix);\n      const temporaryPatternCanvas = this.createPatternCanvas(owner);\n      return ctx.createPattern(temporaryPatternCanvas, \"repeat\");\n    }\n  };\n  return TilingPattern;\n}();\n\nexports.TilingPattern = TilingPattern;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SVGGraphics = void 0;\n\nvar _util = require(\"../shared/util.js\");\n\nvar _display_utils = require(\"./display_utils.js\");\n\nvar _is_node = require(\"../shared/is_node.js\");\n\nlet SVGGraphics = function () {\n  throw new Error(\"Not implemented: SVGGraphics\");\n};\n\nexports.SVGGraphics = SVGGraphics;\n{\n  const SVG_DEFAULTS = {\n    fontStyle: \"normal\",\n    fontWeight: \"normal\",\n    fillColor: \"#000000\"\n  };\n  const XML_NS = \"http://www.w3.org/XML/1998/namespace\";\n  const XLINK_NS = \"http://www.w3.org/1999/xlink\";\n  const LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\n  const LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\n\n  const convertImgDataToPng = function () {\n    const PNG_HEADER = new Uint8Array([0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a]);\n    const CHUNK_WRAPPER_SIZE = 12;\n    const crcTable = new Int32Array(256);\n\n    for (let i = 0; i < 256; i++) {\n      let c = i;\n\n      for (let h = 0; h < 8; h++) {\n        if (c & 1) {\n          c = 0xedb88320 ^ c >> 1 & 0x7fffffff;\n        } else {\n          c = c >> 1 & 0x7fffffff;\n        }\n      }\n\n      crcTable[i] = c;\n    }\n\n    function crc32(data, start, end) {\n      let crc = -1;\n\n      for (let i = start; i < end; i++) {\n        const a = (crc ^ data[i]) & 0xff;\n        const b = crcTable[a];\n        crc = crc >>> 8 ^ b;\n      }\n\n      return crc ^ -1;\n    }\n\n    function writePngChunk(type, body, data, offset) {\n      let p = offset;\n      const len = body.length;\n      data[p] = len >> 24 & 0xff;\n      data[p + 1] = len >> 16 & 0xff;\n      data[p + 2] = len >> 8 & 0xff;\n      data[p + 3] = len & 0xff;\n      p += 4;\n      data[p] = type.charCodeAt(0) & 0xff;\n      data[p + 1] = type.charCodeAt(1) & 0xff;\n      data[p + 2] = type.charCodeAt(2) & 0xff;\n      data[p + 3] = type.charCodeAt(3) & 0xff;\n      p += 4;\n      data.set(body, p);\n      p += body.length;\n      const crc = crc32(data, offset + 4, p);\n      data[p] = crc >> 24 & 0xff;\n      data[p + 1] = crc >> 16 & 0xff;\n      data[p + 2] = crc >> 8 & 0xff;\n      data[p + 3] = crc & 0xff;\n    }\n\n    function adler32(data, start, end) {\n      let a = 1;\n      let b = 0;\n\n      for (let i = start; i < end; ++i) {\n        a = (a + (data[i] & 0xff)) % 65521;\n        b = (b + a) % 65521;\n      }\n\n      return b << 16 | a;\n    }\n\n    function deflateSync(literals) {\n      if (!_is_node.isNodeJS) {\n        return deflateSyncUncompressed(literals);\n      }\n\n      try {\n        let input;\n\n        if (parseInt(process.versions.node) >= 8) {\n          input = literals;\n        } else {\n          input = Buffer.from(literals);\n        }\n\n        const output = require(\"zlib\").deflateSync(input, {\n          level: 9\n        });\n\n        return output instanceof Uint8Array ? output : new Uint8Array(output);\n      } catch (e) {\n        (0, _util.warn)(\"Not compressing PNG because zlib.deflateSync is unavailable: \" + e);\n      }\n\n      return deflateSyncUncompressed(literals);\n    }\n\n    function deflateSyncUncompressed(literals) {\n      let len = literals.length;\n      const maxBlockLength = 0xffff;\n      const deflateBlocks = Math.ceil(len / maxBlockLength);\n      const idat = new Uint8Array(2 + len + deflateBlocks * 5 + 4);\n      let pi = 0;\n      idat[pi++] = 0x78;\n      idat[pi++] = 0x9c;\n      let pos = 0;\n\n      while (len > maxBlockLength) {\n        idat[pi++] = 0x00;\n        idat[pi++] = 0xff;\n        idat[pi++] = 0xff;\n        idat[pi++] = 0x00;\n        idat[pi++] = 0x00;\n        idat.set(literals.subarray(pos, pos + maxBlockLength), pi);\n        pi += maxBlockLength;\n        pos += maxBlockLength;\n        len -= maxBlockLength;\n      }\n\n      idat[pi++] = 0x01;\n      idat[pi++] = len & 0xff;\n      idat[pi++] = len >> 8 & 0xff;\n      idat[pi++] = ~len & 0xffff & 0xff;\n      idat[pi++] = (~len & 0xffff) >> 8 & 0xff;\n      idat.set(literals.subarray(pos), pi);\n      pi += literals.length - pos;\n      const adler = adler32(literals, 0, literals.length);\n      idat[pi++] = adler >> 24 & 0xff;\n      idat[pi++] = adler >> 16 & 0xff;\n      idat[pi++] = adler >> 8 & 0xff;\n      idat[pi++] = adler & 0xff;\n      return idat;\n    }\n\n    function encode(imgData, kind, forceDataSchema, isMask) {\n      const width = imgData.width;\n      const height = imgData.height;\n      let bitDepth, colorType, lineSize;\n      const bytes = imgData.data;\n\n      switch (kind) {\n        case _util.ImageKind.GRAYSCALE_1BPP:\n          colorType = 0;\n          bitDepth = 1;\n          lineSize = width + 7 >> 3;\n          break;\n\n        case _util.ImageKind.RGB_24BPP:\n          colorType = 2;\n          bitDepth = 8;\n          lineSize = width * 3;\n          break;\n\n        case _util.ImageKind.RGBA_32BPP:\n          colorType = 6;\n          bitDepth = 8;\n          lineSize = width * 4;\n          break;\n\n        default:\n          throw new Error(\"invalid format\");\n      }\n\n      const literals = new Uint8Array((1 + lineSize) * height);\n      let offsetLiterals = 0,\n          offsetBytes = 0;\n\n      for (let y = 0; y < height; ++y) {\n        literals[offsetLiterals++] = 0;\n        literals.set(bytes.subarray(offsetBytes, offsetBytes + lineSize), offsetLiterals);\n        offsetBytes += lineSize;\n        offsetLiterals += lineSize;\n      }\n\n      if (kind === _util.ImageKind.GRAYSCALE_1BPP && isMask) {\n        offsetLiterals = 0;\n\n        for (let y = 0; y < height; y++) {\n          offsetLiterals++;\n\n          for (let i = 0; i < lineSize; i++) {\n            literals[offsetLiterals++] ^= 0xff;\n          }\n        }\n      }\n\n      const ihdr = new Uint8Array([width >> 24 & 0xff, width >> 16 & 0xff, width >> 8 & 0xff, width & 0xff, height >> 24 & 0xff, height >> 16 & 0xff, height >> 8 & 0xff, height & 0xff, bitDepth, colorType, 0x00, 0x00, 0x00]);\n      const idat = deflateSync(literals);\n      const pngLength = PNG_HEADER.length + CHUNK_WRAPPER_SIZE * 3 + ihdr.length + idat.length;\n      const data = new Uint8Array(pngLength);\n      let offset = 0;\n      data.set(PNG_HEADER, offset);\n      offset += PNG_HEADER.length;\n      writePngChunk(\"IHDR\", ihdr, data, offset);\n      offset += CHUNK_WRAPPER_SIZE + ihdr.length;\n      writePngChunk(\"IDATA\", idat, data, offset);\n      offset += CHUNK_WRAPPER_SIZE + idat.length;\n      writePngChunk(\"IEND\", new Uint8Array(0), data, offset);\n      return (0, _util.createObjectURL)(data, \"image/png\", forceDataSchema);\n    }\n\n    return function convertImgDataToPng(imgData, forceDataSchema, isMask) {\n      const kind = imgData.kind === undefined ? _util.ImageKind.GRAYSCALE_1BPP : imgData.kind;\n      return encode(imgData, kind, forceDataSchema, isMask);\n    };\n  }();\n\n  class SVGExtraState {\n    constructor() {\n      this.fontSizeScale = 1;\n      this.fontWeight = SVG_DEFAULTS.fontWeight;\n      this.fontSize = 0;\n      this.textMatrix = _util.IDENTITY_MATRIX;\n      this.fontMatrix = _util.FONT_IDENTITY_MATRIX;\n      this.leading = 0;\n      this.textRenderingMode = _util.TextRenderingMode.FILL;\n      this.textMatrixScale = 1;\n      this.x = 0;\n      this.y = 0;\n      this.lineX = 0;\n      this.lineY = 0;\n      this.charSpacing = 0;\n      this.wordSpacing = 0;\n      this.textHScale = 1;\n      this.textRise = 0;\n      this.fillColor = SVG_DEFAULTS.fillColor;\n      this.strokeColor = \"#000000\";\n      this.fillAlpha = 1;\n      this.strokeAlpha = 1;\n      this.lineWidth = 1;\n      this.lineJoin = \"\";\n      this.lineCap = \"\";\n      this.miterLimit = 0;\n      this.dashArray = [];\n      this.dashPhase = 0;\n      this.dependencies = [];\n      this.activeClipUrl = null;\n      this.clipGroup = null;\n      this.maskId = \"\";\n    }\n\n    clone() {\n      return Object.create(this);\n    }\n\n    setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    }\n\n  }\n\n  function opListToTree(opList) {\n    let opTree = [];\n    const tmp = [];\n\n    for (const opListElement of opList) {\n      if (opListElement.fn === \"save\") {\n        opTree.push({\n          fnId: 92,\n          fn: \"group\",\n          items: []\n        });\n        tmp.push(opTree);\n        opTree = opTree[opTree.length - 1].items;\n        continue;\n      }\n\n      if (opListElement.fn === \"restore\") {\n        opTree = tmp.pop();\n      } else {\n        opTree.push(opListElement);\n      }\n    }\n\n    return opTree;\n  }\n\n  function pf(value) {\n    if (Number.isInteger(value)) {\n      return value.toString();\n    }\n\n    const s = value.toFixed(10);\n    let i = s.length - 1;\n\n    if (s[i] !== \"0\") {\n      return s;\n    }\n\n    do {\n      i--;\n    } while (s[i] === \"0\");\n\n    return s.substring(0, s[i] === \".\" ? i : i + 1);\n  }\n\n  function pm(m) {\n    if (m[4] === 0 && m[5] === 0) {\n      if (m[1] === 0 && m[2] === 0) {\n        if (m[0] === 1 && m[3] === 1) {\n          return \"\";\n        }\n\n        return `scale(${pf(m[0])} ${pf(m[3])})`;\n      }\n\n      if (m[0] === m[3] && m[1] === -m[2]) {\n        const a = Math.acos(m[0]) * 180 / Math.PI;\n        return `rotate(${pf(a)})`;\n      }\n    } else {\n      if (m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1) {\n        return `translate(${pf(m[4])} ${pf(m[5])})`;\n      }\n    }\n\n    return `matrix(${pf(m[0])} ${pf(m[1])} ${pf(m[2])} ${pf(m[3])} ${pf(m[4])} ` + `${pf(m[5])})`;\n  }\n\n  let clipCount = 0;\n  let maskCount = 0;\n  let shadingCount = 0;\n  exports.SVGGraphics = SVGGraphics = class SVGGraphics {\n    constructor(commonObjs, objs, forceDataSchema = false) {\n      this.svgFactory = new _display_utils.DOMSVGFactory();\n      this.current = new SVGExtraState();\n      this.transformMatrix = _util.IDENTITY_MATRIX;\n      this.transformStack = [];\n      this.extraStack = [];\n      this.commonObjs = commonObjs;\n      this.objs = objs;\n      this.pendingClip = null;\n      this.pendingEOFill = false;\n      this.embedFonts = false;\n      this.embeddedFonts = Object.create(null);\n      this.cssStyle = null;\n      this.forceDataSchema = !!forceDataSchema;\n      this._operatorIdMapping = [];\n\n      for (const op in _util.OPS) {\n        this._operatorIdMapping[_util.OPS[op]] = op;\n      }\n    }\n\n    save() {\n      this.transformStack.push(this.transformMatrix);\n      const old = this.current;\n      this.extraStack.push(old);\n      this.current = old.clone();\n    }\n\n    restore() {\n      this.transformMatrix = this.transformStack.pop();\n      this.current = this.extraStack.pop();\n      this.pendingClip = null;\n      this.tgrp = null;\n    }\n\n    group(items) {\n      this.save();\n      this.executeOpTree(items);\n      this.restore();\n    }\n\n    loadDependencies(operatorList) {\n      const fnArray = operatorList.fnArray;\n      const argsArray = operatorList.argsArray;\n\n      for (let i = 0, ii = fnArray.length; i < ii; i++) {\n        if (fnArray[i] !== _util.OPS.dependency) {\n          continue;\n        }\n\n        for (const obj of argsArray[i]) {\n          const objsPool = obj.startsWith(\"g_\") ? this.commonObjs : this.objs;\n          const promise = new Promise(resolve => {\n            objsPool.get(obj, resolve);\n          });\n          this.current.dependencies.push(promise);\n        }\n      }\n\n      return Promise.all(this.current.dependencies);\n    }\n\n    transform(a, b, c, d, e, f) {\n      const transformMatrix = [a, b, c, d, e, f];\n      this.transformMatrix = _util.Util.transform(this.transformMatrix, transformMatrix);\n      this.tgrp = null;\n    }\n\n    getSVG(operatorList, viewport) {\n      this.viewport = viewport;\n\n      const svgElement = this._initialize(viewport);\n\n      return this.loadDependencies(operatorList).then(() => {\n        this.transformMatrix = _util.IDENTITY_MATRIX;\n        this.executeOpTree(this.convertOpList(operatorList));\n        return svgElement;\n      });\n    }\n\n    convertOpList(operatorList) {\n      const operatorIdMapping = this._operatorIdMapping;\n      const argsArray = operatorList.argsArray;\n      const fnArray = operatorList.fnArray;\n      const opList = [];\n\n      for (let i = 0, ii = fnArray.length; i < ii; i++) {\n        const fnId = fnArray[i];\n        opList.push({\n          fnId,\n          fn: operatorIdMapping[fnId],\n          args: argsArray[i]\n        });\n      }\n\n      return opListToTree(opList);\n    }\n\n    executeOpTree(opTree) {\n      for (const opTreeElement of opTree) {\n        const fn = opTreeElement.fn;\n        const fnId = opTreeElement.fnId;\n        const args = opTreeElement.args;\n\n        switch (fnId | 0) {\n          case _util.OPS.beginText:\n            this.beginText();\n            break;\n\n          case _util.OPS.dependency:\n            break;\n\n          case _util.OPS.setLeading:\n            this.setLeading(args);\n            break;\n\n          case _util.OPS.setLeadingMoveText:\n            this.setLeadingMoveText(args[0], args[1]);\n            break;\n\n          case _util.OPS.setFont:\n            this.setFont(args);\n            break;\n\n          case _util.OPS.showText:\n            this.showText(args[0]);\n            break;\n\n          case _util.OPS.showSpacedText:\n            this.showText(args[0]);\n            break;\n\n          case _util.OPS.endText:\n            this.endText();\n            break;\n\n          case _util.OPS.moveText:\n            this.moveText(args[0], args[1]);\n            break;\n\n          case _util.OPS.setCharSpacing:\n            this.setCharSpacing(args[0]);\n            break;\n\n          case _util.OPS.setWordSpacing:\n            this.setWordSpacing(args[0]);\n            break;\n\n          case _util.OPS.setHScale:\n            this.setHScale(args[0]);\n            break;\n\n          case _util.OPS.setTextMatrix:\n            this.setTextMatrix(args[0], args[1], args[2], args[3], args[4], args[5]);\n            break;\n\n          case _util.OPS.setTextRise:\n            this.setTextRise(args[0]);\n            break;\n\n          case _util.OPS.setTextRenderingMode:\n            this.setTextRenderingMode(args[0]);\n            break;\n\n          case _util.OPS.setLineWidth:\n            this.setLineWidth(args[0]);\n            break;\n\n          case _util.OPS.setLineJoin:\n            this.setLineJoin(args[0]);\n            break;\n\n          case _util.OPS.setLineCap:\n            this.setLineCap(args[0]);\n            break;\n\n          case _util.OPS.setMiterLimit:\n            this.setMiterLimit(args[0]);\n            break;\n\n          case _util.OPS.setFillRGBColor:\n            this.setFillRGBColor(args[0], args[1], args[2]);\n            break;\n\n          case _util.OPS.setStrokeRGBColor:\n            this.setStrokeRGBColor(args[0], args[1], args[2]);\n            break;\n\n          case _util.OPS.setStrokeColorN:\n            this.setStrokeColorN(args);\n            break;\n\n          case _util.OPS.setFillColorN:\n            this.setFillColorN(args);\n            break;\n\n          case _util.OPS.shadingFill:\n            this.shadingFill(args[0]);\n            break;\n\n          case _util.OPS.setDash:\n            this.setDash(args[0], args[1]);\n            break;\n\n          case _util.OPS.setRenderingIntent:\n            this.setRenderingIntent(args[0]);\n            break;\n\n          case _util.OPS.setFlatness:\n            this.setFlatness(args[0]);\n            break;\n\n          case _util.OPS.setGState:\n            this.setGState(args[0]);\n            break;\n\n          case _util.OPS.fill:\n            this.fill();\n            break;\n\n          case _util.OPS.eoFill:\n            this.eoFill();\n            break;\n\n          case _util.OPS.stroke:\n            this.stroke();\n            break;\n\n          case _util.OPS.fillStroke:\n            this.fillStroke();\n            break;\n\n          case _util.OPS.eoFillStroke:\n            this.eoFillStroke();\n            break;\n\n          case _util.OPS.clip:\n            this.clip(\"nonzero\");\n            break;\n\n          case _util.OPS.eoClip:\n            this.clip(\"evenodd\");\n            break;\n\n          case _util.OPS.paintSolidColorImageMask:\n            this.paintSolidColorImageMask();\n            break;\n\n          case _util.OPS.paintImageXObject:\n            this.paintImageXObject(args[0]);\n            break;\n\n          case _util.OPS.paintInlineImageXObject:\n            this.paintInlineImageXObject(args[0]);\n            break;\n\n          case _util.OPS.paintImageMaskXObject:\n            this.paintImageMaskXObject(args[0]);\n            break;\n\n          case _util.OPS.paintFormXObjectBegin:\n            this.paintFormXObjectBegin(args[0], args[1]);\n            break;\n\n          case _util.OPS.paintFormXObjectEnd:\n            this.paintFormXObjectEnd();\n            break;\n\n          case _util.OPS.closePath:\n            this.closePath();\n            break;\n\n          case _util.OPS.closeStroke:\n            this.closeStroke();\n            break;\n\n          case _util.OPS.closeFillStroke:\n            this.closeFillStroke();\n            break;\n\n          case _util.OPS.closeEOFillStroke:\n            this.closeEOFillStroke();\n            break;\n\n          case _util.OPS.nextLine:\n            this.nextLine();\n            break;\n\n          case _util.OPS.transform:\n            this.transform(args[0], args[1], args[2], args[3], args[4], args[5]);\n            break;\n\n          case _util.OPS.constructPath:\n            this.constructPath(args[0], args[1]);\n            break;\n\n          case _util.OPS.endPath:\n            this.endPath();\n            break;\n\n          case 92:\n            this.group(opTreeElement.items);\n            break;\n\n          default:\n            (0, _util.warn)(`Unimplemented operator ${fn}`);\n            break;\n        }\n      }\n    }\n\n    setWordSpacing(wordSpacing) {\n      this.current.wordSpacing = wordSpacing;\n    }\n\n    setCharSpacing(charSpacing) {\n      this.current.charSpacing = charSpacing;\n    }\n\n    nextLine() {\n      this.moveText(0, this.current.leading);\n    }\n\n    setTextMatrix(a, b, c, d, e, f) {\n      const current = this.current;\n      current.textMatrix = current.lineMatrix = [a, b, c, d, e, f];\n      current.textMatrixScale = Math.sqrt(a * a + b * b);\n      current.x = current.lineX = 0;\n      current.y = current.lineY = 0;\n      current.xcoords = [];\n      current.ycoords = [];\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(null, \"font-size\", `${pf(current.fontSize)}px`);\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n      current.txtElement = this.svgFactory.createElement(\"svg:text\");\n      current.txtElement.appendChild(current.tspan);\n    }\n\n    beginText() {\n      const current = this.current;\n      current.x = current.lineX = 0;\n      current.y = current.lineY = 0;\n      current.textMatrix = _util.IDENTITY_MATRIX;\n      current.lineMatrix = _util.IDENTITY_MATRIX;\n      current.textMatrixScale = 1;\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.txtElement = this.svgFactory.createElement(\"svg:text\");\n      current.txtgrp = this.svgFactory.createElement(\"svg:g\");\n      current.xcoords = [];\n      current.ycoords = [];\n    }\n\n    moveText(x, y) {\n      const current = this.current;\n      current.x = current.lineX += x;\n      current.y = current.lineY += y;\n      current.xcoords = [];\n      current.ycoords = [];\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(null, \"font-size\", `${pf(current.fontSize)}px`);\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n    }\n\n    showText(glyphs) {\n      const current = this.current;\n      const font = current.font;\n      const fontSize = current.fontSize;\n\n      if (fontSize === 0) {\n        return;\n      }\n\n      const fontSizeScale = current.fontSizeScale;\n      const charSpacing = current.charSpacing;\n      const wordSpacing = current.wordSpacing;\n      const fontDirection = current.fontDirection;\n      const textHScale = current.textHScale * fontDirection;\n      const vertical = font.vertical;\n      const spacingDir = vertical ? 1 : -1;\n      const defaultVMetrics = font.defaultVMetrics;\n      const widthAdvanceScale = fontSize * current.fontMatrix[0];\n      let x = 0;\n\n      for (const glyph of glyphs) {\n        if (glyph === null) {\n          x += fontDirection * wordSpacing;\n          continue;\n        } else if ((0, _util.isNum)(glyph)) {\n          x += spacingDir * glyph * fontSize / 1000;\n          continue;\n        }\n\n        const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        const character = glyph.fontChar;\n        let scaledX, scaledY;\n        let width = glyph.width;\n\n        if (vertical) {\n          let vx;\n          const vmetric = glyph.vmetric || defaultVMetrics;\n          vx = glyph.vmetric ? vmetric[1] : width * 0.5;\n          vx = -vx * widthAdvanceScale;\n          const vy = vmetric[2] * widthAdvanceScale;\n          width = vmetric ? -vmetric[0] : width;\n          scaledX = vx / fontSizeScale;\n          scaledY = (x + vy) / fontSizeScale;\n        } else {\n          scaledX = x / fontSizeScale;\n          scaledY = 0;\n        }\n\n        if (glyph.isInFont || font.missingFile) {\n          current.xcoords.push(current.x + scaledX);\n\n          if (vertical) {\n            current.ycoords.push(-current.y + scaledY);\n          }\n\n          current.tspan.textContent += character;\n        } else {}\n\n        let charWidth;\n\n        if (vertical) {\n          charWidth = width * widthAdvanceScale - spacing * fontDirection;\n        } else {\n          charWidth = width * widthAdvanceScale + spacing * fontDirection;\n        }\n\n        x += charWidth;\n      }\n\n      current.tspan.setAttributeNS(null, \"x\", current.xcoords.map(pf).join(\" \"));\n\n      if (vertical) {\n        current.tspan.setAttributeNS(null, \"y\", current.ycoords.map(pf).join(\" \"));\n      } else {\n        current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n      }\n\n      if (vertical) {\n        current.y -= x;\n      } else {\n        current.x += x * textHScale;\n      }\n\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(null, \"font-size\", `${pf(current.fontSize)}px`);\n\n      if (current.fontStyle !== SVG_DEFAULTS.fontStyle) {\n        current.tspan.setAttributeNS(null, \"font-style\", current.fontStyle);\n      }\n\n      if (current.fontWeight !== SVG_DEFAULTS.fontWeight) {\n        current.tspan.setAttributeNS(null, \"font-weight\", current.fontWeight);\n      }\n\n      const fillStrokeMode = current.textRenderingMode & _util.TextRenderingMode.FILL_STROKE_MASK;\n\n      if (fillStrokeMode === _util.TextRenderingMode.FILL || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n        if (current.fillColor !== SVG_DEFAULTS.fillColor) {\n          current.tspan.setAttributeNS(null, \"fill\", current.fillColor);\n        }\n\n        if (current.fillAlpha < 1) {\n          current.tspan.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n        }\n      } else if (current.textRenderingMode === _util.TextRenderingMode.ADD_TO_PATH) {\n        current.tspan.setAttributeNS(null, \"fill\", \"transparent\");\n      } else {\n        current.tspan.setAttributeNS(null, \"fill\", \"none\");\n      }\n\n      if (fillStrokeMode === _util.TextRenderingMode.STROKE || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n        const lineWidthScale = 1 / (current.textMatrixScale || 1);\n\n        this._setStrokeAttributes(current.tspan, lineWidthScale);\n      }\n\n      let textMatrix = current.textMatrix;\n\n      if (current.textRise !== 0) {\n        textMatrix = textMatrix.slice();\n        textMatrix[5] += current.textRise;\n      }\n\n      current.txtElement.setAttributeNS(null, \"transform\", `${pm(textMatrix)} scale(${pf(textHScale)}, -1)`);\n      current.txtElement.setAttributeNS(XML_NS, \"xml:space\", \"preserve\");\n      current.txtElement.appendChild(current.tspan);\n      current.txtgrp.appendChild(current.txtElement);\n\n      this._ensureTransformGroup().appendChild(current.txtElement);\n    }\n\n    setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    }\n\n    addFontStyle(fontObj) {\n      if (!fontObj.data) {\n        throw new Error(\"addFontStyle: No font data available, \" + 'ensure that the \"fontExtraProperties\" API parameter is set.');\n      }\n\n      if (!this.cssStyle) {\n        this.cssStyle = this.svgFactory.createElement(\"svg:style\");\n        this.cssStyle.setAttributeNS(null, \"type\", \"text/css\");\n        this.defs.appendChild(this.cssStyle);\n      }\n\n      const url = (0, _util.createObjectURL)(fontObj.data, fontObj.mimetype, this.forceDataSchema);\n      this.cssStyle.textContent += `@font-face { font-family: \"${fontObj.loadedName}\";` + ` src: url(${url}); }\\n`;\n    }\n\n    setFont(details) {\n      const current = this.current;\n      const fontObj = this.commonObjs.get(details[0]);\n      let size = details[1];\n      current.font = fontObj;\n\n      if (this.embedFonts && !fontObj.missingFile && !this.embeddedFonts[fontObj.loadedName]) {\n        this.addFontStyle(fontObj);\n        this.embeddedFonts[fontObj.loadedName] = fontObj;\n      }\n\n      current.fontMatrix = fontObj.fontMatrix || _util.FONT_IDENTITY_MATRIX;\n      let bold = \"normal\";\n\n      if (fontObj.black) {\n        bold = \"900\";\n      } else if (fontObj.bold) {\n        bold = \"bold\";\n      }\n\n      const italic = fontObj.italic ? \"italic\" : \"normal\";\n\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n\n      current.fontSize = size;\n      current.fontFamily = fontObj.loadedName;\n      current.fontWeight = bold;\n      current.fontStyle = italic;\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n      current.xcoords = [];\n      current.ycoords = [];\n    }\n\n    endText() {\n      const current = this.current;\n\n      if (current.textRenderingMode & _util.TextRenderingMode.ADD_TO_PATH_FLAG && current.txtElement?.hasChildNodes()) {\n        current.element = current.txtElement;\n        this.clip(\"nonzero\");\n        this.endPath();\n      }\n    }\n\n    setLineWidth(width) {\n      if (width > 0) {\n        this.current.lineWidth = width;\n      }\n    }\n\n    setLineCap(style) {\n      this.current.lineCap = LINE_CAP_STYLES[style];\n    }\n\n    setLineJoin(style) {\n      this.current.lineJoin = LINE_JOIN_STYLES[style];\n    }\n\n    setMiterLimit(limit) {\n      this.current.miterLimit = limit;\n    }\n\n    setStrokeAlpha(strokeAlpha) {\n      this.current.strokeAlpha = strokeAlpha;\n    }\n\n    setStrokeRGBColor(r, g, b) {\n      this.current.strokeColor = _util.Util.makeHexColor(r, g, b);\n    }\n\n    setFillAlpha(fillAlpha) {\n      this.current.fillAlpha = fillAlpha;\n    }\n\n    setFillRGBColor(r, g, b) {\n      this.current.fillColor = _util.Util.makeHexColor(r, g, b);\n      this.current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      this.current.xcoords = [];\n      this.current.ycoords = [];\n    }\n\n    setStrokeColorN(args) {\n      this.current.strokeColor = this._makeColorN_Pattern(args);\n    }\n\n    setFillColorN(args) {\n      this.current.fillColor = this._makeColorN_Pattern(args);\n    }\n\n    shadingFill(args) {\n      const width = this.viewport.width;\n      const height = this.viewport.height;\n\n      const inv = _util.Util.inverseTransform(this.transformMatrix);\n\n      const bl = _util.Util.applyTransform([0, 0], inv);\n\n      const br = _util.Util.applyTransform([0, height], inv);\n\n      const ul = _util.Util.applyTransform([width, 0], inv);\n\n      const ur = _util.Util.applyTransform([width, height], inv);\n\n      const x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n      const y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n      const x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n      const y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", x0);\n      rect.setAttributeNS(null, \"y\", y0);\n      rect.setAttributeNS(null, \"width\", x1 - x0);\n      rect.setAttributeNS(null, \"height\", y1 - y0);\n      rect.setAttributeNS(null, \"fill\", this._makeShadingPattern(args));\n\n      if (this.current.fillAlpha < 1) {\n        rect.setAttributeNS(null, \"fill-opacity\", this.current.fillAlpha);\n      }\n\n      this._ensureTransformGroup().appendChild(rect);\n    }\n\n    _makeColorN_Pattern(args) {\n      if (args[0] === \"TilingPattern\") {\n        return this._makeTilingPattern(args);\n      }\n\n      return this._makeShadingPattern(args);\n    }\n\n    _makeTilingPattern(args) {\n      const color = args[1];\n      const operatorList = args[2];\n      const matrix = args[3] || _util.IDENTITY_MATRIX;\n      const [x0, y0, x1, y1] = args[4];\n      const xstep = args[5];\n      const ystep = args[6];\n      const paintType = args[7];\n      const tilingId = `shading${shadingCount++}`;\n\n      const [tx0, ty0] = _util.Util.applyTransform([x0, y0], matrix);\n\n      const [tx1, ty1] = _util.Util.applyTransform([x1, y1], matrix);\n\n      const [xscale, yscale] = _util.Util.singularValueDecompose2dScale(matrix);\n\n      const txstep = xstep * xscale;\n      const tystep = ystep * yscale;\n      const tiling = this.svgFactory.createElement(\"svg:pattern\");\n      tiling.setAttributeNS(null, \"id\", tilingId);\n      tiling.setAttributeNS(null, \"patternUnits\", \"userSpaceOnUse\");\n      tiling.setAttributeNS(null, \"width\", txstep);\n      tiling.setAttributeNS(null, \"height\", tystep);\n      tiling.setAttributeNS(null, \"x\", `${tx0}`);\n      tiling.setAttributeNS(null, \"y\", `${ty0}`);\n      const svg = this.svg;\n      const transformMatrix = this.transformMatrix;\n      const fillColor = this.current.fillColor;\n      const strokeColor = this.current.strokeColor;\n      const bbox = this.svgFactory.create(tx1 - tx0, ty1 - ty0);\n      this.svg = bbox;\n      this.transformMatrix = matrix;\n\n      if (paintType === 2) {\n        const cssColor = _util.Util.makeHexColor(...color);\n\n        this.current.fillColor = cssColor;\n        this.current.strokeColor = cssColor;\n      }\n\n      this.executeOpTree(this.convertOpList(operatorList));\n      this.svg = svg;\n      this.transformMatrix = transformMatrix;\n      this.current.fillColor = fillColor;\n      this.current.strokeColor = strokeColor;\n      tiling.appendChild(bbox.childNodes[0]);\n      this.defs.appendChild(tiling);\n      return `url(#${tilingId})`;\n    }\n\n    _makeShadingPattern(args) {\n      switch (args[0]) {\n        case \"RadialAxial\":\n          const shadingId = `shading${shadingCount++}`;\n          const colorStops = args[3];\n          let gradient;\n\n          switch (args[1]) {\n            case \"axial\":\n              const point0 = args[4];\n              const point1 = args[5];\n              gradient = this.svgFactory.createElement(\"svg:linearGradient\");\n              gradient.setAttributeNS(null, \"id\", shadingId);\n              gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n              gradient.setAttributeNS(null, \"x1\", point0[0]);\n              gradient.setAttributeNS(null, \"y1\", point0[1]);\n              gradient.setAttributeNS(null, \"x2\", point1[0]);\n              gradient.setAttributeNS(null, \"y2\", point1[1]);\n              break;\n\n            case \"radial\":\n              const focalPoint = args[4];\n              const circlePoint = args[5];\n              const focalRadius = args[6];\n              const circleRadius = args[7];\n              gradient = this.svgFactory.createElement(\"svg:radialGradient\");\n              gradient.setAttributeNS(null, \"id\", shadingId);\n              gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n              gradient.setAttributeNS(null, \"cx\", circlePoint[0]);\n              gradient.setAttributeNS(null, \"cy\", circlePoint[1]);\n              gradient.setAttributeNS(null, \"r\", circleRadius);\n              gradient.setAttributeNS(null, \"fx\", focalPoint[0]);\n              gradient.setAttributeNS(null, \"fy\", focalPoint[1]);\n              gradient.setAttributeNS(null, \"fr\", focalRadius);\n              break;\n\n            default:\n              throw new Error(`Unknown RadialAxial type: ${args[1]}`);\n          }\n\n          for (const colorStop of colorStops) {\n            const stop = this.svgFactory.createElement(\"svg:stop\");\n            stop.setAttributeNS(null, \"offset\", colorStop[0]);\n            stop.setAttributeNS(null, \"stop-color\", colorStop[1]);\n            gradient.appendChild(stop);\n          }\n\n          this.defs.appendChild(gradient);\n          return `url(#${shadingId})`;\n\n        case \"Mesh\":\n          (0, _util.warn)(\"Unimplemented pattern Mesh\");\n          return null;\n\n        case \"Dummy\":\n          return \"hotpink\";\n\n        default:\n          throw new Error(`Unknown IR type: ${args[0]}`);\n      }\n    }\n\n    setDash(dashArray, dashPhase) {\n      this.current.dashArray = dashArray;\n      this.current.dashPhase = dashPhase;\n    }\n\n    constructPath(ops, args) {\n      const current = this.current;\n      let x = current.x,\n          y = current.y;\n      let d = [];\n      let j = 0;\n\n      for (const op of ops) {\n        switch (op | 0) {\n          case _util.OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            const width = args[j++];\n            const height = args[j++];\n            const xw = x + width;\n            const yh = y + height;\n            d.push(\"M\", pf(x), pf(y), \"L\", pf(xw), pf(y), \"L\", pf(xw), pf(yh), \"L\", pf(x), pf(yh), \"Z\");\n            break;\n\n          case _util.OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            d.push(\"M\", pf(x), pf(y));\n            break;\n\n          case _util.OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            d.push(\"L\", pf(x), pf(y));\n            break;\n\n          case _util.OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            d.push(\"C\", pf(args[j]), pf(args[j + 1]), pf(args[j + 2]), pf(args[j + 3]), pf(x), pf(y));\n            j += 6;\n            break;\n\n          case _util.OPS.curveTo2:\n            d.push(\"C\", pf(x), pf(y), pf(args[j]), pf(args[j + 1]), pf(args[j + 2]), pf(args[j + 3]));\n            x = args[j + 2];\n            y = args[j + 3];\n            j += 4;\n            break;\n\n          case _util.OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            d.push(\"C\", pf(args[j]), pf(args[j + 1]), pf(x), pf(y), pf(x), pf(y));\n            j += 4;\n            break;\n\n          case _util.OPS.closePath:\n            d.push(\"Z\");\n            break;\n        }\n      }\n\n      d = d.join(\" \");\n\n      if (current.path && ops.length > 0 && ops[0] !== _util.OPS.rectangle && ops[0] !== _util.OPS.moveTo) {\n        d = current.path.getAttributeNS(null, \"d\") + d;\n      } else {\n        current.path = this.svgFactory.createElement(\"svg:path\");\n\n        this._ensureTransformGroup().appendChild(current.path);\n      }\n\n      current.path.setAttributeNS(null, \"d\", d);\n      current.path.setAttributeNS(null, \"fill\", \"none\");\n      current.element = current.path;\n      current.setCurrentPoint(x, y);\n    }\n\n    endPath() {\n      const current = this.current;\n      current.path = null;\n\n      if (!this.pendingClip) {\n        return;\n      }\n\n      if (!current.element) {\n        this.pendingClip = null;\n        return;\n      }\n\n      const clipId = `clippath${clipCount++}`;\n      const clipPath = this.svgFactory.createElement(\"svg:clipPath\");\n      clipPath.setAttributeNS(null, \"id\", clipId);\n      clipPath.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n      const clipElement = current.element.cloneNode(true);\n\n      if (this.pendingClip === \"evenodd\") {\n        clipElement.setAttributeNS(null, \"clip-rule\", \"evenodd\");\n      } else {\n        clipElement.setAttributeNS(null, \"clip-rule\", \"nonzero\");\n      }\n\n      this.pendingClip = null;\n      clipPath.appendChild(clipElement);\n      this.defs.appendChild(clipPath);\n\n      if (current.activeClipUrl) {\n        current.clipGroup = null;\n        this.extraStack.forEach(function (prev) {\n          prev.clipGroup = null;\n        });\n        clipPath.setAttributeNS(null, \"clip-path\", current.activeClipUrl);\n      }\n\n      current.activeClipUrl = `url(#${clipId})`;\n      this.tgrp = null;\n    }\n\n    clip(type) {\n      this.pendingClip = type;\n    }\n\n    closePath() {\n      const current = this.current;\n\n      if (current.path) {\n        const d = `${current.path.getAttributeNS(null, \"d\")}Z`;\n        current.path.setAttributeNS(null, \"d\", d);\n      }\n    }\n\n    setLeading(leading) {\n      this.current.leading = -leading;\n    }\n\n    setTextRise(textRise) {\n      this.current.textRise = textRise;\n    }\n\n    setTextRenderingMode(textRenderingMode) {\n      this.current.textRenderingMode = textRenderingMode;\n    }\n\n    setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    }\n\n    setRenderingIntent(intent) {}\n\n    setFlatness(flatness) {}\n\n    setGState(states) {\n      for (const [key, value] of states) {\n        switch (key) {\n          case \"LW\":\n            this.setLineWidth(value);\n            break;\n\n          case \"LC\":\n            this.setLineCap(value);\n            break;\n\n          case \"LJ\":\n            this.setLineJoin(value);\n            break;\n\n          case \"ML\":\n            this.setMiterLimit(value);\n            break;\n\n          case \"D\":\n            this.setDash(value[0], value[1]);\n            break;\n\n          case \"RI\":\n            this.setRenderingIntent(value);\n            break;\n\n          case \"FL\":\n            this.setFlatness(value);\n            break;\n\n          case \"Font\":\n            this.setFont(value);\n            break;\n\n          case \"CA\":\n            this.setStrokeAlpha(value);\n            break;\n\n          case \"ca\":\n            this.setFillAlpha(value);\n            break;\n\n          default:\n            (0, _util.warn)(`Unimplemented graphic state operator ${key}`);\n            break;\n        }\n      }\n    }\n\n    fill() {\n      const current = this.current;\n\n      if (current.element) {\n        current.element.setAttributeNS(null, \"fill\", current.fillColor);\n        current.element.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n        this.endPath();\n      }\n    }\n\n    stroke() {\n      const current = this.current;\n\n      if (current.element) {\n        this._setStrokeAttributes(current.element);\n\n        current.element.setAttributeNS(null, \"fill\", \"none\");\n        this.endPath();\n      }\n    }\n\n    _setStrokeAttributes(element, lineWidthScale = 1) {\n      const current = this.current;\n      let dashArray = current.dashArray;\n\n      if (lineWidthScale !== 1 && dashArray.length > 0) {\n        dashArray = dashArray.map(function (value) {\n          return lineWidthScale * value;\n        });\n      }\n\n      element.setAttributeNS(null, \"stroke\", current.strokeColor);\n      element.setAttributeNS(null, \"stroke-opacity\", current.strokeAlpha);\n      element.setAttributeNS(null, \"stroke-miterlimit\", pf(current.miterLimit));\n      element.setAttributeNS(null, \"stroke-linecap\", current.lineCap);\n      element.setAttributeNS(null, \"stroke-linejoin\", current.lineJoin);\n      element.setAttributeNS(null, \"stroke-width\", pf(lineWidthScale * current.lineWidth) + \"px\");\n      element.setAttributeNS(null, \"stroke-dasharray\", dashArray.map(pf).join(\" \"));\n      element.setAttributeNS(null, \"stroke-dashoffset\", pf(lineWidthScale * current.dashPhase) + \"px\");\n    }\n\n    eoFill() {\n      if (this.current.element) {\n        this.current.element.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n      }\n\n      this.fill();\n    }\n\n    fillStroke() {\n      this.stroke();\n      this.fill();\n    }\n\n    eoFillStroke() {\n      if (this.current.element) {\n        this.current.element.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n      }\n\n      this.fillStroke();\n    }\n\n    closeStroke() {\n      this.closePath();\n      this.stroke();\n    }\n\n    closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    }\n\n    closeEOFillStroke() {\n      this.closePath();\n      this.eoFillStroke();\n    }\n\n    paintSolidColorImageMask() {\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", \"0\");\n      rect.setAttributeNS(null, \"y\", \"0\");\n      rect.setAttributeNS(null, \"width\", \"1px\");\n      rect.setAttributeNS(null, \"height\", \"1px\");\n      rect.setAttributeNS(null, \"fill\", this.current.fillColor);\n\n      this._ensureTransformGroup().appendChild(rect);\n    }\n\n    paintImageXObject(objId) {\n      const imgData = objId.startsWith(\"g_\") ? this.commonObjs.get(objId) : this.objs.get(objId);\n\n      if (!imgData) {\n        (0, _util.warn)(`Dependent image with object ID ${objId} is not ready yet`);\n        return;\n      }\n\n      this.paintInlineImageXObject(imgData);\n    }\n\n    paintInlineImageXObject(imgData, mask) {\n      const width = imgData.width;\n      const height = imgData.height;\n      const imgSrc = convertImgDataToPng(imgData, this.forceDataSchema, !!mask);\n      const cliprect = this.svgFactory.createElement(\"svg:rect\");\n      cliprect.setAttributeNS(null, \"x\", \"0\");\n      cliprect.setAttributeNS(null, \"y\", \"0\");\n      cliprect.setAttributeNS(null, \"width\", pf(width));\n      cliprect.setAttributeNS(null, \"height\", pf(height));\n      this.current.element = cliprect;\n      this.clip(\"nonzero\");\n      const imgEl = this.svgFactory.createElement(\"svg:image\");\n      imgEl.setAttributeNS(XLINK_NS, \"xlink:href\", imgSrc);\n      imgEl.setAttributeNS(null, \"x\", \"0\");\n      imgEl.setAttributeNS(null, \"y\", pf(-height));\n      imgEl.setAttributeNS(null, \"width\", pf(width) + \"px\");\n      imgEl.setAttributeNS(null, \"height\", pf(height) + \"px\");\n      imgEl.setAttributeNS(null, \"transform\", `scale(${pf(1 / width)} ${pf(-1 / height)})`);\n\n      if (mask) {\n        mask.appendChild(imgEl);\n      } else {\n        this._ensureTransformGroup().appendChild(imgEl);\n      }\n    }\n\n    paintImageMaskXObject(imgData) {\n      const current = this.current;\n      const width = imgData.width;\n      const height = imgData.height;\n      const fillColor = current.fillColor;\n      current.maskId = `mask${maskCount++}`;\n      const mask = this.svgFactory.createElement(\"svg:mask\");\n      mask.setAttributeNS(null, \"id\", current.maskId);\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", \"0\");\n      rect.setAttributeNS(null, \"y\", \"0\");\n      rect.setAttributeNS(null, \"width\", pf(width));\n      rect.setAttributeNS(null, \"height\", pf(height));\n      rect.setAttributeNS(null, \"fill\", fillColor);\n      rect.setAttributeNS(null, \"mask\", `url(#${current.maskId})`);\n      this.defs.appendChild(mask);\n\n      this._ensureTransformGroup().appendChild(rect);\n\n      this.paintInlineImageXObject(imgData, mask);\n    }\n\n    paintFormXObjectBegin(matrix, bbox) {\n      if (Array.isArray(matrix) && matrix.length === 6) {\n        this.transform(matrix[0], matrix[1], matrix[2], matrix[3], matrix[4], matrix[5]);\n      }\n\n      if (bbox) {\n        const width = bbox[2] - bbox[0];\n        const height = bbox[3] - bbox[1];\n        const cliprect = this.svgFactory.createElement(\"svg:rect\");\n        cliprect.setAttributeNS(null, \"x\", bbox[0]);\n        cliprect.setAttributeNS(null, \"y\", bbox[1]);\n        cliprect.setAttributeNS(null, \"width\", pf(width));\n        cliprect.setAttributeNS(null, \"height\", pf(height));\n        this.current.element = cliprect;\n        this.clip(\"nonzero\");\n        this.endPath();\n      }\n    }\n\n    paintFormXObjectEnd() {}\n\n    _initialize(viewport) {\n      const svg = this.svgFactory.create(viewport.width, viewport.height);\n      const definitions = this.svgFactory.createElement(\"svg:defs\");\n      svg.appendChild(definitions);\n      this.defs = definitions;\n      const rootGroup = this.svgFactory.createElement(\"svg:g\");\n      rootGroup.setAttributeNS(null, \"transform\", pm(viewport.transform));\n      svg.appendChild(rootGroup);\n      this.svg = rootGroup;\n      return svg;\n    }\n\n    _ensureClipGroup() {\n      if (!this.current.clipGroup) {\n        const clipGroup = this.svgFactory.createElement(\"svg:g\");\n        clipGroup.setAttributeNS(null, \"clip-path\", this.current.activeClipUrl);\n        this.svg.appendChild(clipGroup);\n        this.current.clipGroup = clipGroup;\n      }\n\n      return this.current.clipGroup;\n    }\n\n    _ensureTransformGroup() {\n      if (!this.tgrp) {\n        this.tgrp = this.svgFactory.createElement(\"svg:g\");\n        this.tgrp.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n\n        if (this.current.activeClipUrl) {\n          this._ensureClipGroup().appendChild(this.tgrp);\n        } else {\n          this.svg.appendChild(this.tgrp);\n        }\n      }\n\n      return this.tgrp;\n    }\n\n  };\n}","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderTextLayer = void 0;\n\nvar _util = require(\"../shared/util.js\");\n\nconst renderTextLayer = function renderTextLayerClosure() {\n  const MAX_TEXT_DIVS_TO_RENDER = 100000;\n  const NonWhitespaceRegexp = /\\S/;\n\n  function isAllWhitespace(str) {\n    return !NonWhitespaceRegexp.test(str);\n  }\n\n  function appendText(task, geom, styles) {\n    const textDiv = document.createElement(\"span\");\n    const textDivProperties = {\n      angle: 0,\n      canvasWidth: 0,\n      isWhitespace: false,\n      originalTransform: null,\n      paddingBottom: 0,\n      paddingLeft: 0,\n      paddingRight: 0,\n      paddingTop: 0,\n      scale: 1\n    };\n\n    task._textDivs.push(textDiv);\n\n    if (isAllWhitespace(geom.str)) {\n      textDivProperties.isWhitespace = true;\n\n      task._textDivProperties.set(textDiv, textDivProperties);\n\n      return;\n    }\n\n    const tx = _util.Util.transform(task._viewport.transform, geom.transform);\n\n    let angle = Math.atan2(tx[1], tx[0]);\n    const style = styles[geom.fontName];\n\n    if (style.vertical) {\n      angle += Math.PI / 2;\n    }\n\n    const fontHeight = Math.sqrt(tx[2] * tx[2] + tx[3] * tx[3]);\n    let fontAscent = fontHeight;\n\n    if (style.ascent) {\n      fontAscent = style.ascent * fontAscent;\n    } else if (style.descent) {\n      fontAscent = (1 + style.descent) * fontAscent;\n    }\n\n    let left, top;\n\n    if (angle === 0) {\n      left = tx[4];\n      top = tx[5] - fontAscent;\n    } else {\n      left = tx[4] + fontAscent * Math.sin(angle);\n      top = tx[5] - fontAscent * Math.cos(angle);\n    }\n\n    textDiv.style.left = `${left}px`;\n    textDiv.style.top = `${top}px`;\n    textDiv.style.fontSize = `${fontHeight}px`;\n    textDiv.style.fontFamily = style.fontFamily;\n    textDiv.textContent = geom.str;\n\n    if (task._fontInspectorEnabled) {\n      textDiv.dataset.fontName = geom.fontName;\n    }\n\n    if (angle !== 0) {\n      textDivProperties.angle = angle * (180 / Math.PI);\n    }\n\n    let shouldScaleText = false;\n\n    if (geom.str.length > 1) {\n      shouldScaleText = true;\n    } else if (geom.transform[0] !== geom.transform[3]) {\n      const absScaleX = Math.abs(geom.transform[0]),\n            absScaleY = Math.abs(geom.transform[3]);\n\n      if (absScaleX !== absScaleY && Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5) {\n        shouldScaleText = true;\n      }\n    }\n\n    if (shouldScaleText) {\n      if (style.vertical) {\n        textDivProperties.canvasWidth = geom.height * task._viewport.scale;\n      } else {\n        textDivProperties.canvasWidth = geom.width * task._viewport.scale;\n      }\n    }\n\n    task._textDivProperties.set(textDiv, textDivProperties);\n\n    if (task._textContentStream) {\n      task._layoutText(textDiv);\n    }\n\n    if (task._enhanceTextSelection) {\n      let angleCos = 1,\n          angleSin = 0;\n\n      if (angle !== 0) {\n        angleCos = Math.cos(angle);\n        angleSin = Math.sin(angle);\n      }\n\n      const divWidth = (style.vertical ? geom.height : geom.width) * task._viewport.scale;\n      const divHeight = fontHeight;\n      let m, b;\n\n      if (angle !== 0) {\n        m = [angleCos, angleSin, -angleSin, angleCos, left, top];\n        b = _util.Util.getAxialAlignedBoundingBox([0, 0, divWidth, divHeight], m);\n      } else {\n        b = [left, top, left + divWidth, top + divHeight];\n      }\n\n      task._bounds.push({\n        left: b[0],\n        top: b[1],\n        right: b[2],\n        bottom: b[3],\n        div: textDiv,\n        size: [divWidth, divHeight],\n        m\n      });\n    }\n  }\n\n  function render(task) {\n    if (task._canceled) {\n      return;\n    }\n\n    const textDivs = task._textDivs;\n    const capability = task._capability;\n    const textDivsLength = textDivs.length;\n\n    if (textDivsLength > MAX_TEXT_DIVS_TO_RENDER) {\n      task._renderingDone = true;\n      capability.resolve();\n      return;\n    }\n\n    if (!task._textContentStream) {\n      for (let i = 0; i < textDivsLength; i++) {\n        task._layoutText(textDivs[i]);\n      }\n    }\n\n    task._renderingDone = true;\n    capability.resolve();\n  }\n\n  function findPositiveMin(ts, offset, count) {\n    let result = 0;\n\n    for (let i = 0; i < count; i++) {\n      const t = ts[offset++];\n\n      if (t > 0) {\n        result = result ? Math.min(t, result) : t;\n      }\n    }\n\n    return result;\n  }\n\n  function expand(task) {\n    const bounds = task._bounds;\n    const viewport = task._viewport;\n    const expanded = expandBounds(viewport.width, viewport.height, bounds);\n\n    for (let i = 0; i < expanded.length; i++) {\n      const div = bounds[i].div;\n\n      const divProperties = task._textDivProperties.get(div);\n\n      if (divProperties.angle === 0) {\n        divProperties.paddingLeft = bounds[i].left - expanded[i].left;\n        divProperties.paddingTop = bounds[i].top - expanded[i].top;\n        divProperties.paddingRight = expanded[i].right - bounds[i].right;\n        divProperties.paddingBottom = expanded[i].bottom - bounds[i].bottom;\n\n        task._textDivProperties.set(div, divProperties);\n\n        continue;\n      }\n\n      const e = expanded[i],\n            b = bounds[i];\n      const m = b.m,\n            c = m[0],\n            s = m[1];\n      const points = [[0, 0], [0, b.size[1]], [b.size[0], 0], b.size];\n      const ts = new Float64Array(64);\n      points.forEach(function (p, j) {\n        const t = _util.Util.applyTransform(p, m);\n\n        ts[j + 0] = c && (e.left - t[0]) / c;\n        ts[j + 4] = s && (e.top - t[1]) / s;\n        ts[j + 8] = c && (e.right - t[0]) / c;\n        ts[j + 12] = s && (e.bottom - t[1]) / s;\n        ts[j + 16] = s && (e.left - t[0]) / -s;\n        ts[j + 20] = c && (e.top - t[1]) / c;\n        ts[j + 24] = s && (e.right - t[0]) / -s;\n        ts[j + 28] = c && (e.bottom - t[1]) / c;\n        ts[j + 32] = c && (e.left - t[0]) / -c;\n        ts[j + 36] = s && (e.top - t[1]) / -s;\n        ts[j + 40] = c && (e.right - t[0]) / -c;\n        ts[j + 44] = s && (e.bottom - t[1]) / -s;\n        ts[j + 48] = s && (e.left - t[0]) / s;\n        ts[j + 52] = c && (e.top - t[1]) / -c;\n        ts[j + 56] = s && (e.right - t[0]) / s;\n        ts[j + 60] = c && (e.bottom - t[1]) / -c;\n      });\n      const boxScale = 1 + Math.min(Math.abs(c), Math.abs(s));\n      divProperties.paddingLeft = findPositiveMin(ts, 32, 16) / boxScale;\n      divProperties.paddingTop = findPositiveMin(ts, 48, 16) / boxScale;\n      divProperties.paddingRight = findPositiveMin(ts, 0, 16) / boxScale;\n      divProperties.paddingBottom = findPositiveMin(ts, 16, 16) / boxScale;\n\n      task._textDivProperties.set(div, divProperties);\n    }\n  }\n\n  function expandBounds(width, height, boxes) {\n    const bounds = boxes.map(function (box, i) {\n      return {\n        x1: box.left,\n        y1: box.top,\n        x2: box.right,\n        y2: box.bottom,\n        index: i,\n        x1New: undefined,\n        x2New: undefined\n      };\n    });\n    expandBoundsLTR(width, bounds);\n    const expanded = new Array(boxes.length);\n    bounds.forEach(function (b) {\n      const i = b.index;\n      expanded[i] = {\n        left: b.x1New,\n        top: 0,\n        right: b.x2New,\n        bottom: 0\n      };\n    });\n    boxes.map(function (box, i) {\n      const e = expanded[i],\n            b = bounds[i];\n      b.x1 = box.top;\n      b.y1 = width - e.right;\n      b.x2 = box.bottom;\n      b.y2 = width - e.left;\n      b.index = i;\n      b.x1New = undefined;\n      b.x2New = undefined;\n    });\n    expandBoundsLTR(height, bounds);\n    bounds.forEach(function (b) {\n      const i = b.index;\n      expanded[i].top = b.x1New;\n      expanded[i].bottom = b.x2New;\n    });\n    return expanded;\n  }\n\n  function expandBoundsLTR(width, bounds) {\n    bounds.sort(function (a, b) {\n      return a.x1 - b.x1 || a.index - b.index;\n    });\n    const fakeBoundary = {\n      x1: -Infinity,\n      y1: -Infinity,\n      x2: 0,\n      y2: Infinity,\n      index: -1,\n      x1New: 0,\n      x2New: 0\n    };\n    const horizon = [{\n      start: -Infinity,\n      end: Infinity,\n      boundary: fakeBoundary\n    }];\n    bounds.forEach(function (boundary) {\n      let i = 0;\n\n      while (i < horizon.length && horizon[i].end <= boundary.y1) {\n        i++;\n      }\n\n      let j = horizon.length - 1;\n\n      while (j >= 0 && horizon[j].start >= boundary.y2) {\n        j--;\n      }\n\n      let horizonPart, affectedBoundary;\n      let q,\n          k,\n          maxXNew = -Infinity;\n\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        let xNew;\n\n        if (affectedBoundary.x2 > boundary.x1) {\n          xNew = affectedBoundary.index > boundary.index ? affectedBoundary.x1New : boundary.x1;\n        } else if (affectedBoundary.x2New === undefined) {\n          xNew = (affectedBoundary.x2 + boundary.x1) / 2;\n        } else {\n          xNew = affectedBoundary.x2New;\n        }\n\n        if (xNew > maxXNew) {\n          maxXNew = xNew;\n        }\n      }\n\n      boundary.x1New = maxXNew;\n\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n\n        if (affectedBoundary.x2New === undefined) {\n          if (affectedBoundary.x2 > boundary.x1) {\n            if (affectedBoundary.index > boundary.index) {\n              affectedBoundary.x2New = affectedBoundary.x2;\n            }\n          } else {\n            affectedBoundary.x2New = maxXNew;\n          }\n        } else if (affectedBoundary.x2New > maxXNew) {\n          affectedBoundary.x2New = Math.max(maxXNew, affectedBoundary.x2);\n        }\n      }\n\n      const changedHorizon = [];\n      let lastBoundary = null;\n\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        const useBoundary = affectedBoundary.x2 > boundary.x2 ? affectedBoundary : boundary;\n\n        if (lastBoundary === useBoundary) {\n          changedHorizon[changedHorizon.length - 1].end = horizonPart.end;\n        } else {\n          changedHorizon.push({\n            start: horizonPart.start,\n            end: horizonPart.end,\n            boundary: useBoundary\n          });\n          lastBoundary = useBoundary;\n        }\n      }\n\n      if (horizon[i].start < boundary.y1) {\n        changedHorizon[0].start = boundary.y1;\n        changedHorizon.unshift({\n          start: horizon[i].start,\n          end: boundary.y1,\n          boundary: horizon[i].boundary\n        });\n      }\n\n      if (boundary.y2 < horizon[j].end) {\n        changedHorizon[changedHorizon.length - 1].end = boundary.y2;\n        changedHorizon.push({\n          start: boundary.y2,\n          end: horizon[j].end,\n          boundary: horizon[j].boundary\n        });\n      }\n\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n\n        if (affectedBoundary.x2New !== undefined) {\n          continue;\n        }\n\n        let used = false;\n\n        for (k = i - 1; !used && k >= 0 && horizon[k].start >= affectedBoundary.y1; k--) {\n          used = horizon[k].boundary === affectedBoundary;\n        }\n\n        for (k = j + 1; !used && k < horizon.length && horizon[k].end <= affectedBoundary.y2; k++) {\n          used = horizon[k].boundary === affectedBoundary;\n        }\n\n        for (k = 0; !used && k < changedHorizon.length; k++) {\n          used = changedHorizon[k].boundary === affectedBoundary;\n        }\n\n        if (!used) {\n          affectedBoundary.x2New = maxXNew;\n        }\n      }\n\n      Array.prototype.splice.apply(horizon, [i, j - i + 1].concat(changedHorizon));\n    });\n    horizon.forEach(function (horizonPart) {\n      const affectedBoundary = horizonPart.boundary;\n\n      if (affectedBoundary.x2New === undefined) {\n        affectedBoundary.x2New = Math.max(width, affectedBoundary.x2);\n      }\n    });\n  }\n\n  function TextLayerRenderTask({\n    textContent,\n    textContentStream,\n    container,\n    viewport,\n    textDivs,\n    textContentItemsStr,\n    enhanceTextSelection\n  }) {\n    this._textContent = textContent;\n    this._textContentStream = textContentStream;\n    this._container = container;\n    this._document = container.ownerDocument;\n    this._viewport = viewport;\n    this._textDivs = textDivs || [];\n    this._textContentItemsStr = textContentItemsStr || [];\n    this._enhanceTextSelection = !!enhanceTextSelection;\n    this._fontInspectorEnabled = !!globalThis.FontInspector?.enabled;\n    this._reader = null;\n    this._layoutTextLastFontSize = null;\n    this._layoutTextLastFontFamily = null;\n    this._layoutTextCtx = null;\n    this._textDivProperties = new WeakMap();\n    this._renderingDone = false;\n    this._canceled = false;\n    this._capability = (0, _util.createPromiseCapability)();\n    this._renderTimer = null;\n    this._bounds = [];\n\n    this._capability.promise.finally(() => {\n      if (this._layoutTextCtx) {\n        this._layoutTextCtx.canvas.width = 0;\n        this._layoutTextCtx.canvas.height = 0;\n        this._layoutTextCtx = null;\n      }\n    }).catch(() => {});\n  }\n\n  TextLayerRenderTask.prototype = {\n    get promise() {\n      return this._capability.promise;\n    },\n\n    cancel: function TextLayer_cancel() {\n      this._canceled = true;\n\n      if (this._reader) {\n        this._reader.cancel(new _util.AbortException(\"TextLayer task cancelled.\"));\n\n        this._reader = null;\n      }\n\n      if (this._renderTimer !== null) {\n        clearTimeout(this._renderTimer);\n        this._renderTimer = null;\n      }\n\n      this._capability.reject(new Error(\"TextLayer task cancelled.\"));\n    },\n\n    _processItems(items, styleCache) {\n      for (let i = 0, len = items.length; i < len; i++) {\n        this._textContentItemsStr.push(items[i].str);\n\n        appendText(this, items[i], styleCache);\n      }\n    },\n\n    _layoutText(textDiv) {\n      const textDivProperties = this._textDivProperties.get(textDiv);\n\n      if (textDivProperties.isWhitespace) {\n        return;\n      }\n\n      let transform = \"\";\n\n      if (textDivProperties.canvasWidth !== 0) {\n        const {\n          fontSize,\n          fontFamily\n        } = textDiv.style;\n\n        if (fontSize !== this._layoutTextLastFontSize || fontFamily !== this._layoutTextLastFontFamily) {\n          this._layoutTextCtx.font = `${fontSize} ${fontFamily}`;\n          this._layoutTextLastFontSize = fontSize;\n          this._layoutTextLastFontFamily = fontFamily;\n        }\n\n        const {\n          width\n        } = this._layoutTextCtx.measureText(textDiv.textContent);\n\n        if (width > 0) {\n          textDivProperties.scale = textDivProperties.canvasWidth / width;\n          transform = `scaleX(${textDivProperties.scale})`;\n        }\n      }\n\n      if (textDivProperties.angle !== 0) {\n        transform = `rotate(${textDivProperties.angle}deg) ${transform}`;\n      }\n\n      if (transform.length > 0) {\n        if (this._enhanceTextSelection) {\n          textDivProperties.originalTransform = transform;\n        }\n\n        textDiv.style.transform = transform;\n      }\n\n      this._textDivProperties.set(textDiv, textDivProperties);\n\n      this._container.appendChild(textDiv);\n    },\n\n    _render: function TextLayer_render(timeout) {\n      const capability = (0, _util.createPromiseCapability)();\n      let styleCache = Object.create(null);\n\n      const canvas = this._document.createElement(\"canvas\");\n\n      canvas.mozOpaque = true;\n      this._layoutTextCtx = canvas.getContext(\"2d\", {\n        alpha: false\n      });\n\n      if (this._textContent) {\n        const textItems = this._textContent.items;\n        const textStyles = this._textContent.styles;\n\n        this._processItems(textItems, textStyles);\n\n        capability.resolve();\n      } else if (this._textContentStream) {\n        const pump = () => {\n          this._reader.read().then(({\n            value,\n            done\n          }) => {\n            if (done) {\n              capability.resolve();\n              return;\n            }\n\n            Object.assign(styleCache, value.styles);\n\n            this._processItems(value.items, styleCache);\n\n            pump();\n          }, capability.reject);\n        };\n\n        this._reader = this._textContentStream.getReader();\n        pump();\n      } else {\n        throw new Error('Neither \"textContent\" nor \"textContentStream\"' + \" parameters specified.\");\n      }\n\n      capability.promise.then(() => {\n        styleCache = null;\n\n        if (!timeout) {\n          render(this);\n        } else {\n          this._renderTimer = setTimeout(() => {\n            render(this);\n            this._renderTimer = null;\n          }, timeout);\n        }\n      }, this._capability.reject);\n    },\n    expandTextDivs: function TextLayer_expandTextDivs(expandDivs) {\n      if (!this._enhanceTextSelection || !this._renderingDone) {\n        return;\n      }\n\n      if (this._bounds !== null) {\n        expand(this);\n        this._bounds = null;\n      }\n\n      const transformBuf = [],\n            paddingBuf = [];\n\n      for (let i = 0, ii = this._textDivs.length; i < ii; i++) {\n        const div = this._textDivs[i];\n\n        const divProps = this._textDivProperties.get(div);\n\n        if (divProps.isWhitespace) {\n          continue;\n        }\n\n        if (expandDivs) {\n          transformBuf.length = 0;\n          paddingBuf.length = 0;\n\n          if (divProps.originalTransform) {\n            transformBuf.push(divProps.originalTransform);\n          }\n\n          if (divProps.paddingTop > 0) {\n            paddingBuf.push(`${divProps.paddingTop}px`);\n            transformBuf.push(`translateY(${-divProps.paddingTop}px)`);\n          } else {\n            paddingBuf.push(0);\n          }\n\n          if (divProps.paddingRight > 0) {\n            paddingBuf.push(`${divProps.paddingRight / divProps.scale}px`);\n          } else {\n            paddingBuf.push(0);\n          }\n\n          if (divProps.paddingBottom > 0) {\n            paddingBuf.push(`${divProps.paddingBottom}px`);\n          } else {\n            paddingBuf.push(0);\n          }\n\n          if (divProps.paddingLeft > 0) {\n            paddingBuf.push(`${divProps.paddingLeft / divProps.scale}px`);\n            transformBuf.push(`translateX(${-divProps.paddingLeft / divProps.scale}px)`);\n          } else {\n            paddingBuf.push(0);\n          }\n\n          div.style.padding = paddingBuf.join(\" \");\n\n          if (transformBuf.length) {\n            div.style.transform = transformBuf.join(\" \");\n          }\n        } else {\n          div.style.padding = null;\n          div.style.transform = divProps.originalTransform;\n        }\n      }\n    }\n  };\n\n  function renderTextLayer(renderParameters) {\n    const task = new TextLayerRenderTask({\n      textContent: renderParameters.textContent,\n      textContentStream: renderParameters.textContentStream,\n      container: renderParameters.container,\n      viewport: renderParameters.viewport,\n      textDivs: renderParameters.textDivs,\n      textContentItemsStr: renderParameters.textContentItemsStr,\n      enhanceTextSelection: renderParameters.enhanceTextSelection\n    });\n\n    task._render(renderParameters.timeout);\n\n    return task;\n  }\n\n  return renderTextLayer;\n}();\n\nexports.renderTextLayer = renderTextLayer;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFDataTransportStream = void 0;\n\nvar _util = require(\"../shared/util.js\");\n\nclass PDFDataTransportStream {\n  constructor(params, pdfDataRangeTransport) {\n    (0, _util.assert)(pdfDataRangeTransport, 'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.');\n    this._queuedChunks = [];\n    this._progressiveDone = params.progressiveDone || false;\n    const initialData = params.initialData;\n\n    if (initialData?.length > 0) {\n      const buffer = new Uint8Array(initialData).buffer;\n\n      this._queuedChunks.push(buffer);\n    }\n\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !params.disableStream;\n    this._isRangeSupported = !params.disableRange;\n    this._contentLength = params.length;\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n\n    this._pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({\n        begin,\n        chunk\n      });\n    });\n\n    this._pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({\n        loaded,\n        total\n      });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({\n        chunk\n      });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n\n    this._pdfDataRangeTransport.transportReady();\n  }\n\n  _onReceiveData(args) {\n    const buffer = new Uint8Array(args.chunk).buffer;\n\n    if (args.begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function (rangeReader) {\n        if (rangeReader._begin !== args.begin) {\n          return false;\n        }\n\n        rangeReader._enqueue(buffer);\n\n        return true;\n      });\n\n      (0, _util.assert)(found, \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\");\n    }\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      const firstReader = this._rangeReaders[0];\n\n      if (firstReader?.onProgress) {\n        firstReader.onProgress({\n          loaded: evt.loaded\n        });\n      }\n    } else {\n      const fullReader = this._fullRequestReader;\n\n      if (fullReader?.onProgress) {\n        fullReader.onProgress({\n          loaded: evt.loaded,\n          total: evt.total\n        });\n      }\n    }\n  }\n\n  _onProgressiveDone() {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.progressiveDone();\n    }\n\n    this._progressiveDone = true;\n  }\n\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    (0, _util.assert)(!this._fullRequestReader, \"PDFDataTransportStream.getFullReader can only be called once.\");\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(this, queuedChunks, this._progressiveDone);\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n\n    this._rangeReaders.push(reader);\n\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n\n    const readers = this._rangeReaders.slice(0);\n\n    readers.forEach(function (rangeReader) {\n      rangeReader.cancel(reason);\n    });\n\n    this._pdfDataRangeTransport.abort();\n  }\n\n}\n\nexports.PDFDataTransportStream = PDFDataTransportStream;\n\nclass PDFDataTransportStreamReader {\n  constructor(stream, queuedChunks, progressiveDone = false) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n\n    this._loaded += chunk.byteLength;\n  }\n\n  get headersReady() {\n    return this._headersReady;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n\n    const requestCapability = (0, _util.createPromiseCapability)();\n\n    this._requests.push(requestCapability);\n\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    });\n\n    this._requests = [];\n  }\n\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n\n    this._done = true;\n  }\n\n}\n\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n\n      requestsCapability.resolve({\n        value: chunk,\n        done: false\n      });\n\n      this._requests.forEach(function (requestCapability) {\n        requestCapability.resolve({\n          value: undefined,\n          done: true\n        });\n      });\n\n      this._requests = [];\n    }\n\n    this._done = true;\n\n    this._stream._removeRangeReader(this);\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n\n    const requestCapability = (0, _util.createPromiseCapability)();\n\n    this._requests.push(requestCapability);\n\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    });\n\n    this._requests = [];\n\n    this._stream._removeRangeReader(this);\n  }\n\n}","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WebGLContext = void 0;\n\nvar _util = require(\"../shared/util.js\");\n\nclass WebGLContext {\n  constructor({\n    enable = false\n  }) {\n    this._enabled = enable === true;\n  }\n\n  get isEnabled() {\n    let enabled = this._enabled;\n\n    if (enabled) {\n      enabled = WebGLUtils.tryInitGL();\n    }\n\n    return (0, _util.shadow)(this, \"isEnabled\", enabled);\n  }\n\n  composeSMask({\n    layer,\n    mask,\n    properties\n  }) {\n    return WebGLUtils.composeSMask(layer, mask, properties);\n  }\n\n  drawFigures({\n    width,\n    height,\n    backgroundColor,\n    figures,\n    context\n  }) {\n    return WebGLUtils.drawFigures(width, height, backgroundColor, figures, context);\n  }\n\n  clear() {\n    WebGLUtils.cleanup();\n  }\n\n}\n\nexports.WebGLContext = WebGLContext;\n\nconst WebGLUtils = function WebGLUtilsClosure() {\n  function loadShader(gl, code, shaderType) {\n    const shader = gl.createShader(shaderType);\n    gl.shaderSource(shader, code);\n    gl.compileShader(shader);\n    const compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n\n    if (!compiled) {\n      const errorMsg = gl.getShaderInfoLog(shader);\n      throw new Error(\"Error during shader compilation: \" + errorMsg);\n    }\n\n    return shader;\n  }\n\n  function createVertexShader(gl, code) {\n    return loadShader(gl, code, gl.VERTEX_SHADER);\n  }\n\n  function createFragmentShader(gl, code) {\n    return loadShader(gl, code, gl.FRAGMENT_SHADER);\n  }\n\n  function createProgram(gl, shaders) {\n    const program = gl.createProgram();\n\n    for (let i = 0, ii = shaders.length; i < ii; ++i) {\n      gl.attachShader(program, shaders[i]);\n    }\n\n    gl.linkProgram(program);\n    const linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n\n    if (!linked) {\n      const errorMsg = gl.getProgramInfoLog(program);\n      throw new Error(\"Error during program linking: \" + errorMsg);\n    }\n\n    return program;\n  }\n\n  function createTexture(gl, image, textureId) {\n    gl.activeTexture(textureId);\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n    return texture;\n  }\n\n  let currentGL, currentCanvas;\n\n  function generateGL() {\n    if (currentGL) {\n      return;\n    }\n\n    currentCanvas = document.createElement(\"canvas\");\n    currentGL = currentCanvas.getContext(\"webgl\", {\n      premultipliedalpha: false\n    });\n  }\n\n  const smaskVertexShaderCode = \"\\\n  attribute vec2 a_position;                                    \\\n  attribute vec2 a_texCoord;                                    \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;   \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_texCoord = a_texCoord;                                    \\\n  }                                                             \";\n  const smaskFragmentShaderCode = \"\\\n  precision mediump float;                                      \\\n                                                                \\\n  uniform vec4 u_backdrop;                                      \\\n  uniform int u_subtype;                                        \\\n  uniform sampler2D u_image;                                    \\\n  uniform sampler2D u_mask;                                     \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec4 imageColor = texture2D(u_image, v_texCoord);           \\\n    vec4 maskColor = texture2D(u_mask, v_texCoord);             \\\n    if (u_backdrop.a > 0.0) {                                   \\\n      maskColor.rgb = maskColor.rgb * maskColor.a +             \\\n                      u_backdrop.rgb * (1.0 - maskColor.a);     \\\n    }                                                           \\\n    float lum;                                                  \\\n    if (u_subtype == 0) {                                       \\\n      lum = maskColor.a;                                        \\\n    } else {                                                    \\\n      lum = maskColor.r * 0.3 + maskColor.g * 0.59 +            \\\n            maskColor.b * 0.11;                                 \\\n    }                                                           \\\n    imageColor.a *= lum;                                        \\\n    imageColor.rgb *= imageColor.a;                             \\\n    gl_FragColor = imageColor;                                  \\\n  }                                                             \";\n  let smaskCache = null;\n\n  function initSmaskGL() {\n    generateGL();\n    const canvas = currentCanvas;\n    currentCanvas = null;\n    const gl = currentGL;\n    currentGL = null;\n    const vertexShader = createVertexShader(gl, smaskVertexShaderCode);\n    const fragmentShader = createFragmentShader(gl, smaskFragmentShaderCode);\n    const program = createProgram(gl, [vertexShader, fragmentShader]);\n    gl.useProgram(program);\n    const cache = {};\n    cache.gl = gl;\n    cache.canvas = canvas;\n    cache.resolutionLocation = gl.getUniformLocation(program, \"u_resolution\");\n    cache.positionLocation = gl.getAttribLocation(program, \"a_position\");\n    cache.backdropLocation = gl.getUniformLocation(program, \"u_backdrop\");\n    cache.subtypeLocation = gl.getUniformLocation(program, \"u_subtype\");\n    const texCoordLocation = gl.getAttribLocation(program, \"a_texCoord\");\n    const texLayerLocation = gl.getUniformLocation(program, \"u_image\");\n    const texMaskLocation = gl.getUniformLocation(program, \"u_mask\");\n    const texCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(texCoordLocation);\n    gl.vertexAttribPointer(texCoordLocation, 2, gl.FLOAT, false, 0, 0);\n    gl.uniform1i(texLayerLocation, 0);\n    gl.uniform1i(texMaskLocation, 1);\n    smaskCache = cache;\n  }\n\n  function composeSMask(layer, mask, properties) {\n    const width = layer.width,\n          height = layer.height;\n\n    if (!smaskCache) {\n      initSmaskGL();\n    }\n\n    const cache = smaskCache,\n          canvas = cache.canvas,\n          gl = cache.gl;\n    canvas.width = width;\n    canvas.height = height;\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.uniform2f(cache.resolutionLocation, width, height);\n\n    if (properties.backdrop) {\n      gl.uniform4f(cache.resolutionLocation, properties.backdrop[0], properties.backdrop[1], properties.backdrop[2], 1);\n    } else {\n      gl.uniform4f(cache.resolutionLocation, 0, 0, 0, 0);\n    }\n\n    gl.uniform1i(cache.subtypeLocation, properties.subtype === \"Luminosity\" ? 1 : 0);\n    const texture = createTexture(gl, layer, gl.TEXTURE0);\n    const maskTexture = createTexture(gl, mask, gl.TEXTURE1);\n    const buffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0, 0, width, 0, 0, height, 0, height, width, 0, width, height]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.positionLocation);\n    gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n    gl.clearColor(0, 0, 0, 0);\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n    gl.flush();\n    gl.deleteTexture(texture);\n    gl.deleteTexture(maskTexture);\n    gl.deleteBuffer(buffer);\n    return canvas;\n  }\n\n  const figuresVertexShaderCode = \"\\\n  attribute vec2 a_position;                                    \\\n  attribute vec3 a_color;                                       \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n  uniform vec2 u_scale;                                         \\\n  uniform vec2 u_offset;                                        \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 position = (a_position + u_offset) * u_scale;          \\\n    vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;     \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_color = vec4(a_color / 255.0, 1.0);                       \\\n  }                                                             \";\n  const figuresFragmentShaderCode = \"\\\n  precision mediump float;                                      \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    gl_FragColor = v_color;                                     \\\n  }                                                             \";\n  let figuresCache = null;\n\n  function initFiguresGL() {\n    generateGL();\n    const canvas = currentCanvas;\n    currentCanvas = null;\n    const gl = currentGL;\n    currentGL = null;\n    const vertexShader = createVertexShader(gl, figuresVertexShaderCode);\n    const fragmentShader = createFragmentShader(gl, figuresFragmentShaderCode);\n    const program = createProgram(gl, [vertexShader, fragmentShader]);\n    gl.useProgram(program);\n    const cache = {};\n    cache.gl = gl;\n    cache.canvas = canvas;\n    cache.resolutionLocation = gl.getUniformLocation(program, \"u_resolution\");\n    cache.scaleLocation = gl.getUniformLocation(program, \"u_scale\");\n    cache.offsetLocation = gl.getUniformLocation(program, \"u_offset\");\n    cache.positionLocation = gl.getAttribLocation(program, \"a_position\");\n    cache.colorLocation = gl.getAttribLocation(program, \"a_color\");\n    figuresCache = cache;\n  }\n\n  function drawFigures(width, height, backgroundColor, figures, context) {\n    if (!figuresCache) {\n      initFiguresGL();\n    }\n\n    const cache = figuresCache,\n          canvas = cache.canvas,\n          gl = cache.gl;\n    canvas.width = width;\n    canvas.height = height;\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.uniform2f(cache.resolutionLocation, width, height);\n    let count = 0;\n\n    for (let i = 0, ii = figures.length; i < ii; i++) {\n      switch (figures[i].type) {\n        case \"lattice\":\n          const rows = figures[i].coords.length / figures[i].verticesPerRow | 0;\n          count += (rows - 1) * (figures[i].verticesPerRow - 1) * 6;\n          break;\n\n        case \"triangles\":\n          count += figures[i].coords.length;\n          break;\n      }\n    }\n\n    const coords = new Float32Array(count * 2);\n    const colors = new Uint8Array(count * 3);\n    const coordsMap = context.coords,\n          colorsMap = context.colors;\n    let pIndex = 0,\n        cIndex = 0;\n\n    for (let i = 0, ii = figures.length; i < ii; i++) {\n      const figure = figures[i],\n            ps = figure.coords,\n            cs = figure.colors;\n\n      switch (figure.type) {\n        case \"lattice\":\n          const cols = figure.verticesPerRow;\n          const rows = ps.length / cols | 0;\n\n          for (let row = 1; row < rows; row++) {\n            let offset = row * cols + 1;\n\n            for (let col = 1; col < cols; col++, offset++) {\n              coords[pIndex] = coordsMap[ps[offset - cols - 1]];\n              coords[pIndex + 1] = coordsMap[ps[offset - cols - 1] + 1];\n              coords[pIndex + 2] = coordsMap[ps[offset - cols]];\n              coords[pIndex + 3] = coordsMap[ps[offset - cols] + 1];\n              coords[pIndex + 4] = coordsMap[ps[offset - 1]];\n              coords[pIndex + 5] = coordsMap[ps[offset - 1] + 1];\n              colors[cIndex] = colorsMap[cs[offset - cols - 1]];\n              colors[cIndex + 1] = colorsMap[cs[offset - cols - 1] + 1];\n              colors[cIndex + 2] = colorsMap[cs[offset - cols - 1] + 2];\n              colors[cIndex + 3] = colorsMap[cs[offset - cols]];\n              colors[cIndex + 4] = colorsMap[cs[offset - cols] + 1];\n              colors[cIndex + 5] = colorsMap[cs[offset - cols] + 2];\n              colors[cIndex + 6] = colorsMap[cs[offset - 1]];\n              colors[cIndex + 7] = colorsMap[cs[offset - 1] + 1];\n              colors[cIndex + 8] = colorsMap[cs[offset - 1] + 2];\n              coords[pIndex + 6] = coords[pIndex + 2];\n              coords[pIndex + 7] = coords[pIndex + 3];\n              coords[pIndex + 8] = coords[pIndex + 4];\n              coords[pIndex + 9] = coords[pIndex + 5];\n              coords[pIndex + 10] = coordsMap[ps[offset]];\n              coords[pIndex + 11] = coordsMap[ps[offset] + 1];\n              colors[cIndex + 9] = colors[cIndex + 3];\n              colors[cIndex + 10] = colors[cIndex + 4];\n              colors[cIndex + 11] = colors[cIndex + 5];\n              colors[cIndex + 12] = colors[cIndex + 6];\n              colors[cIndex + 13] = colors[cIndex + 7];\n              colors[cIndex + 14] = colors[cIndex + 8];\n              colors[cIndex + 15] = colorsMap[cs[offset]];\n              colors[cIndex + 16] = colorsMap[cs[offset] + 1];\n              colors[cIndex + 17] = colorsMap[cs[offset] + 2];\n              pIndex += 12;\n              cIndex += 18;\n            }\n          }\n\n          break;\n\n        case \"triangles\":\n          for (let j = 0, jj = ps.length; j < jj; j++) {\n            coords[pIndex] = coordsMap[ps[j]];\n            coords[pIndex + 1] = coordsMap[ps[j] + 1];\n            colors[cIndex] = colorsMap[cs[j]];\n            colors[cIndex + 1] = colorsMap[cs[j] + 1];\n            colors[cIndex + 2] = colorsMap[cs[j] + 2];\n            pIndex += 2;\n            cIndex += 3;\n          }\n\n          break;\n      }\n    }\n\n    if (backgroundColor) {\n      gl.clearColor(backgroundColor[0] / 255, backgroundColor[1] / 255, backgroundColor[2] / 255, 1.0);\n    } else {\n      gl.clearColor(0, 0, 0, 0);\n    }\n\n    gl.clear(gl.COLOR_BUFFER_BIT);\n    const coordsBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, coordsBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, coords, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.positionLocation);\n    gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n    const colorsBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, colorsBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.colorLocation);\n    gl.vertexAttribPointer(cache.colorLocation, 3, gl.UNSIGNED_BYTE, false, 0, 0);\n    gl.uniform2f(cache.scaleLocation, context.scaleX, context.scaleY);\n    gl.uniform2f(cache.offsetLocation, context.offsetX, context.offsetY);\n    gl.drawArrays(gl.TRIANGLES, 0, count);\n    gl.flush();\n    gl.deleteBuffer(coordsBuffer);\n    gl.deleteBuffer(colorsBuffer);\n    return canvas;\n  }\n\n  return {\n    tryInitGL() {\n      try {\n        generateGL();\n        return !!currentGL;\n      } catch (ex) {}\n\n      return false;\n    },\n\n    composeSMask,\n    drawFigures,\n\n    cleanup() {\n      if (smaskCache?.canvas) {\n        smaskCache.canvas.width = 0;\n        smaskCache.canvas.height = 0;\n      }\n\n      if (figuresCache?.canvas) {\n        figuresCache.canvas.width = 0;\n        figuresCache.canvas.height = 0;\n      }\n\n      smaskCache = null;\n      figuresCache = null;\n    }\n\n  };\n}();","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GlobalWorkerOptions = void 0;\nconst GlobalWorkerOptions = Object.create(null);\nexports.GlobalWorkerOptions = GlobalWorkerOptions;\nGlobalWorkerOptions.workerPort = GlobalWorkerOptions.workerPort === undefined ? null : GlobalWorkerOptions.workerPort;\nGlobalWorkerOptions.workerSrc = GlobalWorkerOptions.workerSrc === undefined ? \"\" : GlobalWorkerOptions.workerSrc;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"addLinkAttributes\", {\n  enumerable: true,\n  get: function () {\n    return _display_utils.addLinkAttributes;\n  }\n});\nObject.defineProperty(exports, \"getFilenameFromUrl\", {\n  enumerable: true,\n  get: function () {\n    return _display_utils.getFilenameFromUrl;\n  }\n});\nObject.defineProperty(exports, \"LinkTarget\", {\n  enumerable: true,\n  get: function () {\n    return _display_utils.LinkTarget;\n  }\n});\nObject.defineProperty(exports, \"loadScript\", {\n  enumerable: true,\n  get: function () {\n    return _display_utils.loadScript;\n  }\n});\nObject.defineProperty(exports, \"PDFDateString\", {\n  enumerable: true,\n  get: function () {\n    return _display_utils.PDFDateString;\n  }\n});\nObject.defineProperty(exports, \"RenderingCancelledException\", {\n  enumerable: true,\n  get: function () {\n    return _display_utils.RenderingCancelledException;\n  }\n});\nObject.defineProperty(exports, \"build\", {\n  enumerable: true,\n  get: function () {\n    return _api.build;\n  }\n});\nObject.defineProperty(exports, \"getDocument\", {\n  enumerable: true,\n  get: function () {\n    return _api.getDocument;\n  }\n});\nObject.defineProperty(exports, \"LoopbackPort\", {\n  enumerable: true,\n  get: function () {\n    return _api.LoopbackPort;\n  }\n});\nObject.defineProperty(exports, \"PDFDataRangeTransport\", {\n  enumerable: true,\n  get: function () {\n    return _api.PDFDataRangeTransport;\n  }\n});\nObject.defineProperty(exports, \"PDFWorker\", {\n  enumerable: true,\n  get: function () {\n    return _api.PDFWorker;\n  }\n});\nObject.defineProperty(exports, \"version\", {\n  enumerable: true,\n  get: function () {\n    return _api.version;\n  }\n});\nObject.defineProperty(exports, \"CMapCompressionType\", {\n  enumerable: true,\n  get: function () {\n    return _util.CMapCompressionType;\n  }\n});\nObject.defineProperty(exports, \"createObjectURL\", {\n  enumerable: true,\n  get: function () {\n    return _util.createObjectURL;\n  }\n});\nObject.defineProperty(exports, \"createPromiseCapability\", {\n  enumerable: true,\n  get: function () {\n    return _util.createPromiseCapability;\n  }\n});\nObject.defineProperty(exports, \"createValidAbsoluteUrl\", {\n  enumerable: true,\n  get: function () {\n    return _util.createValidAbsoluteUrl;\n  }\n});\nObject.defineProperty(exports, \"InvalidPDFException\", {\n  enumerable: true,\n  get: function () {\n    return _util.InvalidPDFException;\n  }\n});\nObject.defineProperty(exports, \"MissingPDFException\", {\n  enumerable: true,\n  get: function () {\n    return _util.MissingPDFException;\n  }\n});\nObject.defineProperty(exports, \"OPS\", {\n  enumerable: true,\n  get: function () {\n    return _util.OPS;\n  }\n});\nObject.defineProperty(exports, \"PasswordResponses\", {\n  enumerable: true,\n  get: function () {\n    return _util.PasswordResponses;\n  }\n});\nObject.defineProperty(exports, \"PermissionFlag\", {\n  enumerable: true,\n  get: function () {\n    return _util.PermissionFlag;\n  }\n});\nObject.defineProperty(exports, \"removeNullCharacters\", {\n  enumerable: true,\n  get: function () {\n    return _util.removeNullCharacters;\n  }\n});\nObject.defineProperty(exports, \"shadow\", {\n  enumerable: true,\n  get: function () {\n    return _util.shadow;\n  }\n});\nObject.defineProperty(exports, \"UnexpectedResponseException\", {\n  enumerable: true,\n  get: function () {\n    return _util.UnexpectedResponseException;\n  }\n});\nObject.defineProperty(exports, \"UNSUPPORTED_FEATURES\", {\n  enumerable: true,\n  get: function () {\n    return _util.UNSUPPORTED_FEATURES;\n  }\n});\nObject.defineProperty(exports, \"Util\", {\n  enumerable: true,\n  get: function () {\n    return _util.Util;\n  }\n});\nObject.defineProperty(exports, \"VerbosityLevel\", {\n  enumerable: true,\n  get: function () {\n    return _util.VerbosityLevel;\n  }\n});\nObject.defineProperty(exports, \"AnnotationLayer\", {\n  enumerable: true,\n  get: function () {\n    return _annotation_layer.AnnotationLayer;\n  }\n});\nObject.defineProperty(exports, \"apiCompatibilityParams\", {\n  enumerable: true,\n  get: function () {\n    return _api_compatibility.apiCompatibilityParams;\n  }\n});\nObject.defineProperty(exports, \"GlobalWorkerOptions\", {\n  enumerable: true,\n  get: function () {\n    return _worker_options.GlobalWorkerOptions;\n  }\n});\nObject.defineProperty(exports, \"renderTextLayer\", {\n  enumerable: true,\n  get: function () {\n    return _text_layer.renderTextLayer;\n  }\n});\nObject.defineProperty(exports, \"SVGGraphics\", {\n  enumerable: true,\n  get: function () {\n    return _svg.SVGGraphics;\n  }\n});\n\nvar _display_utils = require(\"./display/display_utils.js\");\n\nvar _api = require(\"./display/api.js\");\n\nvar _util = require(\"./shared/util.js\");\n\nvar _annotation_layer = require(\"./display/annotation_layer.js\");\n\nvar _api_compatibility = require(\"./display/api_compatibility.js\");\n\nvar _worker_options = require(\"./display/worker_options.js\");\n\nvar _text_layer = require(\"./display/text_layer.js\");\n\nvar _svg = require(\"./display/svg.js\");\n\nconst pdfjsVersion = '2.7.570';\nconst pdfjsBuild = 'f2c7338b0';\n{\n  const {\n    isNodeJS\n  } = require(\"./shared/is_node.js\");\n\n  if (isNodeJS) {\n    const PDFNodeStream = require(\"./display/node_stream.js\").PDFNodeStream;\n\n    (0, _api.setPDFNetworkStreamFactory)(params => {\n      return new PDFNodeStream(params);\n    });\n  } else {\n    const PDFNetworkStream = require(\"./display/network.js\").PDFNetworkStream;\n\n    let PDFFetchStream;\n\n    if ((0, _display_utils.isFetchSupported)()) {\n      PDFFetchStream = require(\"./display/fetch_stream.js\").PDFFetchStream;\n    }\n\n    (0, _api.setPDFNetworkStreamFactory)(params => {\n      if (PDFFetchStream && (0, _display_utils.isValidFetchUrl)(params.url)) {\n        return new PDFFetchStream(params);\n      }\n\n      return new PDFNetworkStream(params);\n    });\n  }\n}","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nvar _is_node = require(\"./is_node.js\");\n\n;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isNodeJS = void 0;\nconst isNodeJS = typeof process === \"object\" && process + \"\" === \"[object process]\" && !process.versions.nw && !(process.versions.electron && process.type && process.type !== \"browser\");\nexports.isNodeJS = isNodeJS;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MessageHandler = void 0;\n\nvar _util = require(\"./util.js\");\n\nconst CallbackKind = {\n  UNKNOWN: 0,\n  DATA: 1,\n  ERROR: 2\n};\nconst StreamKind = {\n  UNKNOWN: 0,\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8\n};\n\nfunction wrapReason(reason) {\n  if (typeof reason !== \"object\" || reason === null) {\n    return reason;\n  }\n\n  switch (reason.name) {\n    case \"AbortException\":\n      return new _util.AbortException(reason.message);\n\n    case \"MissingPDFException\":\n      return new _util.MissingPDFException(reason.message);\n\n    case \"UnexpectedResponseException\":\n      return new _util.UnexpectedResponseException(reason.message, reason.status);\n\n    case \"UnknownErrorException\":\n      return new _util.UnknownErrorException(reason.message, reason.details);\n\n    default:\n      return new _util.UnknownErrorException(reason.message, reason.toString());\n  }\n}\n\nclass MessageHandler {\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.postMessageTransfers = true;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n\n    this._onComObjOnMessage = event => {\n      const data = event.data;\n\n      if (data.targetName !== this.sourceName) {\n        return;\n      }\n\n      if (data.stream) {\n        this._processStreamMessage(data);\n\n        return;\n      }\n\n      if (data.callback) {\n        const callbackId = data.callbackId;\n        const capability = this.callbackCapabilities[callbackId];\n\n        if (!capability) {\n          throw new Error(`Cannot resolve callback ${callbackId}`);\n        }\n\n        delete this.callbackCapabilities[callbackId];\n\n        if (data.callback === CallbackKind.DATA) {\n          capability.resolve(data.data);\n        } else if (data.callback === CallbackKind.ERROR) {\n          capability.reject(wrapReason(data.reason));\n        } else {\n          throw new Error(\"Unexpected callback case\");\n        }\n\n        return;\n      }\n\n      const action = this.actionHandler[data.action];\n\n      if (!action) {\n        throw new Error(`Unknown action from worker: ${data.action}`);\n      }\n\n      if (data.callbackId) {\n        const cbSourceName = this.sourceName;\n        const cbTargetName = data.sourceName;\n        new Promise(function (resolve) {\n          resolve(action(data.data));\n        }).then(function (result) {\n          comObj.postMessage({\n            sourceName: cbSourceName,\n            targetName: cbTargetName,\n            callback: CallbackKind.DATA,\n            callbackId: data.callbackId,\n            data: result\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName: cbSourceName,\n            targetName: cbTargetName,\n            callback: CallbackKind.ERROR,\n            callbackId: data.callbackId,\n            reason: wrapReason(reason)\n          });\n        });\n        return;\n      }\n\n      if (data.streamId) {\n        this._createStreamSink(data);\n\n        return;\n      }\n\n      action(data.data);\n    };\n\n    comObj.addEventListener(\"message\", this._onComObjOnMessage);\n  }\n\n  on(actionName, handler) {\n    const ah = this.actionHandler;\n\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n\n    ah[actionName] = handler;\n  }\n\n  send(actionName, data, transfers) {\n    this._postMessage({\n      sourceName: this.sourceName,\n      targetName: this.targetName,\n      action: actionName,\n      data\n    }, transfers);\n  }\n\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = (0, _util.createPromiseCapability)();\n    this.callbackCapabilities[callbackId] = capability;\n\n    try {\n      this._postMessage({\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        callbackId,\n        data\n      }, transfers);\n    } catch (ex) {\n      capability.reject(ex);\n    }\n\n    return capability.promise;\n  }\n\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++;\n    const sourceName = this.sourceName;\n    const targetName = this.targetName;\n    const comObj = this.comObj;\n    return new ReadableStream({\n      start: controller => {\n        const startCapability = (0, _util.createPromiseCapability)();\n        this.streamControllers[streamId] = {\n          controller,\n          startCall: startCapability,\n          pullCall: null,\n          cancelCall: null,\n          isClosed: false\n        };\n\n        this._postMessage({\n          sourceName,\n          targetName,\n          action: actionName,\n          streamId,\n          data,\n          desiredSize: controller.desiredSize\n        }, transfers);\n\n        return startCapability.promise;\n      },\n      pull: controller => {\n        const pullCapability = (0, _util.createPromiseCapability)();\n        this.streamControllers[streamId].pullCall = pullCapability;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.PULL,\n          streamId,\n          desiredSize: controller.desiredSize\n        });\n        return pullCapability.promise;\n      },\n      cancel: reason => {\n        (0, _util.assert)(reason instanceof Error, \"cancel must have a valid reason\");\n        const cancelCapability = (0, _util.createPromiseCapability)();\n        this.streamControllers[streamId].cancelCall = cancelCapability;\n        this.streamControllers[streamId].isClosed = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CANCEL,\n          streamId,\n          reason: wrapReason(reason)\n        });\n        return cancelCapability.promise;\n      }\n    }, queueingStrategy);\n  }\n\n  _createStreamSink(data) {\n    const self = this;\n    const action = this.actionHandler[data.action];\n    const streamId = data.streamId;\n    const sourceName = this.sourceName;\n    const targetName = data.sourceName;\n    const comObj = this.comObj;\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = (0, _util.createPromiseCapability)();\n          this.ready = this.sinkCapability.promise;\n        }\n\n        self._postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ENQUEUE,\n          streamId,\n          chunk\n        }, transfers);\n      },\n\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId\n        });\n        delete self.streamSinks[streamId];\n      },\n\n      error(reason) {\n        (0, _util.assert)(reason instanceof Error, \"error must have a valid reason\");\n\n        if (this.isCancelled) {\n          return;\n        }\n\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason)\n        });\n      },\n\n      sinkCapability: (0, _util.createPromiseCapability)(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null\n    };\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n    new Promise(function (resolve) {\n      resolve(action(data.data, streamSink));\n    }).then(function () {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        success: true\n      });\n    }, function (reason) {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        reason: wrapReason(reason)\n      });\n    });\n  }\n\n  _processStreamMessage(data) {\n    const streamId = data.streamId;\n    const sourceName = this.sourceName;\n    const targetName = data.sourceName;\n    const comObj = this.comObj;\n\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          this.streamControllers[streamId].startCall.resolve();\n        } else {\n          this.streamControllers[streamId].startCall.reject(wrapReason(data.reason));\n        }\n\n        break;\n\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          this.streamControllers[streamId].pullCall.resolve();\n        } else {\n          this.streamControllers[streamId].pullCall.reject(wrapReason(data.reason));\n        }\n\n        break;\n\n      case StreamKind.PULL:\n        if (!this.streamSinks[streamId]) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n          break;\n        }\n\n        if (this.streamSinks[streamId].desiredSize <= 0 && data.desiredSize > 0) {\n          this.streamSinks[streamId].sinkCapability.resolve();\n        }\n\n        this.streamSinks[streamId].desiredSize = data.desiredSize;\n        const {\n          onPull\n        } = this.streamSinks[data.streamId];\n        new Promise(function (resolve) {\n          resolve(onPull && onPull());\n        }).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        break;\n\n      case StreamKind.ENQUEUE:\n        (0, _util.assert)(this.streamControllers[streamId], \"enqueue should have stream controller\");\n\n        if (this.streamControllers[streamId].isClosed) {\n          break;\n        }\n\n        this.streamControllers[streamId].controller.enqueue(data.chunk);\n        break;\n\n      case StreamKind.CLOSE:\n        (0, _util.assert)(this.streamControllers[streamId], \"close should have stream controller\");\n\n        if (this.streamControllers[streamId].isClosed) {\n          break;\n        }\n\n        this.streamControllers[streamId].isClosed = true;\n        this.streamControllers[streamId].controller.close();\n\n        this._deleteStreamController(streamId);\n\n        break;\n\n      case StreamKind.ERROR:\n        (0, _util.assert)(this.streamControllers[streamId], \"error should have stream controller\");\n        this.streamControllers[streamId].controller.error(wrapReason(data.reason));\n\n        this._deleteStreamController(streamId);\n\n        break;\n\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          this.streamControllers[streamId].cancelCall.resolve();\n        } else {\n          this.streamControllers[streamId].cancelCall.reject(wrapReason(data.reason));\n        }\n\n        this._deleteStreamController(streamId);\n\n        break;\n\n      case StreamKind.CANCEL:\n        if (!this.streamSinks[streamId]) {\n          break;\n        }\n\n        const {\n          onCancel\n        } = this.streamSinks[data.streamId];\n        new Promise(function (resolve) {\n          resolve(onCancel && onCancel(wrapReason(data.reason)));\n        }).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        this.streamSinks[streamId].sinkCapability.reject(wrapReason(data.reason));\n        this.streamSinks[streamId].isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n\n  async _deleteStreamController(streamId) {\n    await Promise.allSettled([this.streamControllers[streamId].startCall, this.streamControllers[streamId].pullCall, this.streamControllers[streamId].cancelCall].map(function (capability) {\n      return capability && capability.promise;\n    }));\n    delete this.streamControllers[streamId];\n  }\n\n  _postMessage(message, transfers) {\n    if (transfers && this.postMessageTransfers) {\n      this.comObj.postMessage(message, transfers);\n    } else {\n      this.comObj.postMessage(message);\n    }\n  }\n\n  destroy() {\n    this.comObj.removeEventListener(\"message\", this._onComObjOnMessage);\n  }\n\n}\n\nexports.MessageHandler = MessageHandler;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ColorConverters = void 0;\n\nfunction makeColorComp(n) {\n  return Math.floor(Math.max(0, Math.min(1, n)) * 255).toString(16).padStart(2, \"0\");\n}\n\nclass ColorConverters {\n  static CMYK_G([c, y, m, k]) {\n    return [\"G\", 1 - Math.min(1, 0.3 * c + 0.59 * m + 0.11 * y + k)];\n  }\n\n  static G_CMYK([g]) {\n    return [\"CMYK\", 0, 0, 0, 1 - g];\n  }\n\n  static G_RGB([g]) {\n    return [\"RGB\", g, g, g];\n  }\n\n  static G_HTML([g]) {\n    const G = makeColorComp(g);\n    return `#${G}${G}${G}`;\n  }\n\n  static RGB_G([r, g, b]) {\n    return [\"G\", 0.3 * r + 0.59 * g + 0.11 * b];\n  }\n\n  static RGB_HTML([r, g, b]) {\n    const R = makeColorComp(r);\n    const G = makeColorComp(g);\n    const B = makeColorComp(b);\n    return `#${R}${G}${B}`;\n  }\n\n  static T_HTML() {\n    return \"#00000000\";\n  }\n\n  static CMYK_RGB([c, y, m, k]) {\n    return [\"RGB\", 1 - Math.min(1, c + k), 1 - Math.min(1, m + k), 1 - Math.min(1, y + k)];\n  }\n\n  static CMYK_HTML(components) {\n    return this.RGB_HTML(this.CMYK_RGB(components));\n  }\n\n  static RGB_CMYK([r, g, b]) {\n    const c = 1 - r;\n    const m = 1 - g;\n    const y = 1 - b;\n    const k = Math.min(c, m, y);\n    return [\"CMYK\", c, m, y, k];\n  }\n\n}\n\nexports.ColorConverters = ColorConverters;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.arrayByteLength = arrayByteLength;\nexports.arraysToBytes = arraysToBytes;\nexports.assert = assert;\nexports.bytesToString = bytesToString;\nexports.createPromiseCapability = createPromiseCapability;\nexports.createValidAbsoluteUrl = createValidAbsoluteUrl;\nexports.encodeToXmlString = encodeToXmlString;\nexports.escapeString = escapeString;\nexports.getModificationDate = getModificationDate;\nexports.getVerbosityLevel = getVerbosityLevel;\nexports.info = info;\nexports.isArrayBuffer = isArrayBuffer;\nexports.isArrayEqual = isArrayEqual;\nexports.isAscii = isAscii;\nexports.isBool = isBool;\nexports.isNum = isNum;\nexports.isSameOrigin = isSameOrigin;\nexports.isString = isString;\nexports.objectFromEntries = objectFromEntries;\nexports.objectSize = objectSize;\nexports.removeNullCharacters = removeNullCharacters;\nexports.setVerbosityLevel = setVerbosityLevel;\nexports.shadow = shadow;\nexports.string32 = string32;\nexports.stringToBytes = stringToBytes;\nexports.stringToPDFString = stringToPDFString;\nexports.stringToUTF16BEString = stringToUTF16BEString;\nexports.stringToUTF8String = stringToUTF8String;\nexports.unreachable = unreachable;\nexports.utf8StringToString = utf8StringToString;\nexports.warn = warn;\nexports.VerbosityLevel = exports.Util = exports.UNSUPPORTED_FEATURES = exports.UnknownErrorException = exports.UnexpectedResponseException = exports.TextRenderingMode = exports.StreamType = exports.PermissionFlag = exports.PasswordResponses = exports.PasswordException = exports.PageActionEventType = exports.OPS = exports.MissingPDFException = exports.IsLittleEndianCached = exports.IsEvalSupportedCached = exports.InvalidPDFException = exports.ImageKind = exports.IDENTITY_MATRIX = exports.FormatError = exports.FontType = exports.FONT_IDENTITY_MATRIX = exports.DocumentActionEventType = exports.createObjectURL = exports.CMapCompressionType = exports.BaseException = exports.AnnotationType = exports.AnnotationStateModelType = exports.AnnotationReviewState = exports.AnnotationReplyType = exports.AnnotationMarkedState = exports.AnnotationFlag = exports.AnnotationFieldFlag = exports.AnnotationBorderStyleType = exports.AnnotationActionEventType = exports.AbortException = void 0;\n\nrequire(\"./compatibility.js\");\n\nconst IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\nexports.IDENTITY_MATRIX = IDENTITY_MATRIX;\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\nexports.FONT_IDENTITY_MATRIX = FONT_IDENTITY_MATRIX;\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800\n};\nexports.PermissionFlag = PermissionFlag;\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4\n};\nexports.TextRenderingMode = TextRenderingMode;\nconst ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3\n};\nexports.ImageKind = ImageKind;\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26\n};\nexports.AnnotationType = AnnotationType;\nconst AnnotationStateModelType = {\n  MARKED: \"Marked\",\n  REVIEW: \"Review\"\n};\nexports.AnnotationStateModelType = AnnotationStateModelType;\nconst AnnotationMarkedState = {\n  MARKED: \"Marked\",\n  UNMARKED: \"Unmarked\"\n};\nexports.AnnotationMarkedState = AnnotationMarkedState;\nconst AnnotationReviewState = {\n  ACCEPTED: \"Accepted\",\n  REJECTED: \"Rejected\",\n  CANCELLED: \"Cancelled\",\n  COMPLETED: \"Completed\",\n  NONE: \"None\"\n};\nexports.AnnotationReviewState = AnnotationReviewState;\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\"\n};\nexports.AnnotationReplyType = AnnotationReplyType;\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200\n};\nexports.AnnotationFlag = AnnotationFlag;\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000\n};\nexports.AnnotationFieldFlag = AnnotationFieldFlag;\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5\n};\nexports.AnnotationBorderStyleType = AnnotationBorderStyleType;\nconst AnnotationActionEventType = {\n  E: \"Mouse Enter\",\n  X: \"Mouse Exit\",\n  D: \"Mouse Down\",\n  U: \"Mouse Up\",\n  Fo: \"Focus\",\n  Bl: \"Blur\",\n  PO: \"PageOpen\",\n  PC: \"PageClose\",\n  PV: \"PageVisible\",\n  PI: \"PageInvisible\",\n  K: \"Keystroke\",\n  F: \"Format\",\n  V: \"Validate\",\n  C: \"Calculate\"\n};\nexports.AnnotationActionEventType = AnnotationActionEventType;\nconst DocumentActionEventType = {\n  WC: \"WillClose\",\n  WS: \"WillSave\",\n  DS: \"DidSave\",\n  WP: \"WillPrint\",\n  DP: \"DidPrint\"\n};\nexports.DocumentActionEventType = DocumentActionEventType;\nconst PageActionEventType = {\n  O: \"PageOpen\",\n  C: \"PageClose\"\n};\nexports.PageActionEventType = PageActionEventType;\nconst StreamType = {\n  UNKNOWN: \"UNKNOWN\",\n  FLATE: \"FLATE\",\n  LZW: \"LZW\",\n  DCT: \"DCT\",\n  JPX: \"JPX\",\n  JBIG: \"JBIG\",\n  A85: \"A85\",\n  AHX: \"AHX\",\n  CCF: \"CCF\",\n  RLX: \"RLX\"\n};\nexports.StreamType = StreamType;\nconst FontType = {\n  UNKNOWN: \"UNKNOWN\",\n  TYPE1: \"TYPE1\",\n  TYPE1C: \"TYPE1C\",\n  CIDFONTTYPE0: \"CIDFONTTYPE0\",\n  CIDFONTTYPE0C: \"CIDFONTTYPE0C\",\n  TRUETYPE: \"TRUETYPE\",\n  CIDFONTTYPE2: \"CIDFONTTYPE2\",\n  TYPE3: \"TYPE3\",\n  OPENTYPE: \"OPENTYPE\",\n  TYPE0: \"TYPE0\",\n  MMTYPE1: \"MMTYPE1\"\n};\nexports.FontType = FontType;\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5\n};\nexports.VerbosityLevel = VerbosityLevel;\nconst CMapCompressionType = {\n  NONE: 0,\n  BINARY: 1,\n  STREAM: 2\n};\nexports.CMapCompressionType = CMapCompressionType;\nconst OPS = {\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotations: 78,\n  endAnnotations: 79,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintJpegXObject: 82,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91\n};\nexports.OPS = OPS;\nconst UNSUPPORTED_FEATURES = {\n  unknown: \"unknown\",\n  forms: \"forms\",\n  javaScript: \"javaScript\",\n  smask: \"smask\",\n  shadingPattern: \"shadingPattern\",\n  font: \"font\",\n  errorTilingPattern: \"errorTilingPattern\",\n  errorExtGState: \"errorExtGState\",\n  errorXObject: \"errorXObject\",\n  errorFontLoadType3: \"errorFontLoadType3\",\n  errorFontState: \"errorFontState\",\n  errorFontMissing: \"errorFontMissing\",\n  errorFontTranslate: \"errorFontTranslate\",\n  errorColorSpace: \"errorColorSpace\",\n  errorOperatorList: \"errorOperatorList\",\n  errorFontToUnicode: \"errorFontToUnicode\",\n  errorFontLoadNative: \"errorFontLoadNative\",\n  errorFontGetPath: \"errorFontGetPath\",\n  errorMarkedContent: \"errorMarkedContent\"\n};\nexports.UNSUPPORTED_FEATURES = UNSUPPORTED_FEATURES;\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2\n};\nexports.PasswordResponses = PasswordResponses;\nlet verbosity = VerbosityLevel.WARNINGS;\n\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\n\nfunction getVerbosityLevel() {\n  return verbosity;\n}\n\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.log(`Info: ${msg}`);\n  }\n}\n\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.log(`Warning: ${msg}`);\n  }\n}\n\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\n\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\n\nfunction isSameOrigin(baseUrl, otherUrl) {\n  let base;\n\n  try {\n    base = new URL(baseUrl);\n\n    if (!base.origin || base.origin === \"null\") {\n      return false;\n    }\n  } catch (e) {\n    return false;\n  }\n\n  const other = new URL(otherUrl, base);\n  return base.origin === other.origin;\n}\n\nfunction _isValidProtocol(url) {\n  if (!url) {\n    return false;\n  }\n\n  switch (url.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n\n    default:\n      return false;\n  }\n}\n\nfunction createValidAbsoluteUrl(url, baseUrl) {\n  if (!url) {\n    return null;\n  }\n\n  try {\n    const absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n\n    if (_isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch (ex) {}\n\n  return null;\n}\n\nfunction shadow(obj, prop, value) {\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: true,\n    configurable: true,\n    writable: false\n  });\n  return value;\n}\n\nconst BaseException = function BaseExceptionClosure() {\n  function BaseException(message) {\n    if (this.constructor === BaseException) {\n      unreachable(\"Cannot initialize BaseException.\");\n    }\n\n    this.message = message;\n    this.name = this.constructor.name;\n  }\n\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n  return BaseException;\n}();\n\nexports.BaseException = BaseException;\n\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg);\n    this.code = code;\n  }\n\n}\n\nexports.PasswordException = PasswordException;\n\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg);\n    this.details = details;\n  }\n\n}\n\nexports.UnknownErrorException = UnknownErrorException;\n\nclass InvalidPDFException extends BaseException {}\n\nexports.InvalidPDFException = InvalidPDFException;\n\nclass MissingPDFException extends BaseException {}\n\nexports.MissingPDFException = MissingPDFException;\n\nclass UnexpectedResponseException extends BaseException {\n  constructor(msg, status) {\n    super(msg);\n    this.status = status;\n  }\n\n}\n\nexports.UnexpectedResponseException = UnexpectedResponseException;\n\nclass FormatError extends BaseException {}\n\nexports.FormatError = FormatError;\n\nclass AbortException extends BaseException {}\n\nexports.AbortException = AbortException;\nconst NullCharactersRegExp = /\\x00/g;\n\nfunction removeNullCharacters(str) {\n  if (typeof str !== \"string\") {\n    warn(\"The argument for removeNullCharacters must be a string.\");\n    return str;\n  }\n\n  return str.replace(NullCharactersRegExp, \"\");\n}\n\nfunction bytesToString(bytes) {\n  assert(bytes !== null && typeof bytes === \"object\" && bytes.length !== undefined, \"Invalid argument for bytesToString\");\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n\n  const strBuf = [];\n\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n\n  return strBuf.join(\"\");\n}\n\nfunction stringToBytes(str) {\n  assert(typeof str === \"string\", \"Invalid argument for stringToBytes\");\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n\n  return bytes;\n}\n\nfunction arrayByteLength(arr) {\n  if (arr.length !== undefined) {\n    return arr.length;\n  }\n\n  assert(arr.byteLength !== undefined, \"arrayByteLength - invalid argument.\");\n  return arr.byteLength;\n}\n\nfunction arraysToBytes(arr) {\n  const length = arr.length;\n\n  if (length === 1 && arr[0] instanceof Uint8Array) {\n    return arr[0];\n  }\n\n  let resultLength = 0;\n\n  for (let i = 0; i < length; i++) {\n    resultLength += arrayByteLength(arr[i]);\n  }\n\n  let pos = 0;\n  const data = new Uint8Array(resultLength);\n\n  for (let i = 0; i < length; i++) {\n    let item = arr[i];\n\n    if (!(item instanceof Uint8Array)) {\n      if (typeof item === \"string\") {\n        item = stringToBytes(item);\n      } else {\n        item = new Uint8Array(item);\n      }\n    }\n\n    const itemLength = item.byteLength;\n    data.set(item, pos);\n    pos += itemLength;\n  }\n\n  return data;\n}\n\nfunction string32(value) {\n  return String.fromCharCode(value >> 24 & 0xff, value >> 16 & 0xff, value >> 8 & 0xff, value & 0xff);\n}\n\nfunction objectSize(obj) {\n  return Object.keys(obj).length;\n}\n\nfunction objectFromEntries(iterable) {\n  return Object.assign(Object.create(null), Object.fromEntries(iterable));\n}\n\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\n\nconst IsLittleEndianCached = {\n  get value() {\n    return shadow(this, \"value\", isLittleEndian());\n  }\n\n};\nexports.IsLittleEndianCached = IsLittleEndianCached;\n\nfunction isEvalSupported() {\n  try {\n    new Function(\"\");\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nconst IsEvalSupportedCached = {\n  get value() {\n    return shadow(this, \"value\", isEvalSupported());\n  }\n\n};\nexports.IsEvalSupportedCached = IsEvalSupportedCached;\nconst hexNumbers = [...Array(256).keys()].map(n => n.toString(16).padStart(2, \"0\"));\n\nclass Util {\n  static makeHexColor(r, g, b) {\n    return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n  }\n\n  static transform(m1, m2) {\n    return [m1[0] * m2[0] + m1[2] * m2[1], m1[1] * m2[0] + m1[3] * m2[1], m1[0] * m2[2] + m1[2] * m2[3], m1[1] * m2[2] + m1[3] * m2[3], m1[0] * m2[4] + m1[2] * m2[5] + m1[4], m1[1] * m2[4] + m1[3] * m2[5] + m1[5]];\n  }\n\n  static applyTransform(p, m) {\n    const xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    const yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  }\n\n  static applyInverseTransform(p, m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    const xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    const yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  }\n\n  static getAxialAlignedBoundingBox(r, m) {\n    const p1 = Util.applyTransform(r, m);\n    const p2 = Util.applyTransform(r.slice(2, 4), m);\n    const p3 = Util.applyTransform([r[0], r[3]], m);\n    const p4 = Util.applyTransform([r[2], r[1]], m);\n    return [Math.min(p1[0], p2[0], p3[0], p4[0]), Math.min(p1[1], p2[1], p3[1], p4[1]), Math.max(p1[0], p2[0], p3[0], p4[0]), Math.max(p1[1], p2[1], p3[1], p4[1])];\n  }\n\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d, (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d];\n  }\n\n  static apply3dTransform(m, v) {\n    return [m[0] * v[0] + m[1] * v[1] + m[2] * v[2], m[3] * v[0] + m[4] * v[1] + m[5] * v[2], m[6] * v[0] + m[7] * v[1] + m[8] * v[2]];\n  }\n\n  static singularValueDecompose2dScale(m) {\n    const transpose = [m[0], m[2], m[1], m[3]];\n    const a = m[0] * transpose[0] + m[1] * transpose[2];\n    const b = m[0] * transpose[1] + m[1] * transpose[3];\n    const c = m[2] * transpose[0] + m[3] * transpose[2];\n    const d = m[2] * transpose[1] + m[3] * transpose[3];\n    const first = (a + d) / 2;\n    const second = Math.sqrt((a + d) * (a + d) - 4 * (a * d - c * b)) / 2;\n    const sx = first + second || 1;\n    const sy = first - second || 1;\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  }\n\n  static normalizeRect(rect) {\n    const r = rect.slice(0);\n\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n\n    return r;\n  }\n\n  static intersect(rect1, rect2) {\n    function compare(a, b) {\n      return a - b;\n    }\n\n    const orderedX = [rect1[0], rect1[2], rect2[0], rect2[2]].sort(compare);\n    const orderedY = [rect1[1], rect1[3], rect2[1], rect2[3]].sort(compare);\n    const result = [];\n    rect1 = Util.normalizeRect(rect1);\n    rect2 = Util.normalizeRect(rect2);\n\n    if (orderedX[0] === rect1[0] && orderedX[1] === rect2[0] || orderedX[0] === rect2[0] && orderedX[1] === rect1[0]) {\n      result[0] = orderedX[1];\n      result[2] = orderedX[2];\n    } else {\n      return null;\n    }\n\n    if (orderedY[0] === rect1[1] && orderedY[1] === rect2[1] || orderedY[0] === rect2[1] && orderedY[1] === rect1[1]) {\n      result[1] = orderedY[1];\n      result[3] = orderedY[2];\n    } else {\n      return null;\n    }\n\n    return result;\n  }\n\n}\n\nexports.Util = Util;\nconst PDFStringTranslateTable = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2D8, 0x2C7, 0x2C6, 0x2D9, 0x2DD, 0x2DB, 0x2DA, 0x2DC, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192, 0x2044, 0x2039, 0x203A, 0x2212, 0x2030, 0x201E, 0x201C, 0x201D, 0x2018, 0x2019, 0x201A, 0x2122, 0xFB01, 0xFB02, 0x141, 0x152, 0x160, 0x178, 0x17D, 0x131, 0x142, 0x153, 0x161, 0x17E, 0, 0x20AC];\n\nfunction stringToPDFString(str) {\n  const length = str.length,\n        strBuf = [];\n\n  if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n    for (let i = 2; i < length; i += 2) {\n      strBuf.push(String.fromCharCode(str.charCodeAt(i) << 8 | str.charCodeAt(i + 1)));\n    }\n  } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n    for (let i = 2; i < length; i += 2) {\n      strBuf.push(String.fromCharCode(str.charCodeAt(i + 1) << 8 | str.charCodeAt(i)));\n    }\n  } else {\n    for (let i = 0; i < length; ++i) {\n      const code = PDFStringTranslateTable[str.charCodeAt(i)];\n      strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n    }\n  }\n\n  return strBuf.join(\"\");\n}\n\nfunction escapeString(str) {\n  return str.replace(/([()\\\\\\n\\r])/g, match => {\n    if (match === \"\\n\") {\n      return \"\\\\n\";\n    } else if (match === \"\\r\") {\n      return \"\\\\r\";\n    }\n\n    return `\\\\${match}`;\n  });\n}\n\nfunction isAscii(str) {\n  return /^[\\x00-\\x7F]*$/.test(str);\n}\n\nfunction stringToUTF16BEString(str) {\n  const buf = [\"\\xFE\\xFF\"];\n\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const char = str.charCodeAt(i);\n    buf.push(String.fromCharCode(char >> 8 & 0xff));\n    buf.push(String.fromCharCode(char & 0xff));\n  }\n\n  return buf.join(\"\");\n}\n\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\n\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\n\nfunction isBool(v) {\n  return typeof v === \"boolean\";\n}\n\nfunction isNum(v) {\n  return typeof v === \"number\";\n}\n\nfunction isString(v) {\n  return typeof v === \"string\";\n}\n\nfunction isArrayBuffer(v) {\n  return typeof v === \"object\" && v !== null && v.byteLength !== undefined;\n}\n\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n\n  return arr1.every(function (element, index) {\n    return element === arr2[index];\n  });\n}\n\nfunction getModificationDate(date = new Date()) {\n  const buffer = [date.getUTCFullYear().toString(), (date.getUTCMonth() + 1).toString().padStart(2, \"0\"), date.getUTCDate().toString().padStart(2, \"0\"), date.getUTCHours().toString().padStart(2, \"0\"), date.getUTCMinutes().toString().padStart(2, \"0\"), date.getUTCSeconds().toString().padStart(2, \"0\")];\n  return buffer.join(\"\");\n}\n\nfunction createPromiseCapability() {\n  const capability = Object.create(null);\n  let isSettled = false;\n  Object.defineProperty(capability, \"settled\", {\n    get() {\n      return isSettled;\n    }\n\n  });\n  capability.promise = new Promise(function (resolve, reject) {\n    capability.resolve = function (data) {\n      isSettled = true;\n      resolve(data);\n    };\n\n    capability.reject = function (reason) {\n      isSettled = true;\n      reject(reason);\n    };\n  });\n  return capability;\n}\n\nconst createObjectURL = function createObjectURLClosure() {\n  const digits = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n  return function createObjectURL(data, contentType, forceDataSchema = false) {\n    if (!forceDataSchema && URL.createObjectURL) {\n      const blob = new Blob([data], {\n        type: contentType\n      });\n      return URL.createObjectURL(blob);\n    }\n\n    let buffer = `data:${contentType};base64,`;\n\n    for (let i = 0, ii = data.length; i < ii; i += 3) {\n      const b1 = data[i] & 0xff;\n      const b2 = data[i + 1] & 0xff;\n      const b3 = data[i + 2] & 0xff;\n      const d1 = b1 >> 2,\n            d2 = (b1 & 3) << 4 | b2 >> 4;\n      const d3 = i + 1 < ii ? (b2 & 0xf) << 2 | b3 >> 6 : 64;\n      const d4 = i + 2 < ii ? b3 & 0x3f : 64;\n      buffer += digits[d1] + digits[d2] + digits[d3] + digits[d4];\n    }\n\n    return buffer;\n  };\n}();\n\nexports.createObjectURL = createObjectURL;\nconst XMLEntities = {\n  0x3c: \"&lt;\",\n  0x3e: \"&gt;\",\n  0x26: \"&amp;\",\n  0x22: \"&quot;\",\n  0x27: \"&apos;\"\n};\n\nfunction encodeToXmlString(str) {\n  const buffer = [];\n  let start = 0;\n\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const char = str.codePointAt(i);\n\n    if (0x20 <= char && char <= 0x7e) {\n      const entity = XMLEntities[char];\n\n      if (entity) {\n        if (start < i) {\n          buffer.push(str.substring(start, i));\n        }\n\n        buffer.push(entity);\n        start = i + 1;\n      }\n    } else {\n      if (start < i) {\n        buffer.push(str.substring(start, i));\n      }\n\n      buffer.push(`&#x${char.toString(16).toUpperCase()};`);\n\n      if (char > 0xd7ff && (char < 0xe000 || char > 0xfffd)) {\n        i++;\n      }\n\n      start = i + 1;\n    }\n  }\n\n  if (buffer.length === 0) {\n    return str;\n  }\n\n  if (start < str.length) {\n    buffer.push(str.substring(start, str.length));\n  }\n\n  return buffer.join(\"\");\n}","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SimpleXMLParser = exports.SimpleDOMNode = void 0;\n\nvar _util = require(\"./util.js\");\n\nconst XMLParserErrorCode = {\n  NoError: 0,\n  EndOfDocument: -1,\n  UnterminatedCdat: -2,\n  UnterminatedXmlDeclaration: -3,\n  UnterminatedDoctypeDeclaration: -4,\n  UnterminatedComment: -5,\n  MalformedElement: -6,\n  OutOfMemory: -7,\n  UnterminatedAttributeValue: -8,\n  UnterminatedElement: -9,\n  ElementNeverBegun: -10\n};\n\nfunction isWhitespace(s, index) {\n  const ch = s[index];\n  return ch === \" \" || ch === \"\\n\" || ch === \"\\r\" || ch === \"\\t\";\n}\n\nfunction isWhitespaceString(s) {\n  for (let i = 0, ii = s.length; i < ii; i++) {\n    if (!isWhitespace(s, i)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nclass XMLParserBase {\n  _resolveEntities(s) {\n    return s.replace(/&([^;]+);/g, (all, entity) => {\n      if (entity.substring(0, 2) === \"#x\") {\n        return String.fromCodePoint(parseInt(entity.substring(2), 16));\n      } else if (entity.substring(0, 1) === \"#\") {\n        return String.fromCodePoint(parseInt(entity.substring(1), 10));\n      }\n\n      switch (entity) {\n        case \"lt\":\n          return \"<\";\n\n        case \"gt\":\n          return \">\";\n\n        case \"amp\":\n          return \"&\";\n\n        case \"quot\":\n          return '\"';\n      }\n\n      return this.onResolveEntity(entity);\n    });\n  }\n\n  _parseContent(s, start) {\n    const attributes = [];\n    let pos = start;\n\n    function skipWs() {\n      while (pos < s.length && isWhitespace(s, pos)) {\n        ++pos;\n      }\n    }\n\n    while (pos < s.length && !isWhitespace(s, pos) && s[pos] !== \">\" && s[pos] !== \"/\") {\n      ++pos;\n    }\n\n    const name = s.substring(start, pos);\n    skipWs();\n\n    while (pos < s.length && s[pos] !== \">\" && s[pos] !== \"/\" && s[pos] !== \"?\") {\n      skipWs();\n      let attrName = \"\",\n          attrValue = \"\";\n\n      while (pos < s.length && !isWhitespace(s, pos) && s[pos] !== \"=\") {\n        attrName += s[pos];\n        ++pos;\n      }\n\n      skipWs();\n\n      if (s[pos] !== \"=\") {\n        return null;\n      }\n\n      ++pos;\n      skipWs();\n      const attrEndChar = s[pos];\n\n      if (attrEndChar !== '\"' && attrEndChar !== \"'\") {\n        return null;\n      }\n\n      const attrEndIndex = s.indexOf(attrEndChar, ++pos);\n\n      if (attrEndIndex < 0) {\n        return null;\n      }\n\n      attrValue = s.substring(pos, attrEndIndex);\n      attributes.push({\n        name: attrName,\n        value: this._resolveEntities(attrValue)\n      });\n      pos = attrEndIndex + 1;\n      skipWs();\n    }\n\n    return {\n      name,\n      attributes,\n      parsed: pos - start\n    };\n  }\n\n  _parseProcessingInstruction(s, start) {\n    let pos = start;\n\n    function skipWs() {\n      while (pos < s.length && isWhitespace(s, pos)) {\n        ++pos;\n      }\n    }\n\n    while (pos < s.length && !isWhitespace(s, pos) && s[pos] !== \">\" && s[pos] !== \"/\") {\n      ++pos;\n    }\n\n    const name = s.substring(start, pos);\n    skipWs();\n    const attrStart = pos;\n\n    while (pos < s.length && (s[pos] !== \"?\" || s[pos + 1] !== \">\")) {\n      ++pos;\n    }\n\n    const value = s.substring(attrStart, pos);\n    return {\n      name,\n      value,\n      parsed: pos - start\n    };\n  }\n\n  parseXml(s) {\n    let i = 0;\n\n    while (i < s.length) {\n      const ch = s[i];\n      let j = i;\n\n      if (ch === \"<\") {\n        ++j;\n        const ch2 = s[j];\n        let q;\n\n        switch (ch2) {\n          case \"/\":\n            ++j;\n            q = s.indexOf(\">\", j);\n\n            if (q < 0) {\n              this.onError(XMLParserErrorCode.UnterminatedElement);\n              return;\n            }\n\n            this.onEndElement(s.substring(j, q));\n            j = q + 1;\n            break;\n\n          case \"?\":\n            ++j;\n\n            const pi = this._parseProcessingInstruction(s, j);\n\n            if (s.substring(j + pi.parsed, j + pi.parsed + 2) !== \"?>\") {\n              this.onError(XMLParserErrorCode.UnterminatedXmlDeclaration);\n              return;\n            }\n\n            this.onPi(pi.name, pi.value);\n            j += pi.parsed + 2;\n            break;\n\n          case \"!\":\n            if (s.substring(j + 1, j + 3) === \"--\") {\n              q = s.indexOf(\"-->\", j + 3);\n\n              if (q < 0) {\n                this.onError(XMLParserErrorCode.UnterminatedComment);\n                return;\n              }\n\n              this.onComment(s.substring(j + 3, q));\n              j = q + 3;\n            } else if (s.substring(j + 1, j + 8) === \"[CDATA[\") {\n              q = s.indexOf(\"]]>\", j + 8);\n\n              if (q < 0) {\n                this.onError(XMLParserErrorCode.UnterminatedCdat);\n                return;\n              }\n\n              this.onCdata(s.substring(j + 8, q));\n              j = q + 3;\n            } else if (s.substring(j + 1, j + 8) === \"DOCTYPE\") {\n              const q2 = s.indexOf(\"[\", j + 8);\n              let complexDoctype = false;\n              q = s.indexOf(\">\", j + 8);\n\n              if (q < 0) {\n                this.onError(XMLParserErrorCode.UnterminatedDoctypeDeclaration);\n                return;\n              }\n\n              if (q2 > 0 && q > q2) {\n                q = s.indexOf(\"]>\", j + 8);\n\n                if (q < 0) {\n                  this.onError(XMLParserErrorCode.UnterminatedDoctypeDeclaration);\n                  return;\n                }\n\n                complexDoctype = true;\n              }\n\n              const doctypeContent = s.substring(j + 8, q + (complexDoctype ? 1 : 0));\n              this.onDoctype(doctypeContent);\n              j = q + (complexDoctype ? 2 : 1);\n            } else {\n              this.onError(XMLParserErrorCode.MalformedElement);\n              return;\n            }\n\n            break;\n\n          default:\n            const content = this._parseContent(s, j);\n\n            if (content === null) {\n              this.onError(XMLParserErrorCode.MalformedElement);\n              return;\n            }\n\n            let isClosed = false;\n\n            if (s.substring(j + content.parsed, j + content.parsed + 2) === \"/>\") {\n              isClosed = true;\n            } else if (s.substring(j + content.parsed, j + content.parsed + 1) !== \">\") {\n              this.onError(XMLParserErrorCode.UnterminatedElement);\n              return;\n            }\n\n            this.onBeginElement(content.name, content.attributes, isClosed);\n            j += content.parsed + (isClosed ? 2 : 1);\n            break;\n        }\n      } else {\n        while (j < s.length && s[j] !== \"<\") {\n          j++;\n        }\n\n        const text = s.substring(i, j);\n        this.onText(this._resolveEntities(text));\n      }\n\n      i = j;\n    }\n  }\n\n  onResolveEntity(name) {\n    return `&${name};`;\n  }\n\n  onPi(name, value) {}\n\n  onComment(text) {}\n\n  onCdata(text) {}\n\n  onDoctype(doctypeContent) {}\n\n  onText(text) {}\n\n  onBeginElement(name, attributes, isEmpty) {}\n\n  onEndElement(name) {}\n\n  onError(code) {}\n\n}\n\nclass SimpleDOMNode {\n  constructor(nodeName, nodeValue) {\n    this.nodeName = nodeName;\n    this.nodeValue = nodeValue;\n    Object.defineProperty(this, \"parentNode\", {\n      value: null,\n      writable: true\n    });\n  }\n\n  get firstChild() {\n    return this.childNodes && this.childNodes[0];\n  }\n\n  get nextSibling() {\n    const childNodes = this.parentNode.childNodes;\n\n    if (!childNodes) {\n      return undefined;\n    }\n\n    const index = childNodes.indexOf(this);\n\n    if (index === -1) {\n      return undefined;\n    }\n\n    return childNodes[index + 1];\n  }\n\n  get textContent() {\n    if (!this.childNodes) {\n      return this.nodeValue || \"\";\n    }\n\n    return this.childNodes.map(function (child) {\n      return child.textContent;\n    }).join(\"\");\n  }\n\n  hasChildNodes() {\n    return this.childNodes && this.childNodes.length > 0;\n  }\n\n  searchNode(paths, pos) {\n    if (pos >= paths.length) {\n      return this;\n    }\n\n    const component = paths[pos];\n    const stack = [];\n    let node = this;\n\n    while (true) {\n      if (component.name === node.nodeName) {\n        if (component.pos === 0) {\n          const res = node.searchNode(paths, pos + 1);\n\n          if (res !== null) {\n            return res;\n          }\n        } else if (stack.length === 0) {\n          return null;\n        } else {\n          const [parent] = stack.pop();\n          let siblingPos = 0;\n\n          for (const child of parent.childNodes) {\n            if (component.name === child.nodeName) {\n              if (siblingPos === component.pos) {\n                return child.searchNode(paths, pos + 1);\n              }\n\n              siblingPos++;\n            }\n          }\n\n          return node.searchNode(paths, pos + 1);\n        }\n      }\n\n      if (node.childNodes && node.childNodes.length !== 0) {\n        stack.push([node, 0]);\n        node = node.childNodes[0];\n      } else if (stack.length === 0) {\n        return null;\n      } else {\n        while (stack.length !== 0) {\n          const [parent, currentPos] = stack.pop();\n          const newPos = currentPos + 1;\n\n          if (newPos < parent.childNodes.length) {\n            stack.push([parent, newPos]);\n            node = parent.childNodes[newPos];\n            break;\n          }\n        }\n\n        if (stack.length === 0) {\n          return null;\n        }\n      }\n    }\n  }\n\n  dump(buffer) {\n    if (this.nodeName === \"#text\") {\n      buffer.push((0, _util.encodeToXmlString)(this.nodeValue));\n      return;\n    }\n\n    buffer.push(`<${this.nodeName}`);\n\n    if (this.attributes) {\n      for (const attribute of this.attributes) {\n        buffer.push(` ${attribute.name}=\"${(0, _util.encodeToXmlString)(attribute.value)}\"`);\n      }\n    }\n\n    if (this.hasChildNodes()) {\n      buffer.push(\">\");\n\n      for (const child of this.childNodes) {\n        child.dump(buffer);\n      }\n\n      buffer.push(`</${this.nodeName}>`);\n    } else if (this.nodeValue) {\n      buffer.push(`>${(0, _util.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`);\n    } else {\n      buffer.push(\"/>\");\n    }\n  }\n\n}\n\nexports.SimpleDOMNode = SimpleDOMNode;\n\nclass SimpleXMLParser extends XMLParserBase {\n  constructor({\n    hasAttributes = false,\n    lowerCaseName = false\n  }) {\n    super();\n    this._currentFragment = null;\n    this._stack = null;\n    this._errorCode = XMLParserErrorCode.NoError;\n    this._hasAttributes = hasAttributes;\n    this._lowerCaseName = lowerCaseName;\n  }\n\n  parseFromString(data) {\n    this._currentFragment = [];\n    this._stack = [];\n    this._errorCode = XMLParserErrorCode.NoError;\n    this.parseXml(data);\n\n    if (this._errorCode !== XMLParserErrorCode.NoError) {\n      return undefined;\n    }\n\n    const [documentElement] = this._currentFragment;\n\n    if (!documentElement) {\n      return undefined;\n    }\n\n    return {\n      documentElement\n    };\n  }\n\n  onResolveEntity(name) {\n    switch (name) {\n      case \"apos\":\n        return \"'\";\n    }\n\n    return super.onResolveEntity(name);\n  }\n\n  onText(text) {\n    if (isWhitespaceString(text)) {\n      return;\n    }\n\n    const node = new SimpleDOMNode(\"#text\", text);\n\n    this._currentFragment.push(node);\n  }\n\n  onCdata(text) {\n    const node = new SimpleDOMNode(\"#text\", text);\n\n    this._currentFragment.push(node);\n  }\n\n  onBeginElement(name, attributes, isEmpty) {\n    if (this._lowerCaseName) {\n      name = name.toLowerCase();\n    }\n\n    const node = new SimpleDOMNode(name);\n    node.childNodes = [];\n\n    if (this._hasAttributes) {\n      node.attributes = attributes;\n    }\n\n    this._currentFragment.push(node);\n\n    if (isEmpty) {\n      return;\n    }\n\n    this._stack.push(this._currentFragment);\n\n    this._currentFragment = node.childNodes;\n  }\n\n  onEndElement(name) {\n    this._currentFragment = this._stack.pop() || [];\n    const lastElement = this._currentFragment[this._currentFragment.length - 1];\n\n    if (!lastElement) {\n      return;\n    }\n\n    for (let i = 0, ii = lastElement.childNodes.length; i < ii; i++) {\n      lastElement.childNodes[i].parentNode = lastElement;\n    }\n  }\n\n  onError(code) {\n    this._errorCode = code;\n  }\n\n}\n\nexports.SimpleXMLParser = SimpleXMLParser;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SimpleLinkService = exports.PDFLinkService = void 0;\n\nvar _ui_utils = require(\"./ui_utils.js\");\n\nclass PDFLinkService {\n  constructor({\n    eventBus,\n    externalLinkTarget = null,\n    externalLinkRel = null,\n    externalLinkEnabled = true,\n    ignoreDestinationZoom = false\n  } = {}) {\n    this.eventBus = eventBus;\n    this.externalLinkTarget = externalLinkTarget;\n    this.externalLinkRel = externalLinkRel;\n    this.externalLinkEnabled = externalLinkEnabled;\n    this._ignoreDestinationZoom = ignoreDestinationZoom;\n    this.baseUrl = null;\n    this.pdfDocument = null;\n    this.pdfViewer = null;\n    this.pdfHistory = null;\n    this._pagesRefCache = null;\n  }\n\n  setDocument(pdfDocument, baseUrl = null) {\n    this.baseUrl = baseUrl;\n    this.pdfDocument = pdfDocument;\n    this._pagesRefCache = Object.create(null);\n  }\n\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n\n  setHistory(pdfHistory) {\n    this.pdfHistory = pdfHistory;\n  }\n\n  get pagesCount() {\n    return this.pdfDocument ? this.pdfDocument.numPages : 0;\n  }\n\n  get page() {\n    return this.pdfViewer.currentPageNumber;\n  }\n\n  set page(value) {\n    this.pdfViewer.currentPageNumber = value;\n  }\n\n  get rotation() {\n    return this.pdfViewer.pagesRotation;\n  }\n\n  set rotation(value) {\n    this.pdfViewer.pagesRotation = value;\n  }\n\n  navigateTo(dest) {\n    console.error(\"Deprecated method: `navigateTo`, use `goToDestination` instead.\");\n    this.goToDestination(dest);\n  }\n\n  _goToDestinationHelper(rawDest, namedDest = null, explicitDest) {\n    const destRef = explicitDest[0];\n    let pageNumber;\n\n    if (destRef instanceof Object) {\n      pageNumber = this._cachedPageNumber(destRef);\n\n      if (pageNumber === null) {\n        this.pdfDocument.getPageIndex(destRef).then(pageIndex => {\n          this.cachePageRef(pageIndex + 1, destRef);\n\n          this._goToDestinationHelper(rawDest, namedDest, explicitDest);\n        }).catch(() => {\n          console.error(`PDFLinkService._goToDestinationHelper: \"${destRef}\" is not ` + `a valid page reference, for dest=\"${rawDest}\".`);\n        });\n        return;\n      }\n    } else if (Number.isInteger(destRef)) {\n      pageNumber = destRef + 1;\n    } else {\n      console.error(`PDFLinkService._goToDestinationHelper: \"${destRef}\" is not ` + `a valid destination reference, for dest=\"${rawDest}\".`);\n      return;\n    }\n\n    if (!pageNumber || pageNumber < 1 || pageNumber > this.pagesCount) {\n      console.error(`PDFLinkService._goToDestinationHelper: \"${pageNumber}\" is not ` + `a valid page number, for dest=\"${rawDest}\".`);\n      return;\n    }\n\n    if (this.pdfHistory) {\n      this.pdfHistory.pushCurrentPosition();\n      this.pdfHistory.push({\n        namedDest,\n        explicitDest,\n        pageNumber\n      });\n    }\n\n    this.pdfViewer.scrollPageIntoView({\n      pageNumber,\n      destArray: explicitDest,\n      ignoreDestinationZoom: this._ignoreDestinationZoom\n    });\n  }\n\n  async goToDestination(dest) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    let namedDest, explicitDest;\n\n    if (typeof dest === \"string\") {\n      namedDest = dest;\n      explicitDest = await this.pdfDocument.getDestination(dest);\n    } else {\n      namedDest = null;\n      explicitDest = await dest;\n    }\n\n    if (!Array.isArray(explicitDest)) {\n      console.error(`PDFLinkService.goToDestination: \"${explicitDest}\" is not ` + `a valid destination array, for dest=\"${dest}\".`);\n      return;\n    }\n\n    this._goToDestinationHelper(dest, namedDest, explicitDest);\n  }\n\n  goToPage(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    const pageNumber = typeof val === \"string\" && this.pdfViewer.pageLabelToPageNumber(val) || val | 0;\n\n    if (!(Number.isInteger(pageNumber) && pageNumber > 0 && pageNumber <= this.pagesCount)) {\n      console.error(`PDFLinkService.goToPage: \"${val}\" is not a valid page.`);\n      return;\n    }\n\n    if (this.pdfHistory) {\n      this.pdfHistory.pushCurrentPosition();\n      this.pdfHistory.pushPage(pageNumber);\n    }\n\n    this.pdfViewer.scrollPageIntoView({\n      pageNumber\n    });\n  }\n\n  getDestinationHash(dest) {\n    if (typeof dest === \"string\") {\n      if (dest.length > 0) {\n        return this.getAnchorUrl(\"#\" + escape(dest));\n      }\n    } else if (Array.isArray(dest)) {\n      const str = JSON.stringify(dest);\n\n      if (str.length > 0) {\n        return this.getAnchorUrl(\"#\" + escape(str));\n      }\n    }\n\n    return this.getAnchorUrl(\"\");\n  }\n\n  getAnchorUrl(anchor) {\n    return (this.baseUrl || \"\") + anchor;\n  }\n\n  setHash(hash) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    let pageNumber, dest;\n\n    if (hash.includes(\"=\")) {\n      const params = (0, _ui_utils.parseQueryString)(hash);\n\n      if (\"search\" in params) {\n        this.eventBus.dispatch(\"findfromurlhash\", {\n          source: this,\n          query: params.search.replace(/\"/g, \"\"),\n          phraseSearch: params.phrase === \"true\"\n        });\n      }\n\n      if (\"page\" in params) {\n        pageNumber = params.page | 0 || 1;\n      }\n\n      if (\"zoom\" in params) {\n        const zoomArgs = params.zoom.split(\",\");\n        const zoomArg = zoomArgs[0];\n        const zoomArgNumber = parseFloat(zoomArg);\n\n        if (!zoomArg.includes(\"Fit\")) {\n          dest = [null, {\n            name: \"XYZ\"\n          }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null, zoomArgs.length > 2 ? zoomArgs[2] | 0 : null, zoomArgNumber ? zoomArgNumber / 100 : zoomArg];\n        } else {\n          if (zoomArg === \"Fit\" || zoomArg === \"FitB\") {\n            dest = [null, {\n              name: zoomArg\n            }];\n          } else if (zoomArg === \"FitH\" || zoomArg === \"FitBH\" || zoomArg === \"FitV\" || zoomArg === \"FitBV\") {\n            dest = [null, {\n              name: zoomArg\n            }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null];\n          } else if (zoomArg === \"FitR\") {\n            if (zoomArgs.length !== 5) {\n              console.error('PDFLinkService.setHash: Not enough parameters for \"FitR\".');\n            } else {\n              dest = [null, {\n                name: zoomArg\n              }, zoomArgs[1] | 0, zoomArgs[2] | 0, zoomArgs[3] | 0, zoomArgs[4] | 0];\n            }\n          } else {\n            console.error(`PDFLinkService.setHash: \"${zoomArg}\" is not ` + \"a valid zoom value.\");\n          }\n        }\n      }\n\n      if (dest) {\n        this.pdfViewer.scrollPageIntoView({\n          pageNumber: pageNumber || this.page,\n          destArray: dest,\n          allowNegativeOffset: true\n        });\n      } else if (pageNumber) {\n        this.page = pageNumber;\n      }\n\n      if (\"pagemode\" in params) {\n        this.eventBus.dispatch(\"pagemode\", {\n          source: this,\n          mode: params.pagemode\n        });\n      }\n\n      if (\"nameddest\" in params) {\n        this.goToDestination(params.nameddest);\n      }\n    } else {\n      dest = unescape(hash);\n\n      try {\n        dest = JSON.parse(dest);\n\n        if (!Array.isArray(dest)) {\n          dest = dest.toString();\n        }\n      } catch (ex) {}\n\n      if (typeof dest === \"string\" || isValidExplicitDestination(dest)) {\n        this.goToDestination(dest);\n        return;\n      }\n\n      console.error(`PDFLinkService.setHash: \"${unescape(hash)}\" is not ` + \"a valid destination.\");\n    }\n  }\n\n  executeNamedAction(action) {\n    switch (action) {\n      case \"GoBack\":\n        if (this.pdfHistory) {\n          this.pdfHistory.back();\n        }\n\n        break;\n\n      case \"GoForward\":\n        if (this.pdfHistory) {\n          this.pdfHistory.forward();\n        }\n\n        break;\n\n      case \"NextPage\":\n        this.pdfViewer.nextPage();\n        break;\n\n      case \"PrevPage\":\n        this.pdfViewer.previousPage();\n        break;\n\n      case \"LastPage\":\n        this.page = this.pagesCount;\n        break;\n\n      case \"FirstPage\":\n        this.page = 1;\n        break;\n\n      default:\n        break;\n    }\n\n    this.eventBus.dispatch(\"namedaction\", {\n      source: this,\n      action\n    });\n  }\n\n  cachePageRef(pageNum, pageRef) {\n    if (!pageRef) {\n      return;\n    }\n\n    const refStr = pageRef.gen === 0 ? `${pageRef.num}R` : `${pageRef.num}R${pageRef.gen}`;\n    this._pagesRefCache[refStr] = pageNum;\n  }\n\n  _cachedPageNumber(pageRef) {\n    const refStr = pageRef.gen === 0 ? `${pageRef.num}R` : `${pageRef.num}R${pageRef.gen}`;\n    return this._pagesRefCache && this._pagesRefCache[refStr] || null;\n  }\n\n  isPageVisible(pageNumber) {\n    return this.pdfViewer.isPageVisible(pageNumber);\n  }\n\n  isPageCached(pageNumber) {\n    return this.pdfViewer.isPageCached(pageNumber);\n  }\n\n}\n\nexports.PDFLinkService = PDFLinkService;\n\nfunction isValidExplicitDestination(dest) {\n  if (!Array.isArray(dest)) {\n    return false;\n  }\n\n  const destLength = dest.length;\n\n  if (destLength < 2) {\n    return false;\n  }\n\n  const page = dest[0];\n\n  if (!(typeof page === \"object\" && Number.isInteger(page.num) && Number.isInteger(page.gen)) && !(Number.isInteger(page) && page >= 0)) {\n    return false;\n  }\n\n  const zoom = dest[1];\n\n  if (!(typeof zoom === \"object\" && typeof zoom.name === \"string\")) {\n    return false;\n  }\n\n  let allowNull = true;\n\n  switch (zoom.name) {\n    case \"XYZ\":\n      if (destLength !== 5) {\n        return false;\n      }\n\n      break;\n\n    case \"Fit\":\n    case \"FitB\":\n      return destLength === 2;\n\n    case \"FitH\":\n    case \"FitBH\":\n    case \"FitV\":\n    case \"FitBV\":\n      if (destLength !== 3) {\n        return false;\n      }\n\n      break;\n\n    case \"FitR\":\n      if (destLength !== 6) {\n        return false;\n      }\n\n      allowNull = false;\n      break;\n\n    default:\n      return false;\n  }\n\n  for (let i = 2; i < destLength; i++) {\n    const param = dest[i];\n\n    if (!(typeof param === \"number\" || allowNull && param === null)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nclass SimpleLinkService {\n  constructor() {\n    this.externalLinkTarget = null;\n    this.externalLinkRel = null;\n    this.externalLinkEnabled = true;\n    this._ignoreDestinationZoom = false;\n  }\n\n  get pagesCount() {\n    return 0;\n  }\n\n  get page() {\n    return 0;\n  }\n\n  set page(value) {}\n\n  get rotation() {\n    return 0;\n  }\n\n  set rotation(value) {}\n\n  async goToDestination(dest) {}\n\n  goToPage(val) {}\n\n  getDestinationHash(dest) {\n    return \"#\";\n  }\n\n  getAnchorUrl(hash) {\n    return \"#\";\n  }\n\n  setHash(hash) {}\n\n  executeNamedAction(action) {}\n\n  cachePageRef(pageNum, pageRef) {}\n\n  isPageVisible(pageNumber) {\n    return true;\n  }\n\n  isPageCached(pageNumber) {\n    return true;\n  }\n\n}\n\nexports.SimpleLinkService = SimpleLinkService;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PDFPageView = void 0;\n\nvar _ui_utils = require(\"./ui_utils.js\");\n\nvar _pdf = require(\"../pdf\");\n\nvar _pdf_rendering_queue = require(\"./pdf_rendering_queue.js\");\n\nvar _viewer_compatibility = require(\"./viewer_compatibility.js\");\n\nconst MAX_CANVAS_PIXELS = _viewer_compatibility.viewerCompatibilityParams.maxCanvasPixels || 16777216;\n\nclass PDFPageView {\n  constructor(options) {\n    const container = options.container;\n    const defaultViewport = options.defaultViewport;\n    this.id = options.id;\n    this.renderingId = \"page\" + this.id;\n    this.pdfPage = null;\n    this.pageLabel = null;\n    this.rotation = 0;\n    this.scale = options.scale || _ui_utils.DEFAULT_SCALE;\n    this.viewport = defaultViewport;\n    this.pdfPageRotate = defaultViewport.rotation;\n    this._optionalContentConfigPromise = options.optionalContentConfigPromise || null;\n    this.hasRestrictedScaling = false;\n    this.textLayerMode = Number.isInteger(options.textLayerMode) ? options.textLayerMode : _ui_utils.TextLayerMode.ENABLE;\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.renderInteractiveForms = typeof options.renderInteractiveForms === \"boolean\" ? options.renderInteractiveForms : true;\n    this.useOnlyCssZoom = options.useOnlyCssZoom || false;\n    this.maxCanvasPixels = options.maxCanvasPixels || MAX_CANVAS_PIXELS;\n    this.eventBus = options.eventBus;\n    this.renderingQueue = options.renderingQueue;\n    this.textLayerFactory = options.textLayerFactory;\n    this.annotationLayerFactory = options.annotationLayerFactory;\n    this.renderer = options.renderer || _ui_utils.RendererType.CANVAS;\n    this.enableWebGL = options.enableWebGL || false;\n    this.l10n = options.l10n || _ui_utils.NullL10n;\n    this.enableScripting = options.enableScripting || false;\n    this.paintTask = null;\n    this.paintedViewportMap = new WeakMap();\n    this.renderingState = _pdf_rendering_queue.RenderingStates.INITIAL;\n    this.resume = null;\n    this._renderError = null;\n    this.annotationLayer = null;\n    this.textLayer = null;\n    this.zoomLayer = null;\n    const div = document.createElement(\"div\");\n    div.className = \"page\";\n    div.style.width = Math.floor(this.viewport.width) + \"px\";\n    div.style.height = Math.floor(this.viewport.height) + \"px\";\n    div.setAttribute(\"data-page-number\", this.id);\n    this.div = div;\n    container.appendChild(div);\n  }\n\n  setPdfPage(pdfPage) {\n    this.pdfPage = pdfPage;\n    this.pdfPageRotate = pdfPage.rotate;\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = pdfPage.getViewport({\n      scale: this.scale * _ui_utils.CSS_UNITS,\n      rotation: totalRotation\n    });\n    this.reset();\n  }\n\n  destroy() {\n    this.reset();\n\n    if (this.pdfPage) {\n      this.pdfPage.cleanup();\n    }\n  }\n\n  async _renderAnnotationLayer() {\n    let error = null;\n\n    try {\n      await this.annotationLayer.render(this.viewport, \"display\");\n    } catch (ex) {\n      error = ex;\n    } finally {\n      this.eventBus.dispatch(\"annotationlayerrendered\", {\n        source: this,\n        pageNumber: this.id,\n        error\n      });\n    }\n  }\n\n  _resetZoomLayer(removeFromDOM = false) {\n    if (!this.zoomLayer) {\n      return;\n    }\n\n    const zoomLayerCanvas = this.zoomLayer.firstChild;\n    this.paintedViewportMap.delete(zoomLayerCanvas);\n    zoomLayerCanvas.width = 0;\n    zoomLayerCanvas.height = 0;\n\n    if (removeFromDOM) {\n      this.zoomLayer.remove();\n    }\n\n    this.zoomLayer = null;\n  }\n\n  reset(keepZoomLayer = false, keepAnnotations = false) {\n    this.cancelRendering(keepAnnotations);\n    this.renderingState = _pdf_rendering_queue.RenderingStates.INITIAL;\n    const div = this.div;\n    div.style.width = Math.floor(this.viewport.width) + \"px\";\n    div.style.height = Math.floor(this.viewport.height) + \"px\";\n    const childNodes = div.childNodes;\n    const currentZoomLayerNode = keepZoomLayer && this.zoomLayer || null;\n    const currentAnnotationNode = keepAnnotations && this.annotationLayer && this.annotationLayer.div || null;\n\n    for (let i = childNodes.length - 1; i >= 0; i--) {\n      const node = childNodes[i];\n\n      if (currentZoomLayerNode === node || currentAnnotationNode === node) {\n        continue;\n      }\n\n      div.removeChild(node);\n    }\n\n    div.removeAttribute(\"data-loaded\");\n\n    if (currentAnnotationNode) {\n      this.annotationLayer.hide();\n    } else if (this.annotationLayer) {\n      this.annotationLayer.cancel();\n      this.annotationLayer = null;\n    }\n\n    if (!currentZoomLayerNode) {\n      if (this.canvas) {\n        this.paintedViewportMap.delete(this.canvas);\n        this.canvas.width = 0;\n        this.canvas.height = 0;\n        delete this.canvas;\n      }\n\n      this._resetZoomLayer();\n    }\n\n    if (this.svg) {\n      this.paintedViewportMap.delete(this.svg);\n      delete this.svg;\n    }\n\n    this.loadingIconDiv = document.createElement(\"div\");\n    this.loadingIconDiv.className = \"loadingIcon\";\n    div.appendChild(this.loadingIconDiv);\n  }\n\n  update(scale, rotation, optionalContentConfigPromise = null) {\n    this.scale = scale || this.scale;\n\n    if (typeof rotation !== \"undefined\") {\n      this.rotation = rotation;\n    }\n\n    if (optionalContentConfigPromise instanceof Promise) {\n      this._optionalContentConfigPromise = optionalContentConfigPromise;\n    }\n\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = this.viewport.clone({\n      scale: this.scale * _ui_utils.CSS_UNITS,\n      rotation: totalRotation\n    });\n\n    if (this.svg) {\n      this.cssTransform(this.svg, true);\n      this.eventBus.dispatch(\"pagerendered\", {\n        source: this,\n        pageNumber: this.id,\n        cssTransform: true,\n        timestamp: performance.now(),\n        error: this._renderError\n      });\n      return;\n    }\n\n    let isScalingRestricted = false;\n\n    if (this.canvas && this.maxCanvasPixels > 0) {\n      const outputScale = this.outputScale;\n\n      if ((Math.floor(this.viewport.width) * outputScale.sx | 0) * (Math.floor(this.viewport.height) * outputScale.sy | 0) > this.maxCanvasPixels) {\n        isScalingRestricted = true;\n      }\n    }\n\n    if (this.canvas) {\n      if (this.useOnlyCssZoom || this.hasRestrictedScaling && isScalingRestricted) {\n        this.cssTransform(this.canvas, true);\n        this.eventBus.dispatch(\"pagerendered\", {\n          source: this,\n          pageNumber: this.id,\n          cssTransform: true,\n          timestamp: performance.now(),\n          error: this._renderError\n        });\n        return;\n      }\n\n      if (!this.zoomLayer && !this.canvas.hasAttribute(\"hidden\")) {\n        this.zoomLayer = this.canvas.parentNode;\n        this.zoomLayer.style.position = \"absolute\";\n      }\n    }\n\n    if (this.zoomLayer) {\n      this.cssTransform(this.zoomLayer.firstChild);\n    }\n\n    this.reset(true, true);\n  }\n\n  cancelRendering(keepAnnotations = false) {\n    if (this.paintTask) {\n      this.paintTask.cancel();\n      this.paintTask = null;\n    }\n\n    this.resume = null;\n\n    if (this.textLayer) {\n      this.textLayer.cancel();\n      this.textLayer = null;\n    }\n\n    if (!keepAnnotations && this.annotationLayer) {\n      this.annotationLayer.cancel();\n      this.annotationLayer = null;\n    }\n  }\n\n  cssTransform(target, redrawAnnotations = false) {\n    const width = this.viewport.width;\n    const height = this.viewport.height;\n    const div = this.div;\n    target.style.width = target.parentNode.style.width = div.style.width = Math.floor(width) + \"px\";\n    target.style.height = target.parentNode.style.height = div.style.height = Math.floor(height) + \"px\";\n    const relativeRotation = this.viewport.rotation - this.paintedViewportMap.get(target).rotation;\n    const absRotation = Math.abs(relativeRotation);\n    let scaleX = 1,\n        scaleY = 1;\n\n    if (absRotation === 90 || absRotation === 270) {\n      scaleX = height / width;\n      scaleY = width / height;\n    }\n\n    target.style.transform = `rotate(${relativeRotation}deg) scale(${scaleX}, ${scaleY})`;\n\n    if (this.textLayer) {\n      const textLayerViewport = this.textLayer.viewport;\n      const textRelativeRotation = this.viewport.rotation - textLayerViewport.rotation;\n      const textAbsRotation = Math.abs(textRelativeRotation);\n      let scale = width / textLayerViewport.width;\n\n      if (textAbsRotation === 90 || textAbsRotation === 270) {\n        scale = width / textLayerViewport.height;\n      }\n\n      const textLayerDiv = this.textLayer.textLayerDiv;\n      let transX, transY;\n\n      switch (textAbsRotation) {\n        case 0:\n          transX = transY = 0;\n          break;\n\n        case 90:\n          transX = 0;\n          transY = \"-\" + textLayerDiv.style.height;\n          break;\n\n        case 180:\n          transX = \"-\" + textLayerDiv.style.width;\n          transY = \"-\" + textLayerDiv.style.height;\n          break;\n\n        case 270:\n          transX = \"-\" + textLayerDiv.style.width;\n          transY = 0;\n          break;\n\n        default:\n          console.error(\"Bad rotation value.\");\n          break;\n      }\n\n      textLayerDiv.style.transform = `rotate(${textAbsRotation}deg) ` + `scale(${scale}) ` + `translate(${transX}, ${transY})`;\n      textLayerDiv.style.transformOrigin = \"0% 0%\";\n    }\n\n    if (redrawAnnotations && this.annotationLayer) {\n      this._renderAnnotationLayer();\n    }\n  }\n\n  get width() {\n    return this.viewport.width;\n  }\n\n  get height() {\n    return this.viewport.height;\n  }\n\n  getPagePoint(x, y) {\n    return this.viewport.convertToPdfPoint(x, y);\n  }\n\n  draw() {\n    if (this.renderingState !== _pdf_rendering_queue.RenderingStates.INITIAL) {\n      console.error(\"Must be in new state before drawing\");\n      this.reset();\n    }\n\n    const {\n      div,\n      pdfPage\n    } = this;\n\n    if (!pdfPage) {\n      this.renderingState = _pdf_rendering_queue.RenderingStates.FINISHED;\n\n      if (this.loadingIconDiv) {\n        div.removeChild(this.loadingIconDiv);\n        delete this.loadingIconDiv;\n      }\n\n      return Promise.reject(new Error(\"pdfPage is not loaded\"));\n    }\n\n    this.renderingState = _pdf_rendering_queue.RenderingStates.RUNNING;\n    const canvasWrapper = document.createElement(\"div\");\n    canvasWrapper.style.width = div.style.width;\n    canvasWrapper.style.height = div.style.height;\n    canvasWrapper.classList.add(\"canvasWrapper\");\n\n    if (this.annotationLayer && this.annotationLayer.div) {\n      div.insertBefore(canvasWrapper, this.annotationLayer.div);\n    } else {\n      div.appendChild(canvasWrapper);\n    }\n\n    let textLayer = null;\n\n    if (this.textLayerMode !== _ui_utils.TextLayerMode.DISABLE && this.textLayerFactory) {\n      const textLayerDiv = document.createElement(\"div\");\n      textLayerDiv.className = \"textLayer\";\n      textLayerDiv.style.width = canvasWrapper.style.width;\n      textLayerDiv.style.height = canvasWrapper.style.height;\n\n      if (this.annotationLayer && this.annotationLayer.div) {\n        div.insertBefore(textLayerDiv, this.annotationLayer.div);\n      } else {\n        div.appendChild(textLayerDiv);\n      }\n\n      textLayer = this.textLayerFactory.createTextLayerBuilder(textLayerDiv, this.id - 1, this.viewport, this.textLayerMode === _ui_utils.TextLayerMode.ENABLE_ENHANCE, this.eventBus);\n    }\n\n    this.textLayer = textLayer;\n    let renderContinueCallback = null;\n\n    if (this.renderingQueue) {\n      renderContinueCallback = cont => {\n        if (!this.renderingQueue.isHighestPriority(this)) {\n          this.renderingState = _pdf_rendering_queue.RenderingStates.PAUSED;\n\n          this.resume = () => {\n            this.renderingState = _pdf_rendering_queue.RenderingStates.RUNNING;\n            cont();\n          };\n\n          return;\n        }\n\n        cont();\n      };\n    }\n\n    const finishPaintTask = async (error = null) => {\n      if (paintTask === this.paintTask) {\n        this.paintTask = null;\n      }\n\n      if (error instanceof _pdf.RenderingCancelledException) {\n        this._renderError = null;\n        return;\n      }\n\n      this._renderError = error;\n      this.renderingState = _pdf_rendering_queue.RenderingStates.FINISHED;\n\n      if (this.loadingIconDiv) {\n        div.removeChild(this.loadingIconDiv);\n        delete this.loadingIconDiv;\n      }\n\n      this._resetZoomLayer(true);\n\n      this.eventBus.dispatch(\"pagerendered\", {\n        source: this,\n        pageNumber: this.id,\n        cssTransform: false,\n        timestamp: performance.now(),\n        error: this._renderError\n      });\n\n      if (error) {\n        throw error;\n      }\n    };\n\n    const paintTask = this.renderer === _ui_utils.RendererType.SVG ? this.paintOnSvg(canvasWrapper) : this.paintOnCanvas(canvasWrapper);\n    paintTask.onRenderContinue = renderContinueCallback;\n    this.paintTask = paintTask;\n    const resultPromise = paintTask.promise.then(function () {\n      return finishPaintTask(null).then(function () {\n        if (textLayer) {\n          const readableStream = pdfPage.streamTextContent({\n            normalizeWhitespace: true\n          });\n          textLayer.setTextContentStream(readableStream);\n          textLayer.render();\n        }\n      });\n    }, function (reason) {\n      return finishPaintTask(reason);\n    });\n\n    if (this.annotationLayerFactory) {\n      if (!this.annotationLayer) {\n        this.annotationLayer = this.annotationLayerFactory.createAnnotationLayerBuilder(div, pdfPage, null, this.imageResourcesPath, this.renderInteractiveForms, this.l10n, this.enableScripting, null, null);\n      }\n\n      this._renderAnnotationLayer();\n    }\n\n    div.setAttribute(\"data-loaded\", true);\n    this.eventBus.dispatch(\"pagerender\", {\n      source: this,\n      pageNumber: this.id\n    });\n    return resultPromise;\n  }\n\n  paintOnCanvas(canvasWrapper) {\n    const renderCapability = (0, _pdf.createPromiseCapability)();\n    const result = {\n      promise: renderCapability.promise,\n\n      onRenderContinue(cont) {\n        cont();\n      },\n\n      cancel() {\n        renderTask.cancel();\n      }\n\n    };\n    const viewport = this.viewport;\n    const canvas = document.createElement(\"canvas\");\n    this.l10n.get(\"page_canvas\", {\n      page: this.id\n    }, \"Page {{page}}\").then(msg => {\n      canvas.setAttribute(\"aria-label\", msg);\n    });\n    canvas.setAttribute(\"hidden\", \"hidden\");\n    let isCanvasHidden = true;\n\n    const showCanvas = function () {\n      if (isCanvasHidden) {\n        canvas.removeAttribute(\"hidden\");\n        isCanvasHidden = false;\n      }\n    };\n\n    canvasWrapper.appendChild(canvas);\n    this.canvas = canvas;\n    canvas.mozOpaque = true;\n    const ctx = canvas.getContext(\"2d\", {\n      alpha: false\n    });\n    const outputScale = (0, _ui_utils.getOutputScale)(ctx);\n    this.outputScale = outputScale;\n\n    if (this.useOnlyCssZoom) {\n      const actualSizeViewport = viewport.clone({\n        scale: _ui_utils.CSS_UNITS\n      });\n      outputScale.sx *= actualSizeViewport.width / viewport.width;\n      outputScale.sy *= actualSizeViewport.height / viewport.height;\n      outputScale.scaled = true;\n    }\n\n    if (this.maxCanvasPixels > 0) {\n      const pixelsInViewport = viewport.width * viewport.height;\n      const maxScale = Math.sqrt(this.maxCanvasPixels / pixelsInViewport);\n\n      if (outputScale.sx > maxScale || outputScale.sy > maxScale) {\n        outputScale.sx = maxScale;\n        outputScale.sy = maxScale;\n        outputScale.scaled = true;\n        this.hasRestrictedScaling = true;\n      } else {\n        this.hasRestrictedScaling = false;\n      }\n    }\n\n    const sfx = (0, _ui_utils.approximateFraction)(outputScale.sx);\n    const sfy = (0, _ui_utils.approximateFraction)(outputScale.sy);\n    canvas.width = (0, _ui_utils.roundToDivide)(viewport.width * outputScale.sx, sfx[0]);\n    canvas.height = (0, _ui_utils.roundToDivide)(viewport.height * outputScale.sy, sfy[0]);\n    canvas.style.width = (0, _ui_utils.roundToDivide)(viewport.width, sfx[1]) + \"px\";\n    canvas.style.height = (0, _ui_utils.roundToDivide)(viewport.height, sfy[1]) + \"px\";\n    this.paintedViewportMap.set(canvas, viewport);\n    const transform = !outputScale.scaled ? null : [outputScale.sx, 0, 0, outputScale.sy, 0, 0];\n    const renderContext = {\n      canvasContext: ctx,\n      transform,\n      viewport: this.viewport,\n      enableWebGL: this.enableWebGL,\n      renderInteractiveForms: this.renderInteractiveForms,\n      optionalContentConfigPromise: this._optionalContentConfigPromise\n    };\n    const renderTask = this.pdfPage.render(renderContext);\n\n    renderTask.onContinue = function (cont) {\n      showCanvas();\n\n      if (result.onRenderContinue) {\n        result.onRenderContinue(cont);\n      } else {\n        cont();\n      }\n    };\n\n    renderTask.promise.then(function () {\n      showCanvas();\n      renderCapability.resolve(undefined);\n    }, function (error) {\n      showCanvas();\n      renderCapability.reject(error);\n    });\n    return result;\n  }\n\n  paintOnSvg(wrapper) {\n    let cancelled = false;\n\n    const ensureNotCancelled = () => {\n      if (cancelled) {\n        throw new _pdf.RenderingCancelledException(`Rendering cancelled, page ${this.id}`, \"svg\");\n      }\n    };\n\n    const pdfPage = this.pdfPage;\n    const actualSizeViewport = this.viewport.clone({\n      scale: _ui_utils.CSS_UNITS\n    });\n    const promise = pdfPage.getOperatorList().then(opList => {\n      ensureNotCancelled();\n      const svgGfx = new _pdf.SVGGraphics(pdfPage.commonObjs, pdfPage.objs);\n      return svgGfx.getSVG(opList, actualSizeViewport).then(svg => {\n        ensureNotCancelled();\n        this.svg = svg;\n        this.paintedViewportMap.set(svg, actualSizeViewport);\n        svg.style.width = wrapper.style.width;\n        svg.style.height = wrapper.style.height;\n        this.renderingState = _pdf_rendering_queue.RenderingStates.FINISHED;\n        wrapper.appendChild(svg);\n      });\n    });\n    return {\n      promise,\n\n      onRenderContinue(cont) {\n        cont();\n      },\n\n      cancel() {\n        cancelled = true;\n      }\n\n    };\n  }\n\n  setPageLabel(label) {\n    this.pageLabel = typeof label === \"string\" ? label : null;\n\n    if (this.pageLabel !== null) {\n      this.div.setAttribute(\"data-page-label\", this.pageLabel);\n    } else {\n      this.div.removeAttribute(\"data-page-label\");\n    }\n  }\n\n}\n\nexports.PDFPageView = PDFPageView;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RenderingStates = exports.PDFRenderingQueue = void 0;\n\nvar _pdf = require(\"../pdf\");\n\nconst CLEANUP_TIMEOUT = 30000;\nconst RenderingStates = {\n  INITIAL: 0,\n  RUNNING: 1,\n  PAUSED: 2,\n  FINISHED: 3\n};\nexports.RenderingStates = RenderingStates;\n\nclass PDFRenderingQueue {\n  constructor() {\n    this.pdfViewer = null;\n    this.pdfThumbnailViewer = null;\n    this.onIdle = null;\n    this.highestPriorityPage = null;\n    this.idleTimeout = null;\n    this.printing = false;\n    this.isThumbnailViewEnabled = false;\n  }\n\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n\n  setThumbnailViewer(pdfThumbnailViewer) {\n    this.pdfThumbnailViewer = pdfThumbnailViewer;\n  }\n\n  isHighestPriority(view) {\n    return this.highestPriorityPage === view.renderingId;\n  }\n\n  renderHighestPriority(currentlyVisiblePages) {\n    if (this.idleTimeout) {\n      clearTimeout(this.idleTimeout);\n      this.idleTimeout = null;\n    }\n\n    if (this.pdfViewer.forceRendering(currentlyVisiblePages)) {\n      return;\n    }\n\n    if (this.pdfThumbnailViewer && this.isThumbnailViewEnabled) {\n      if (this.pdfThumbnailViewer.forceRendering()) {\n        return;\n      }\n    }\n\n    if (this.printing) {\n      return;\n    }\n\n    if (this.onIdle) {\n      this.idleTimeout = setTimeout(this.onIdle.bind(this), CLEANUP_TIMEOUT);\n    }\n  }\n\n  getHighestPriority(visible, views, scrolledDown) {\n    const visibleViews = visible.views;\n    const numVisible = visibleViews.length;\n\n    if (numVisible === 0) {\n      return null;\n    }\n\n    for (let i = 0; i < numVisible; ++i) {\n      const view = visibleViews[i].view;\n\n      if (!this.isViewFinished(view)) {\n        return view;\n      }\n    }\n\n    if (scrolledDown) {\n      const nextPageIndex = visible.last.id;\n\n      if (views[nextPageIndex] && !this.isViewFinished(views[nextPageIndex])) {\n        return views[nextPageIndex];\n      }\n    } else {\n      const previousPageIndex = visible.first.id - 2;\n\n      if (views[previousPageIndex] && !this.isViewFinished(views[previousPageIndex])) {\n        return views[previousPageIndex];\n      }\n    }\n\n    return null;\n  }\n\n  isViewFinished(view) {\n    return view.renderingState === RenderingStates.FINISHED;\n  }\n\n  renderView(view) {\n    switch (view.renderingState) {\n      case RenderingStates.FINISHED:\n        return false;\n\n      case RenderingStates.PAUSED:\n        this.highestPriorityPage = view.renderingId;\n        view.resume();\n        break;\n\n      case RenderingStates.RUNNING:\n        this.highestPriorityPage = view.renderingId;\n        break;\n\n      case RenderingStates.INITIAL:\n        this.highestPriorityPage = view.renderingId;\n        view.draw().finally(() => {\n          this.renderHighestPriority();\n        }).catch(reason => {\n          if (reason instanceof _pdf.RenderingCancelledException) {\n            return;\n          }\n\n          console.error(`renderView: \"${reason}\"`);\n        });\n        break;\n    }\n\n    return true;\n  }\n\n}\n\nexports.PDFRenderingQueue = PDFRenderingQueue;","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.approximateFraction = approximateFraction;\nexports.backtrackBeforeAllVisibleElements = backtrackBeforeAllVisibleElements;\nexports.binarySearchFirstItem = binarySearchFirstItem;\nexports.getActiveOrFocusedElement = getActiveOrFocusedElement;\nexports.getOutputScale = getOutputScale;\nexports.getPageSizeInches = getPageSizeInches;\nexports.getPDFFileNameFromURL = getPDFFileNameFromURL;\nexports.getVisibleElements = getVisibleElements;\nexports.isPortraitOrientation = isPortraitOrientation;\nexports.isValidRotation = isValidRotation;\nexports.isValidScrollMode = isValidScrollMode;\nexports.isValidSpreadMode = isValidSpreadMode;\nexports.moveToEndOfArray = moveToEndOfArray;\nexports.noContextMenuHandler = noContextMenuHandler;\nexports.normalizeWheelEventDelta = normalizeWheelEventDelta;\nexports.normalizeWheelEventDirection = normalizeWheelEventDirection;\nexports.parseQueryString = parseQueryString;\nexports.roundToDivide = roundToDivide;\nexports.scrollIntoView = scrollIntoView;\nexports.waitOnEventOrTimeout = waitOnEventOrTimeout;\nexports.watchScroll = watchScroll;\nexports.WaitOnType = exports.VERTICAL_PADDING = exports.UNKNOWN_SCALE = exports.TextLayerMode = exports.SpreadMode = exports.SidebarView = exports.ScrollMode = exports.SCROLLBAR_PADDING = exports.RendererType = exports.ProgressBar = exports.PresentationModeState = exports.NullL10n = exports.MIN_SCALE = exports.MAX_SCALE = exports.MAX_AUTO_SCALE = exports.EventBus = exports.DEFAULT_SCALE_VALUE = exports.DEFAULT_SCALE = exports.CSS_UNITS = exports.AutoPrintRegExp = exports.animationStarted = void 0;\nconst CSS_UNITS = 96.0 / 72.0;\nexports.CSS_UNITS = CSS_UNITS;\nconst DEFAULT_SCALE_VALUE = \"auto\";\nexports.DEFAULT_SCALE_VALUE = DEFAULT_SCALE_VALUE;\nconst DEFAULT_SCALE = 1.0;\nexports.DEFAULT_SCALE = DEFAULT_SCALE;\nconst MIN_SCALE = 0.1;\nexports.MIN_SCALE = MIN_SCALE;\nconst MAX_SCALE = 10.0;\nexports.MAX_SCALE = MAX_SCALE;\nconst UNKNOWN_SCALE = 0;\nexports.UNKNOWN_SCALE = UNKNOWN_SCALE;\nconst MAX_AUTO_SCALE = 1.25;\nexports.MAX_AUTO_SCALE = MAX_AUTO_SCALE;\nconst SCROLLBAR_PADDING = 40;\nexports.SCROLLBAR_PADDING = SCROLLBAR_PADDING;\nconst VERTICAL_PADDING = 5;\nexports.VERTICAL_PADDING = VERTICAL_PADDING;\nconst LOADINGBAR_END_OFFSET_VAR = \"--loadingBar-end-offset\";\nconst PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nexports.PresentationModeState = PresentationModeState;\nconst SidebarView = {\n  UNKNOWN: -1,\n  NONE: 0,\n  THUMBS: 1,\n  OUTLINE: 2,\n  ATTACHMENTS: 3,\n  LAYERS: 4\n};\nexports.SidebarView = SidebarView;\nconst RendererType = {\n  CANVAS: \"canvas\",\n  SVG: \"svg\"\n};\nexports.RendererType = RendererType;\nconst TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_ENHANCE: 2\n};\nexports.TextLayerMode = TextLayerMode;\nconst ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2\n};\nexports.ScrollMode = ScrollMode;\nconst SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nexports.SpreadMode = SpreadMode;\nconst AutoPrintRegExp = /\\bprint\\s*\\(/;\nexports.AutoPrintRegExp = AutoPrintRegExp;\n\nfunction formatL10nValue(text, args) {\n  if (!args) {\n    return text;\n  }\n\n  return text.replace(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g, (all, name) => {\n    return name in args ? args[name] : \"{{\" + name + \"}}\";\n  });\n}\n\nconst NullL10n = {\n  async getLanguage() {\n    return \"en-us\";\n  },\n\n  async getDirection() {\n    return \"ltr\";\n  },\n\n  async get(property, args, fallback) {\n    return formatL10nValue(fallback, args);\n  },\n\n  async translate(element) {}\n\n};\nexports.NullL10n = NullL10n;\n\nfunction getOutputScale(ctx) {\n  const devicePixelRatio = window.devicePixelRatio || 1;\n  const backingStoreRatio = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n  const pixelRatio = devicePixelRatio / backingStoreRatio;\n  return {\n    sx: pixelRatio,\n    sy: pixelRatio,\n    scaled: pixelRatio !== 1\n  };\n}\n\nfunction scrollIntoView(element, spot, skipOverflowHiddenElements = false) {\n  let parent = element.offsetParent;\n\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n\n  let offsetY = element.offsetTop + element.clientTop;\n  let offsetX = element.offsetLeft + element.clientLeft;\n\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || skipOverflowHiddenElements && getComputedStyle(parent).overflow === \"hidden\") {\n    if (parent.dataset._scaleY) {\n      offsetY /= parent.dataset._scaleY;\n      offsetX /= parent.dataset._scaleX;\n    }\n\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n\n    if (!parent) {\n      return;\n    }\n  }\n\n  if (spot) {\n    if (spot.top !== undefined) {\n      offsetY += spot.top;\n    }\n\n    if (spot.left !== undefined) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n\n  parent.scrollTop = offsetY;\n}\n\nfunction watchScroll(viewAreaElement, callback) {\n  const debounceScroll = function (evt) {\n    if (rAF) {\n      return;\n    }\n\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      const currentX = viewAreaElement.scrollLeft;\n      const lastX = state.lastX;\n\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n\n      state.lastX = currentX;\n      const currentY = viewAreaElement.scrollTop;\n      const lastY = state.lastY;\n\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n\n  const state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  let rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, true);\n  return state;\n}\n\nfunction parseQueryString(query) {\n  const parts = query.split(\"&\");\n  const params = Object.create(null);\n\n  for (let i = 0, ii = parts.length; i < ii; ++i) {\n    const param = parts[i].split(\"=\");\n    const key = param[0].toLowerCase();\n    const value = param.length > 1 ? param[1] : null;\n    params[decodeURIComponent(key)] = decodeURIComponent(value);\n  }\n\n  return params;\n}\n\nfunction binarySearchFirstItem(items, condition) {\n  let minIndex = 0;\n  let maxIndex = items.length - 1;\n\n  if (maxIndex < 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n\n  while (minIndex < maxIndex) {\n    const currentIndex = minIndex + maxIndex >> 1;\n    const currentItem = items[currentIndex];\n\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n\n  return minIndex;\n}\n\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n\n  const xinv = 1 / x;\n  const limit = 8;\n\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n\n  const x_ = x > 1 ? xinv : x;\n  let a = 0,\n      b = 1,\n      c = 1,\n      d = 1;\n\n  while (true) {\n    const p = a + c,\n          q = b + d;\n\n    if (q > limit) {\n      break;\n    }\n\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n\n  let result;\n\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n\n  return result;\n}\n\nfunction roundToDivide(x, div) {\n  const r = x % div;\n  return r === 0 ? x : Math.round(x - r + div);\n}\n\nfunction getPageSizeInches({\n  view,\n  userUnit,\n  rotate\n}) {\n  const [x1, y1, x2, y2] = view;\n  const changeOrientation = rotate % 180 !== 0;\n  const width = (x2 - x1) / 72 * userUnit;\n  const height = (y2 - y1) / 72 * userUnit;\n  return {\n    width: changeOrientation ? height : width,\n    height: changeOrientation ? width : height\n  };\n}\n\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n\n  let elt = views[index].div;\n  let pageTop = elt.offsetTop + elt.clientTop;\n\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n\n  for (let i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n\n    index = i;\n  }\n\n  return index;\n}\n\nfunction getVisibleElements({\n  scrollEl,\n  views,\n  sortByVisibility = false,\n  horizontal = false,\n  rtl = false\n}) {\n  const top = scrollEl.scrollTop,\n        bottom = top + scrollEl.clientHeight;\n  const left = scrollEl.scrollLeft,\n        right = left + scrollEl.clientWidth;\n\n  function isElementBottomAfterViewTop(view) {\n    const element = view.div;\n    const elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n\n  function isElementNextAfterViewHorizontally(view) {\n    const element = view.div;\n    const elementLeft = element.offsetLeft + element.clientLeft;\n    const elementRight = elementLeft + element.clientWidth;\n    return rtl ? elementLeft < right : elementRight > left;\n  }\n\n  const visible = [],\n        numViews = views.length;\n  let firstVisibleElementInd = binarySearchFirstItem(views, horizontal ? isElementNextAfterViewHorizontally : isElementBottomAfterViewTop);\n\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n\n  let lastEdge = horizontal ? right : -1;\n\n  for (let i = firstVisibleElementInd; i < numViews; i++) {\n    const view = views[i],\n          element = view.div;\n    const currentWidth = element.offsetLeft + element.clientLeft;\n    const currentHeight = element.offsetTop + element.clientTop;\n    const viewWidth = element.clientWidth,\n          viewHeight = element.clientHeight;\n    const viewRight = currentWidth + viewWidth;\n    const viewBottom = currentHeight + viewHeight;\n\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n\n    const hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    const hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    const fractionHeight = (viewHeight - hiddenHeight) / viewHeight,\n          fractionWidth = (viewWidth - hiddenWidth) / viewWidth;\n    const percent = fractionHeight * fractionWidth * 100 | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view,\n      percent,\n      widthPercent: fractionWidth * 100 | 0\n    });\n  }\n\n  const first = visible[0],\n        last = visible[visible.length - 1];\n\n  if (sortByVisibility) {\n    visible.sort(function (a, b) {\n      const pc = a.percent - b.percent;\n\n      if (Math.abs(pc) > 0.001) {\n        return -pc;\n      }\n\n      return a.id - b.id;\n    });\n  }\n\n  return {\n    first,\n    last,\n    views: visible\n  };\n}\n\nfunction noContextMenuHandler(evt) {\n  evt.preventDefault();\n}\n\nfunction isDataSchema(url) {\n  let i = 0;\n  const ii = url.length;\n\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\n\nfunction getPDFFileNameFromURL(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n\n  if (isDataSchema(url)) {\n    console.warn(\"getPDFFileNameFromURL: \" + 'ignoring \"data:\" URL for performance reasons.');\n    return defaultFilename;\n  }\n\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  const reFilename = /[^/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n\n    if (suggestedFilename.includes(\"%\")) {\n      try {\n        suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch (ex) {}\n    }\n  }\n\n  return suggestedFilename || defaultFilename;\n}\n\nfunction normalizeWheelEventDirection(evt) {\n  let delta = Math.sqrt(evt.deltaX * evt.deltaX + evt.deltaY * evt.deltaY);\n  const angle = Math.atan2(evt.deltaY, evt.deltaX);\n\n  if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n    delta = -delta;\n  }\n\n  return delta;\n}\n\nfunction normalizeWheelEventDelta(evt) {\n  let delta = normalizeWheelEventDirection(evt);\n  const MOUSE_DOM_DELTA_PIXEL_MODE = 0;\n  const MOUSE_DOM_DELTA_LINE_MODE = 1;\n  const MOUSE_PIXELS_PER_LINE = 30;\n  const MOUSE_LINES_PER_PAGE = 30;\n\n  if (evt.deltaMode === MOUSE_DOM_DELTA_PIXEL_MODE) {\n    delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n  } else if (evt.deltaMode === MOUSE_DOM_DELTA_LINE_MODE) {\n    delta /= MOUSE_LINES_PER_PAGE;\n  }\n\n  return delta;\n}\n\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\n\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\n\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\n\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\n\nconst WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\nexports.WaitOnType = WaitOnType;\n\nfunction waitOnEventOrTimeout({\n  target,\n  name,\n  delay = 0\n}) {\n  return new Promise(function (resolve, reject) {\n    if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n      throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n    }\n\n    function handler(type) {\n      if (target instanceof EventBus) {\n        target._off(name, eventHandler);\n      } else {\n        target.removeEventListener(name, eventHandler);\n      }\n\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n\n      resolve(type);\n    }\n\n    const eventHandler = handler.bind(null, WaitOnType.EVENT);\n\n    if (target instanceof EventBus) {\n      target._on(name, eventHandler);\n    } else {\n      target.addEventListener(name, eventHandler);\n    }\n\n    const timeoutHandler = handler.bind(null, WaitOnType.TIMEOUT);\n    const timeout = setTimeout(timeoutHandler, delay);\n  });\n}\n\nconst animationStarted = new Promise(function (resolve) {\n  window.requestAnimationFrame(resolve);\n});\nexports.animationStarted = animationStarted;\n\nfunction dispatchDOMEvent(eventName, args = null) {\n  throw new Error(\"Not implemented: dispatchDOMEvent\");\n}\n\nclass EventBus {\n  constructor(options) {\n    this._listeners = Object.create(null);\n  }\n\n  on(eventName, listener, options = null) {\n    this._on(eventName, listener, {\n      external: true,\n      once: options?.once\n    });\n  }\n\n  off(eventName, listener, options = null) {\n    this._off(eventName, listener, {\n      external: true,\n      once: options?.once\n    });\n  }\n\n  dispatch(eventName) {\n    const eventListeners = this._listeners[eventName];\n\n    if (!eventListeners || eventListeners.length === 0) {\n      return;\n    }\n\n    const args = Array.prototype.slice.call(arguments, 1);\n    let externalListeners;\n    eventListeners.slice(0).forEach(({\n      listener,\n      external,\n      once\n    }) => {\n      if (once) {\n        this._off(eventName, listener);\n      }\n\n      if (external) {\n        (externalListeners || (externalListeners = [])).push(listener);\n        return;\n      }\n\n      listener.apply(null, args);\n    });\n\n    if (externalListeners) {\n      externalListeners.forEach(listener => {\n        listener.apply(null, args);\n      });\n      externalListeners = null;\n    }\n  }\n\n  _on(eventName, listener, options = null) {\n    var _this$_listeners;\n\n    const eventListeners = (_this$_listeners = this._listeners)[eventName] || (_this$_listeners[eventName] = []);\n    eventListeners.push({\n      listener,\n      external: options?.external === true,\n      once: options?.once === true\n    });\n  }\n\n  _off(eventName, listener, options = null) {\n    const eventListeners = this._listeners[eventName];\n\n    if (!eventListeners) {\n      return;\n    }\n\n    for (let i = 0, ii = eventListeners.length; i < ii; i++) {\n      if (eventListeners[i].listener === listener) {\n        eventListeners.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n}\n\nexports.EventBus = EventBus;\n\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\n\nclass ProgressBar {\n  constructor(id, {\n    height,\n    width,\n    units\n  } = {}) {\n    this.visible = true;\n    this.div = document.querySelector(id + \" .progress\");\n    this.bar = this.div.parentNode;\n    this.height = height || 100;\n    this.width = width || 100;\n    this.units = units || \"%\";\n    this.div.style.height = this.height + this.units;\n    this.percent = 0;\n  }\n\n  _updateBar() {\n    if (this._indeterminate) {\n      this.div.classList.add(\"indeterminate\");\n      this.div.style.width = this.width + this.units;\n      return;\n    }\n\n    this.div.classList.remove(\"indeterminate\");\n    const progressSize = this.width * this._percent / 100;\n    this.div.style.width = progressSize + this.units;\n  }\n\n  get percent() {\n    return this._percent;\n  }\n\n  set percent(val) {\n    this._indeterminate = isNaN(val);\n    this._percent = clamp(val, 0, 100);\n\n    this._updateBar();\n  }\n\n  setWidth(viewer) {\n    if (!viewer) {\n      return;\n    }\n\n    const container = viewer.parentNode;\n    const scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n\n    if (scrollbarWidth > 0) {\n      const doc = document.documentElement;\n      doc.style.setProperty(LOADINGBAR_END_OFFSET_VAR, `${scrollbarWidth}px`);\n    }\n  }\n\n  hide() {\n    if (!this.visible) {\n      return;\n    }\n\n    this.visible = false;\n    this.bar.classList.add(\"hidden\");\n  }\n\n  show() {\n    if (this.visible) {\n      return;\n    }\n\n    this.visible = true;\n    this.bar.classList.remove(\"hidden\");\n  }\n\n}\n\nexports.ProgressBar = ProgressBar;\n\nfunction moveToEndOfArray(arr, condition) {\n  const moved = [],\n        len = arr.length;\n  let write = 0;\n\n  for (let read = 0; read < len; ++read) {\n    if (condition(arr[read])) {\n      moved.push(arr[read]);\n    } else {\n      arr[write] = arr[read];\n      ++write;\n    }\n  }\n\n  for (let read = 0; write < len; ++read, ++write) {\n    arr[write] = moved[read];\n  }\n}\n\nfunction getActiveOrFocusedElement() {\n  let curRoot = document;\n  let curActiveOrFocused = curRoot.activeElement || curRoot.querySelector(\":focus\");\n\n  while (curActiveOrFocused && curActiveOrFocused.shadowRoot) {\n    curRoot = curActiveOrFocused.shadowRoot;\n    curActiveOrFocused = curRoot.activeElement || curRoot.querySelector(\":focus\");\n  }\n\n  return curActiveOrFocused;\n}","/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.viewerCompatibilityParams = void 0;\nconst compatibilityParams = Object.create(null);\n{\n  const userAgent = typeof navigator !== \"undefined\" && navigator.userAgent || \"\";\n  const platform = typeof navigator !== \"undefined\" && navigator.platform || \"\";\n  const maxTouchPoints = typeof navigator !== \"undefined\" && navigator.maxTouchPoints || 1;\n  const isAndroid = /Android/.test(userAgent);\n  const isIOS = /\\b(iPad|iPhone|iPod)(?=;)/.test(userAgent) || platform === \"MacIntel\" && maxTouchPoints > 1;\n  const isIOSChrome = /CriOS/.test(userAgent);\n\n  (function checkOnBlobSupport() {\n    if (isIOSChrome) {\n      compatibilityParams.disableCreateObjectURL = true;\n    }\n  })();\n\n  (function checkCanvasSizeLimitation() {\n    if (isIOS || isAndroid) {\n      compatibilityParams.maxCanvasPixels = 5242880;\n    }\n  })();\n}\nconst viewerCompatibilityParams = Object.freeze(compatibilityParams);\nexports.viewerCompatibilityParams = viewerCompatibilityParams;","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\"use strict\";\n\nvar pdfjs = require(\"./build/pdf.js\");\nvar PdfjsWorker = require(\"worker-loader?esModule=false&filename=[name].js!./build/pdf.worker.js\");\n\nif (typeof window !== \"undefined\" && \"Worker\" in window) {\n  pdfjs.GlobalWorkerOptions.workerPort = new PdfjsWorker();\n}\n\nmodule.exports = pdfjs;\n","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","module.exports = function Worker_fn() {\n  return new Worker(__webpack_public_path__ + \"pdf.worker.js\");\n}\n"],"sourceRoot":""}